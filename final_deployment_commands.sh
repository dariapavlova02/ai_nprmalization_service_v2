#!/bin/bash
echo "üöÄ –§–ò–ù–ê–õ–¨–ù–´–ô –î–ï–ü–õ–û–ô–ú–ï–ù–¢ - –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞"
echo "=================================================="

echo ""
echo "‚úÖ GIT PULL –í–´–ü–û–õ–ù–ï–ù - –≤—Å–µ —Ñ–∏–∫—Å—ã –µ—Å—Ç—å –≤ –∫–æ–¥–µ"
echo "‚ùå DOCKER REBUILD –ù–ï –í–´–ü–û–õ–ù–ï–ù - –∑–∞–ø—É—â–µ–Ω —Å—Ç–∞—Ä—ã–π –æ–±—Ä–∞–∑"
echo ""
echo "üê≥ –í–´–ü–û–õ–ù–ò–¢–ï –≠–¢–ò –ö–û–ú–ê–ù–î–´ –ù–ê –ü–†–û–î–ê–ö–®–ï–ù–ï:"
echo ""
echo "   1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã:"
echo "      docker-compose down"
echo ""
echo "   2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å ai-service —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º:"
echo "      docker-compose build --no-cache ai-service"
echo ""
echo "   3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:"
echo "      docker-compose up -d"
echo ""
echo "   4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (30-60 —Å–µ–∫—É–Ω–¥):"
echo "      docker logs ai-service -f"
echo ""
echo "‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø –í –õ–û–ì–ê–•:"
echo "   - –ù–ï–¢ 'Cannot connect to host localhost:9200'"
echo "   - –ù–ï–¢ 'AC search failed'"
echo "   - –ï–°–¢–¨ —É—Å–ø–µ—à–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ elasticsearch:9200"
echo ""
echo "üß™ –¢–ï–°–¢ –ü–û–°–õ–ï RESTART:"
echo '   curl -X POST http://95.217.84.234:8002/process \'
echo '     -H "Content-Type: application/json" \'
echo '     -d "{\"text\": \"–ü–µ—Ç—Ä–æ –ü–æ—Ä–æ—à–µ–Ω–∫–æ\"}" | jq ".decision.risk_level"'
echo ""
echo "‚úÖ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢:"
echo '   "high"  # –í–º–µ—Å—Ç–æ "low"'
echo ""
echo "üéØ –ü–û–°–õ–ï REBUILD –í–°–ï 5 –§–ò–ö–°–û–í –ó–ê–†–ê–ë–û–¢–ê–Æ–¢!"
