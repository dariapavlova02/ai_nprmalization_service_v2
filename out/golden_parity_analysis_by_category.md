# Анализ Golden Parity по категориям проблем

## 1. Проблемы склонения (Declension Issues)

### Кейсы с проблемами склонения:
- `ru_declension_to_nominative`: Factory не склоняет в именительный падеж
- `mixed_org_noise`: Оба сервиса неправильно склоняют в смешанном контексте

### Анализ:
- **Legacy**: Правильно склоняет русские имена в именительный падеж
- **Factory**: Не применяет склонение, оставляет исходную форму
- **Рекомендация**: Добавить модуль склонения в Factory сервис

## 2. Проблемы уменьшительных имен (Diminutive Names)

### Кейсы с проблемами уменьшительных:
- `ru_diminutive`: Legacy не расшифровывает "Сашка" → "Александр"
- `uk_diminutive`: Legacy не расшифровывает "Петрик" → "Петро"

### Анализ:
- **Legacy**: Не обрабатывает уменьшительные имена
- **Factory**: Правильно расшифровывает уменьшительные
- **Рекомендация**: Добавить обработку уменьшительных в Legacy сервис

## 3. Проблемы английских имен (English Names)

### Кейсы с проблемами английских имен:
- `en_title_suffix`: Неправильная обработка титулов и суффиксов
- `en_nickname`: Неправильная обработка никнеймов
- `en_apostrophe`: Неправильная обработка апострофов
- `en_double_surname`: Неправильная обработка двойных фамилий

### Анализ:
- **Legacy**: Частично обрабатывает, но с ошибками
- **Factory**: Не обрабатывает английские имена корректно
- **Рекомендация**: Переработать логику обработки английских имен в обоих сервисах

## 4. Проблемы фильтрации контекста (Context Filtering)

### Кейсы с проблемами фильтрации:
- `ru_context_words`: Не фильтрует контекстные слова
- `mixed_org_noise`: Не фильтрует организационные данные
- `mixed_diacritics`: Не фильтрует нерелевантные имена

### Анализ:
- **Legacy**: Частично фильтрует, но недостаточно
- **Factory**: Недостаточная фильтрация контекстных слов
- **Рекомендация**: Улучшить фильтрацию контекстных слов в обоих сервисах

## 5. Проблемы идемпотентности (Idempotency Issues)

### Кейсы с проблемами идемпотентности:
- `behavior_idempotent`: Legacy изменяет написание без необходимости

### Анализ:
- **Legacy**: Изменяет "Петр" на "Пётр" без необходимости
- **Factory**: Сохраняет оригинальное написание
- **Рекомендация**: Исправить идемпотентность в Legacy сервисе

## 6. Успешные кейсы (Successful Cases)

### Кейсы с полным совпадением (20 из 31):
- `ru_basic_full`: Базовые русские имена
- `ru_feminine_surname`: Женские фамилии
- `ru_initials`: Инициалы
- `ru_hyphenated_surname`: Дефисные фамилии
- `ru_apostrophe`: Апострофы в русских именах
- `ru_homoglyph`: Гомоглифы
- `ru_multiple_persons`: Множественные имена
- `uk_declension`: Украинские склонения
- `uk_feminine_suffix`: Украинские женские суффиксы
- `uk_initials_preposition`: Украинские инициалы с предлогами
- `uk_ner_gate`: Украинские NER кейсы
- `en_middle_name`: Английские средние имена
- `mixed_languages`: Смешанные языки
- `mixed_function_words`: Функциональные слова
- `ru_single_surname`: Одиночные фамилии
- `uk_passport`: Украинские паспортные данные
- `uk_dob`: Украинские даты рождения
- `behavior_unknown_preserve`: Сохранение неизвестных элементов
- `behavior_case_policy`: Политика регистра
- `behavior_empty_input`: Пустой ввод

## 7. Статистика по языкам

### Русский язык (ru):
- **Всего кейсов**: 12
- **Успешных**: 8 (66.7%)
- **Проблемных**: 4 (33.3%)

### Украинский язык (uk):
- **Всего кейсов**: 8
- **Успешных**: 6 (75%)
- **Проблемных**: 2 (25%)

### Английский язык (en):
- **Всего кейсов**: 4
- **Успешных**: 1 (25%)
- **Проблемных**: 3 (75%)

### Смешанные языки (auto/mixed):
- **Всего кейсов**: 7
- **Успешных**: 5 (71.4%)
- **Проблемных**: 2 (28.6%)

## 8. Рекомендации по приоритизации

### Высокий приоритет:
1. Исправить склонение в Factory сервисе
2. Добавить обработку уменьшительных в Legacy сервисе
3. Переработать обработку английских имен

### Средний приоритет:
1. Улучшить фильтрацию контекстных слов
2. Исправить идемпотентность в Legacy сервисе

### Низкий приоритет:
1. Оптимизация производительности
2. Улучшение обработки edge cases

## 9. Ожидаемый результат после исправлений

После исправления всех критических проблем ожидается:
- **Parity**: 100% (31 из 31 кейсов)
- **Производительность**: Factory сервис останется быстрее
- **Качество**: Улучшенная обработка всех типов имен
