.............................ssss.s..................................... [  4%]
............................................................FFFFFFFFFFFF [  9%]
FFFFFFFFFF..................................sss.ssssss.................. [ 14%]
........................................................................ [ 18%]
........................................................................ [ 23%]
........................................................................ [ 28%]
........................................................................ [ 33%]
........................................................................ [ 37%]
........................................................................ [ 42%]
........................................................................ [ 47%]
........................................................................ [ 51%]
..................................................FFF....FFFFFFFFFFFFFFF [ 56%]
FFFFFF.........F..............................................F.......F. [ 61%]
..FF............F..FF.F................................................. [ 66%]
.FFFFFFFFFFFFFF.FFFFFFFFFF.FF.FFFFFFFFFFFFFF.FFFF..F.FFFFFFFF........... [ 70%]
......F...F.F.................FFFFFFFFFFFFFFFFFFFF...................... [ 75%]
..........................................F.F.F..F...FFF..F.......F....F [ 80%]
....................FF........FF.FF......F.FFF...FF....FFF.FF.FFFFFFFFFF [ 84%]
FFFFFFFFFFFFFFFFFFF.F..............................F.................... [ 89%]
..................................................F.....F........FFF.F.. [ 94%]
............................F...........F............................... [ 99%]
..............                                                           [100%]
=================================== FAILURES ===================================
________ TestNormalizationContracts.test_normalization_result_structure ________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestNormalizationContracts.test_token_trace_completeness ___________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
________ TestNormalizationContracts.test_organizations_core_separation _________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
____________ TestNormalizationContracts.test_persons_core_structure ____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
__________ TestNormalizationContracts.test_flag_behavior_real_impact ___________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________ TestNormalizationContracts.test_org_acronyms_always_unknown __________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
__________ TestNormalizationContracts.test_ascii_no_morph_in_cyrillic __________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
__________ TestNormalizationContracts.test_womens_surnames_preserved ___________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________ TestNormalizationContracts.test_serialization_compatibility __________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestNormalizationContracts.test_performance_requirements ___________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
________________ TestNormalizationContracts.test_error_handling ________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______________ TestSmartFilterAdapter.test_should_process_basic _______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
______________ TestSmartFilterAdapter.test_classification_mapping ______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____________ TestSmartFilterAdapter.test_name_signals_extraction ______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
____________ TestSmartFilterAdapter.test_company_signals_extraction ____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
____________ TestSmartFilterAdapter.test_payment_signals_extraction ____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____________ TestSmartFilterAdapter.test_error_handling_fallback ______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____________ TestSmartFilterAdapter.test_initialization_required ______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____________ TestSmartFilterAdapter.test_signal_names_extraction ______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____________ TestSmartFilterAdapter.test_processing_time_tracking _____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
__________ TestSmartFilterAdapterIntegration.test_full_initialization __________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________ TestSmartFilterAdapterIntegration.test_claude_md_compliance __________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestUnifiedOrchestrator.test_process_basic_functionality ___________
tests/unit/test_orchestrator_service_fixed.py:98: in test_process_basic_functionality
    assert result.success is True
E   assert False is True
E    +  where False = UnifiedProcessingResult(original_text='Test text', language='unknown', language_confidence=0.0, normalized_text='', to...None, processing_time=5.698204040527344e-05, success=False, errors=["object Mock can't be used in 'await' expression"]).success
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: object Mock can't be used in 'await' expression
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 202, in process
    filter_result = await self.smart_filter_service.should_process(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        context.sanitized_text
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: object Mock can't be used in 'await' expression
_________ TestUnifiedOrchestrator.test_process_with_smart_filter_skip __________
tests/unit/test_orchestrator_service_fixed.py:126: in test_process_with_smart_filter_skip
    assert result.success is True
E   assert False is True
E    +  where False = UnifiedProcessingResult(original_text='Test text', language='unknown', language_confidence=0.0, normalized_text='', to...=None, processing_time=0.000354766845703125, success=False, errors=["object Mock can't be used in 'await' expression"]).success
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: object Mock can't be used in 'await' expression
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 202, in process
    filter_result = await self.smart_filter_service.should_process(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        context.sanitized_text
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: object Mock can't be used in 'await' expression
__________ TestUnifiedOrchestrator.test_process_with_validation_error __________
tests/unit/test_orchestrator_service_fixed.py:145: in test_process_with_validation_error
    assert 'Invalid input' in result.errors
E   assert 'Invalid input' in ["object Mock can't be used in 'await' expression"]
E    +  where ["object Mock can't be used in 'await' expression"] = UnifiedProcessingResult(original_text='Invalid text', language='unknown', language_confidence=0.0, normalized_text='',...None, processing_time=0.0003058910369873047, success=False, errors=["object Mock can't be used in 'await' expression"]).errors
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: object Mock can't be used in 'await' expression
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 202, in process
    filter_result = await self.smart_filter_service.should_process(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        context.sanitized_text
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: object Mock can't be used in 'await' expression
___________ TestOrchestratorService.test_process_basic_functionality ___________
tests/unit/test_orchestrator_service_old.py:41: in test_process_basic_functionality
    assert result.normalized_text == 'test text'
E   AssertionError: assert 'Test text' == 'test text'
E     
E     - test text
E     ? ^
E     + Test text
E     ? ^
_____________ TestOrchestratorService.test_process_with_cache_hit ______________
tests/unit/test_orchestrator_service_old.py:52: in test_process_with_cache_hit
    cached_result = UnifiedProcessingResult(
E   TypeError: UnifiedProcessingResult.__init__() missing 3 required positional arguments: 'tokens', 'trace', and 'signals'
_____________ TestOrchestratorService.test_process_with_cache_miss _____________
tests/unit/test_orchestrator_service_old.py:79: in test_process_with_cache_miss
    with patch.object(orchestrator_service.cache_service, 'get') as mock_get, \
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'cache_service'. Did you mean: 'unicode_service'?
_____________ TestOrchestratorService.test_process_with_embeddings _____________
tests/unit/test_orchestrator_service_old.py:107: in test_process_with_embeddings
    patch.object(orchestrator_service.embedding_service, 'get_embeddings') as mock_embeddings:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'embedding_service'. Did you mean: 'embeddings_service'?
_____________ TestOrchestratorService.test_process_error_handling ______________
tests/unit/test_orchestrator_service_old.py:143: in test_process_error_handling
    assert orchestrator_service.processing_stats['failed'] == 1
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'processing_stats'
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: Unicode service error
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 232, in process
    unicode_result = self.unicode_service.normalize_text(
        context.sanitized_text
    )
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Unicode service error
__________________ TestOrchestratorService.test_process_batch __________________
tests/unit/test_orchestrator_service_old.py:154: in test_process_batch
    UnifiedProcessingResult(
E   TypeError: UnifiedProcessingResult.__init__() missing 3 required positional arguments: 'tokens', 'trace', and 'signals'
__________ TestOrchestratorService.test_process_batch_with_exceptions __________
tests/unit/test_orchestrator_service_old.py:182: in test_process_batch_with_exceptions
    UnifiedProcessingResult(
E   TypeError: UnifiedProcessingResult.__init__() missing 3 required positional arguments: 'tokens', 'trace', and 'signals'
______ TestOrchestratorService.test_search_similar_names_with_embeddings _______
tests/unit/test_orchestrator_service_old.py:208: in test_search_similar_names_with_embeddings
    with patch.object(orchestrator_service.embedding_service, 'find_similar_texts') as mock_search:
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'embedding_service'. Did you mean: 'embeddings_service'?
__________ TestOrchestratorService.test_search_similar_names_fallback __________
tests/unit/test_orchestrator_service_old.py:238: in test_search_similar_names_fallback
    with patch.object(orchestrator_service.embedding_service, 'find_similar_texts') as mock_search, \
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'embedding_service'. Did you mean: 'embeddings_service'?
_____________ TestOrchestratorService.test_analyze_text_complexity _____________
tests/unit/test_orchestrator_service_old.py:265: in test_analyze_text_complexity
    patch.object(orchestrator_service.signal_service, 'get_name_signals') as mock_signals:
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'signal_service'. Did you mean: 'signals_service'?
______________ TestOrchestratorService.test_get_processing_stats _______________
tests/unit/test_orchestrator_service_old.py:304: in test_get_processing_stats
    orchestrator_service.processing_stats['total_processed'] = 10
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'processing_stats'
___________________ TestOrchestratorService.test_clear_cache ___________________
tests/unit/test_orchestrator_service_old.py:324: in test_clear_cache
    orchestrator_service.clear_cache()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'clear_cache'
___________________ TestOrchestratorService.test_reset_stats ___________________
tests/unit/test_orchestrator_service_old.py:333: in test_reset_stats
    orchestrator_service.processing_stats['total_processed'] = 5
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'processing_stats'
_______________ TestOrchestratorService.test_generate_cache_key ________________
tests/unit/test_orchestrator_service_old.py:346: in test_generate_cache_key
    key1 = orchestrator_service._generate_cache_key("test", True, False)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute '_generate_cache_key'
__________________ TestOrchestratorService.test_update_stats ___________________
tests/unit/test_orchestrator_service_old.py:359: in test_update_stats
    initial_processed = orchestrator_service.processing_stats['total_processed']
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'processing_stats'
___________ TestOrchestratorService.test_calculate_complexity_score ____________
tests/unit/test_orchestrator_service_old.py:381: in test_calculate_complexity_score
    score = orchestrator_service._calculate_complexity_score(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute '_calculate_complexity_score'
_______ TestOrchestratorService.test_generate_complexity_recommendations _______
tests/unit/test_orchestrator_service_old.py:394: in test_generate_complexity_recommendations
    low_recommendations = orchestrator_service._generate_complexity_recommendations(0.2)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute '_generate_complexity_recommendations'
__________ TestOrchestratorService.test_force_reprocess_ignores_cache __________
tests/unit/test_orchestrator_service_old.py:415: in test_force_reprocess_ignores_cache
    cached_result = UnifiedProcessingResult(
E   TypeError: UnifiedProcessingResult.__init__() missing 3 required positional arguments: 'tokens', 'trace', and 'signals'
___________ TestOrchestratorService.test_orchestrator_initialization ___________
tests/unit/test_orchestrator_service_old.py:449: in test_orchestrator_initialization
    assert orchestrator.cache_service.max_size == 100  # From fixture
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'UnifiedOrchestrator' object has no attribute 'cache_service'. Did you mean: 'unicode_service'?
________ TestOrchestratorService.test_process_language_service_failure _________
tests/unit/test_orchestrator_service_old.py:489: in test_process_language_service_failure
    assert result.language == 'en'  # Should use fallback
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 'uk' == 'en'
E     
E     - en
E     + uk
_____ TestOrchestratorService.test_process_normalization_service_exception _____
tests/unit/test_orchestrator_service_old.py:518: in test_process_normalization_service_exception
    assert result.success is False
E   AssertionError: assert True is False
E    +  where True = UnifiedProcessingResult(original_text='Test text for normalization service exception', language='uk', language_confide...28c20>, variants=None, embeddings=None, decision=None, processing_time=0.00019884109497070312, success=True, errors=[]).success
______________ TestPatternService.test_case_sensitivity_handling _______________
tests/unit/test_pattern_service.py:192: in test_case_sensitivity_handling
    assert len(patterns) > 0
E   assert 0 > 0
E    +  where 0 = len([])
____________ TestRussianMorphologyAnalyzer.test_analyze_word_basic _____________
tests/unit/test_russian_morphology_unit.py:63: in test_analyze_word_basic
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'Сергей', ...}, MorphologicalAnalysis)
______________ TestRussianMorphologyAnalyzer.test_is_russian_name ______________
tests/unit/test_russian_morphology_unit.py:184: in test_is_russian_name
    assert self.analyzer.is_known_word('Сергей') == True
E   AssertionError: assert False == True
E    +  where False = is_known_word('Сергей')
E    +    where is_known_word = <src.ai_service.layers.normalization.morphology.russian_morphology.RussianMorphologyAnalyzer object at 0x5a5a1a550>.is_known_word
E    +      where <src.ai_service.layers.normalization.morphology.russian_morphology.RussianMorphologyAnalyzer object at 0x5a5a1a550> = <tests.unit.test_russian_morphology_unit.TestRussianMorphologyAnalyzer object at 0x152d7bb50>.analyzer
____________ TestRussianMorphologyAnalyzer.test_analyze_name_basic _____________
tests/unit/test_russian_morphology_unit.py:250: in test_analyze_name_basic
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'Сергей', ...}, MorphologicalAnalysis)
________ TestRussianMorphologyAnalyzer.test_analyze_name_with_language _________
tests/unit/test_russian_morphology_unit.py:263: in test_analyze_name_with_language
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'Сергей', ...}, MorphologicalAnalysis)
_____ TestSmartFilterService.test_initialization_with_terrorism_detection ______
tests/unit/test_smart_filter_service.py:37: in test_initialization_with_terrorism_detection
    with patch('ai_service.layers.smart_filter.smart_filter_service.SignalService'):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1497: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1467: in get_original
    raise AttributeError(
E   AttributeError: <module 'ai_service.layers.smart_filter.smart_filter_service' from '/Users/dariapavlova/Desktop/ai-service/src/ai_service/layers/smart_filter/smart_filter_service.py'> does not have the attribute 'SignalService'
_______________ TestSmartFilterService.test_make_smart_decision ________________
tests/unit/test_smart_filter_service.py:100: in test_make_smart_decision
    with patch('ai_service.layers.smart_filter.smart_filter_service.SignalService'):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1497: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1467: in get_original
    raise AttributeError(
E   AttributeError: <module 'ai_service.layers.smart_filter.smart_filter_service' from '/Users/dariapavlova/Desktop/ai-service/src/ai_service/layers/smart_filter/smart_filter_service.py'> does not have the attribute 'SignalService'
______________ TestSmartFilterService.test_service_words_cleaning ______________
tests/unit/test_smart_filter_service.py:195: in test_service_words_cleaning
    self.assertNotEqual(cleaned, text_with_service_words)
E   AssertionError: 'оплата за консультацію Петров Іван' == 'оплата за консультацію Петров Іван'
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.smart_filter.smart_filter_service:smart_filter_service.py:479 _clean_service_words is deprecated - use context-aware analysis instead
___________ TestSmartFilterService.test_should_process_text_excluded ___________
tests/unit/test_smart_filter_service.py:59: in test_should_process_text_excluded
    self.assertIn("исключен", result.processing_recommendation)
E   AssertionError: 'исключен' not found in 'Text excluded from processing (service information only)'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0421\u0435\u0440\u0433\u0456\u0439-masc-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041e\u043b\u0435\u043d\u0430-femn-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'femn', 'lemma': 'олена', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Олена': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-masc-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'володимир', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Володимир': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0414\u0430\u0440\u0456\u044f-femn-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'femn', 'lemma': 'дарія', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарія': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041f\u0435\u0442\u0440\u043e-masc-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0410\u043d\u043d\u0430-femn-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'femn', 'lemma': 'анна', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Анна': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041c\u0438\u0445\u0430\u0439\u043b\u043e-masc-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'михайло', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Михайло': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430-femn-uk] _
tests/unit/test_ukrainian_morphology.py:37: in test_gender_detection_for_ukrainian_names
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'femn', 'lemma': 'катерина', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Катерина': 'MorphologicalAnalysis' object has no attribute 'get'
_________ TestUkrainianMorphologyAnalyzer.test_diminutives_generation __________
tests/unit/test_ukrainian_morphology.py:257: in test_diminutives_generation
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_______ TestUkrainianMorphologyAnalyzer.test_transliteration_generation ________
tests/unit/test_ukrainian_morphology.py:268: in test_transliteration_generation
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e-expected_endings0] _
tests/unit/test_ukrainian_morphology.py:86: in test_ukrainian_surname_endings
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': 'masc', 'lemma': 'петренко', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петренко': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u0406\u0432\u0430\u043d\u0435\u043d\u043a\u043e-expected_endings1] _
tests/unit/test_ukrainian_morphology.py:86: in test_ukrainian_surname_endings
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': 'masc', 'lemma': 'іваненко', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Іваненко': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u041c\u0435\u043b\u044c\u043d\u0438\u043a-expected_endings2] _
tests/unit/test_ukrainian_morphology.py:86: in test_ukrainian_surname_endings
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': None, 'lemma': 'мельник', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Мельник': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e-expected_endings3] _
tests/unit/test_ukrainian_morphology.py:86: in test_ukrainian_surname_endings
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': 'masc', 'lemma': 'шевченко', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Шевченко': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_edge_cases_handling[\u0410-expected_result1] _
tests/unit/test_ukrainian_morphology.py:103: in test_edge_cases_handling
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.1, 'gender': None, 'lemma': 'А', ...}, MorphologicalAnalysis)
_ TestUkrainianMorphologyAnalyzer.test_edge_cases_handling[\u0421\u0435\u0440\u0433\u0456\u0439-expected_result2] _
tests/unit/test_ukrainian_morphology.py:103: in test_edge_cases_handling
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u0421\u0435\u0440\u0433\u0456\u0439-expected_ukrainian_chars0] _
tests/unit/test_ukrainian_morphology.py:121: in test_ukrainian_character_detection
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u041e\u043b\u0435\u043a\u0441\u0456\u0439-expected_ukrainian_chars1] _
tests/unit/test_ukrainian_morphology.py:121: in test_ukrainian_character_detection
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'олексій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Олексій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-expected_ukrainian_chars2] _
tests/unit/test_ukrainian_morphology.py:121: in test_ukrainian_character_detection
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'володимир', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Володимир': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u0414\u0430\u0440\u0456\u044f-expected_ukrainian_chars3] _
tests/unit/test_ukrainian_morphology.py:121: in test_ukrainian_character_detection
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'femn', 'lemma': 'дарія', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарія': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u041f\u0435\u0442\u0440\u043e-expected_ukrainian_chars4] _
tests/unit/test_ukrainian_morphology.py:121: in test_ukrainian_character_detection
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_name_complexity_analysis _________
tests/unit/test_ukrainian_morphology.py:339: in test_name_complexity_analysis
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_________ TestUkrainianMorphologyAnalyzer.test_gender_correction_logic _________
tests/unit/test_ukrainian_morphology.py:166: in test_gender_correction_logic
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
____ TestUkrainianMorphologyAnalyzer.test_analyze_name_basic_functionality _____
tests/unit/test_ukrainian_morphology.py:177: in test_analyze_name_basic_functionality
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
___________ TestUkrainianMorphologyAnalyzer.test_short_name_handling ___________
tests/unit/test_ukrainian_morphology.py:199: in test_short_name_handling
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.1, 'gender': None, 'lemma': 'А', ...}, MorphologicalAnalysis)
_________ TestUkrainianMorphologyAnalyzer.test_auto_language_detection _________
tests/unit/test_ukrainian_morphology.py:217: in test_auto_language_detection
    assert isinstance(uk_result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергей': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_gender_exceptions_dictionary _______
tests/unit/test_ukrainian_morphology.py:238: in test_gender_exceptions_dictionary
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_phonetic_variants_generation _______
tests/unit/test_ukrainian_morphology.py:282: in test_phonetic_variants_generation
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_regional_transliterations ________
tests/unit/test_ukrainian_morphology.py:296: in test_regional_transliterations
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
__________ TestUkrainianMorphologyAnalyzer.test_get_all_forms_method ___________
tests/unit/test_ukrainian_morphology.py:307: in test_get_all_forms_method
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_______ TestUkrainianMorphologyAnalyzer.test_is_ukrainian_name_detection _______
tests/unit/test_ukrainian_morphology.py:324: in test_is_ukrainian_name_detection
    assert isinstance(result1, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Богдан': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Іваненко': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_complexity_level_calculation _______
tests/unit/test_ukrainian_morphology.py:348: in test_complexity_level_calculation
    assert result.confidence >= 0.0
           ^^^^^^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'confidence'
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
__________ TestUkrainianMorphologyAnalyzer.test_basic_transliteration __________
tests/unit/test_ukrainian_morphology.py:359: in test_basic_transliteration
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_______ TestUkrainianMorphologyAnalyzer.test_language_detection_internal _______
tests/unit/test_ukrainian_morphology.py:373: in test_language_detection_internal
    assert isinstance(result1, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергей': 'MorphologicalAnalysis' object has no attribute 'get'
___ TestUkrainianMorphologyAnalyzer.test_pymorphy_analysis_failure_handling ____
tests/unit/test_ukrainian_morphology.py:389: in test_pymorphy_analysis_failure_handling
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': None, 'lemma': 'тест', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Тест': Pymorphy analysis failed
______ TestUkrainianMorphologyAnalyzer.test_generate_pymorphy_declensions ______
tests/unit/test_ukrainian_morphology.py:400: in test_generate_pymorphy_declensions
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_extract_gender_with_name_tags ______
tests/unit/test_ukrainian_morphology.py:411: in test_extract_gender_with_name_tags
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': 'femn', 'lemma': 'дарья', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарья': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_extract_gender_by_endings ________
tests/unit/test_ukrainian_morphology.py:425: in test_extract_gender_by_endings
    assert isinstance(result1, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': None, 'lemma': 'новий', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Новий': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Нова': 'MorphologicalAnalysis' object has no attribute 'get'
_____ TestUkrainianMorphologyAnalyzer.test_apply_regional_transliteration ______
tests/unit/test_ukrainian_morphology.py:438: in test_apply_regional_transliteration
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_whitespace_name_handling _________
tests/unit/test_ukrainian_morphology.py:449: in test_whitespace_name_handling
    assert isinstance(result, MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'сергій', ...}, MorphologicalAnalysis)
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
___ TestUkrainianMorphologyAnalyzer.test_analyze_word_gender_detection_petro ___
tests/unit/test_ukrainian_morphology_unit.py:63: in test_analyze_word_gender_detection_petro
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
___ TestUkrainianMorphologyAnalyzer.test_analyze_word_gender_detection_daria ___
tests/unit/test_ukrainian_morphology_unit.py:79: in test_analyze_word_gender_detection_daria
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'femn', 'lemma': 'дарія', ...}, MorphologicalAnalysis)
________ TestUkrainianMorphologyAnalyzer.test_analyze_word_unknown_name ________
tests/unit/test_ukrainian_morphology_unit.py:96: in test_analyze_word_unknown_name
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': None, 'lemma': 'тест', ...}, MorphologicalAnalysis)
_________ TestUkrainianMorphologyAnalyzer.test_analyze_word_short_name _________
tests/unit/test_ukrainian_morphology_unit.py:106: in test_analyze_word_short_name
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.3, 'gender': None, 'lemma': 'абвгд', ...}, MorphologicalAnalysis)
_______ TestUkrainianMorphologyAnalyzer.test_is_known_word_special_name ________
tests/unit/test_ukrainian_morphology_unit.py:147: in test_is_known_word_special_name
    assert result is True
E   assert False is True
_________ TestUkrainianMorphologyAnalyzer.test_get_gender_special_name _________
tests/unit/test_ukrainian_morphology_unit.py:174: in test_get_gender_special_name
    assert result.gender == 'masc'  # Petro is masculine
           ^^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'gender'
_________ TestUkrainianMorphologyAnalyzer.test_get_gender_unknown_name _________
tests/unit/test_ukrainian_morphology_unit.py:185: in test_get_gender_unknown_name
    assert isinstance(result.lemma, str)
                      ^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'lemma'
________ TestUkrainianMorphologyAnalyzer.test_get_variants_special_name ________
tests/unit/test_ukrainian_morphology_unit.py:198: in test_get_variants_special_name
    assert isinstance(result.lemma, str)
                      ^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'lemma'
________ TestUkrainianMorphologyAnalyzer.test_get_variants_unknown_name ________
tests/unit/test_ukrainian_morphology_unit.py:211: in test_get_variants_unknown_name
    assert isinstance(result.lemma, str)
                      ^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'lemma'
______ TestUkrainianMorphologyAnalyzer.test_get_diminutives_special_name _______
tests/unit/test_ukrainian_morphology_unit.py:223: in test_get_diminutives_special_name
    assert isinstance(result.lemma, str)
                      ^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'lemma'
______ TestUkrainianMorphologyAnalyzer.test_get_diminutives_unknown_name _______
tests/unit/test_ukrainian_morphology_unit.py:237: in test_get_diminutives_unknown_name
    assert isinstance(result.lemma, str)
                      ^^^^^^^^^^^^
E   AttributeError: 'dict' object has no attribute 'lemma'
____ TestUkrainianMorphologyAnalyzer.test_analyze_name_basic_functionality _____
tests/unit/test_ukrainian_morphology_unit.py:250: in test_analyze_name_basic_functionality
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
__ TestUkrainianMorphologyAnalyzer.test_analyze_name_with_language_detection ___
tests/unit/test_ukrainian_morphology_unit.py:262: in test_analyze_name_with_language_detection
    assert isinstance(result[0], MorphologicalAnalysis)
E   AssertionError: assert False
E    +  where False = isinstance({'case': None, 'confidence': 0.8, 'gender': 'masc', 'lemma': 'петро', ...}, MorphologicalAnalysis)
____________________ TestUnicodeService.test_final_cleanup _____________________
tests/unit/test_unicode_service.py:181: in test_final_cleanup
    assert normalized == "multiple spaces"  # Should be cleaned and converted to lowercase
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 'Multiple spaces' == 'multiple spaces'
E     
E     - multiple spaces
E     ? ^
E     + Multiple spaces
E     ? ^
________ TestUnicodeService.test_unicode_normalization_failure_handling ________
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1423: in patched
    with self.decoration_helper(patched,
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py:141: in __enter__
    return next(self.gen)
           ^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1405: in decoration_helper
    arg = exit_stack.enter_context(patching)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/contextlib.py:530: in enter_context
    result = _enter(cm)
             ^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1481: in __enter__
    self.target = self.getter()
                  ^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/pkgutil.py:528: in resolve_name
    result = getattr(result, p)
             ^^^^^^^^^^^^^^^^^^
E   AttributeError: module 'src.ai_service.services' has no attribute 'unicode_service'
__________________ TestUnicodeService.test_case_normalization __________________
tests/unit/test_unicode_service.py:265: in test_case_normalization
    assert result['normalized'].islower()
E   AssertionError: assert False
E    +  where False = <built-in method islower of str object at 0x536a937b0>()
E    +    where <built-in method islower of str object at 0x536a937b0> = 'MiXeD CaSe TeXt'.islower
________________ TestUnifiedOrchestrator.test_complete_pipeline ________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
______ TestUnifiedOrchestrator.test_normalization_flags_passed_correctly _______
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestUnifiedOrchestrator.test_smart_filter_skip_behavior ____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestUnifiedOrchestrator.test_optional_services_disabled ____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________________ TestUnifiedOrchestrator.test_error_handling __________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______________ TestUnifiedOrchestrator.test_performance_warning _______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________ TestUnifiedOrchestrator.test_backward_compatibility_methods __________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______________ TestUnifiedOrchestrator.test_signals_integration _______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______________ TestUnifiedOrchestrator.test_trace_preservation ________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
__________________ TestUnifiedOrchestrator.test_language_hint __________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
______________ TestUnifiedOrchestrator.test_result_serialization _______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___ TestUnifiedOrchestratorConstructor.test_constructor_with_valid_services ____
tests/unit/test_unified_orchestrator.py:424: in test_constructor_with_valid_services
    validation_service=mock_services["validation_service"],
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
_ TestUnifiedOrchestratorConstructor.test_constructor_with_none_validation_service _
tests/unit/test_unified_orchestrator.py:442: in test_constructor_with_none_validation_service
    language_service=mock_services["language_service"],
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
_ TestUnifiedOrchestratorConstructor.test_constructor_with_none_language_service _
tests/unit/test_unified_orchestrator.py:452: in test_constructor_with_none_language_service
    validation_service=mock_services["validation_service"],
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
_ TestUnifiedOrchestratorConstructor.test_constructor_with_none_unicode_service _
tests/unit/test_unified_orchestrator.py:463: in test_constructor_with_none_unicode_service
    validation_service=mock_services["validation_service"],
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
_ TestUnifiedOrchestratorConstructor.test_constructor_with_none_normalization_service _
tests/unit/test_unified_orchestrator.py:474: in test_constructor_with_none_normalization_service
    validation_service=mock_services["validation_service"],
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
_ TestUnifiedOrchestratorConstructor.test_constructor_with_none_signals_service _
tests/unit/test_unified_orchestrator.py:485: in test_constructor_with_none_signals_service
    validation_service=mock_services["validation_service"],
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
_ TestUnifiedOrchestratorConstructor.test_constructor_with_optional_services_none _
tests/unit/test_unified_orchestrator.py:495: in test_constructor_with_optional_services_none
    validation_service=mock_services["validation_service"],
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: 'coroutine' object is not subscriptable
______________ TestUnifiedOrchestratorEdgeCases.test_empty_input _______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____ TestUnifiedOrchestratorEdgeCases.test_service_initialization_failure _____
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_ test_ukrainian_full_normalization[\u0414\u043b\u044f \u0416\u0435\u043d\u0456 \u0413\u0430\u043b\u0438\u0447\u0430 \u0437 \u0433\u0440\u0443\u043f\u0438 O.Torvald-\u0404\u0432\u0433\u0435\u043d \u0413\u0430\u043b\u0438\u0447] _
tests/unit/text_processing/test_normalization_logic.py:48: in test_ukrainian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Євген Галич', but got 'Євген Галич З.'
E   assert 'Євген Галич З.' == 'Євген Галич'
E     
E     - Євген Галич
E     + Євген Галич З.
E     ?            +++
_ test_ukrainian_full_normalization[\u0417\u0443\u0441\u0442\u0440\u0456\u0447 \u0437 \u041b\u0456\u043d\u043e\u044e \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e-\u041b\u0456\u043d\u0430 \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e] _
tests/unit/text_processing/test_normalization_logic.py:48: in test_ukrainian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Ліна Костенко', but got 'З. Ліна Костенко'
E   assert 'З. Ліна Костенко' == 'Ліна Костенко'
E     
E     - Ліна Костенко
E     + З. Ліна Костенко
E     ? +++
_ test_ukrainian_full_normalization[\u0420\u043e\u0437\u043c\u043e\u0432\u043b\u044f\u0432 \u0437 \u0412\u0430\u043b\u0435\u0440\u0456\u0454\u043c \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u043c-\u0412\u0430\u043b\u0435\u0440\u0456\u0439 \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u0439] _
tests/unit/text_processing/test_normalization_logic.py:48: in test_ukrainian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Валерій Залужний', but got 'З. Валерій Залужний'
E   assert 'З. Валерій Залужний' == 'Валерій Залужний'
E     
E     - Валерій Залужний
E     + З. Валерій Залужний
E     ? +++
_ test_ukrainian_full_normalization[\u0414\u043b\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u0430 \u0421.\u0412.-\u0406\u0432\u0430\u043d\u043e\u0432-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e \u0421.\u0412.] _
tests/unit/text_processing/test_normalization_logic.py:48: in test_ukrainian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Іванов-Петренко С.В.', but got 'Іванов-Петренко С. В.'
E   assert 'Іванов-Петренко С. В.' == 'Іванов-Петренко С.В.'
E     
E     - Іванов-Петренко С.В.
E     + Іванов-Петренко С. В.
E     ?                   +
_ test_russian_full_normalization[\u0414\u043b\u044f \u0410\u043b\u043b\u044b \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u044b \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u043e\u0439-\u0410\u043b\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u0430 \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u0430] _
tests/unit/text_processing/test_normalization_logic.py:111: in test_russian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Алла Борисовна Пугачева', but got 'Аллы Борисовн Пугачев'
E   assert 'Аллы Борисовн Пугачев' == 'Алла Борисовна Пугачева'
E     
E     - Алла Борисовна Пугачева
E     ?    ^         -        -
E     + Аллы Борисовн Пугачев
E     ?    ^
_ test_russian_full_normalization[\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u041f\u0435\u0442\u0440\u0443 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443-\u041f\u0435\u0442\u0440 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u0438\u0439] _
tests/unit/text_processing/test_normalization_logic.py:111: in test_russian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Петр Чайковский', but got 'Петр Чайковском'
E   assert 'Петр Чайковском' == 'Петр Чайковский'
E     
E     - Петр Чайковский
E     ?              ^^
E     + Петр Чайковском
E     ?              ^^
_ test_russian_full_normalization[\u0412\u0441\u0442\u0440\u0435\u0447\u0430 \u0441 \u0410\u043d\u043d\u043e\u0439 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u043e\u0439-\u0410\u043d\u043d\u0430 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u0430] _
tests/unit/text_processing/test_normalization_logic.py:111: in test_russian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Анна Ахматова', but got 'С. Анна Ахматова'
E   assert 'С. Анна Ахматова' == 'Анна Ахматова'
E     
E     - Анна Ахматова
E     + С. Анна Ахматова
E     ? +++
_ test_russian_full_normalization[\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u0442 \u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432\u0430 \u041c.\u042e.-\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432 \u041c.\u042e.] _
tests/unit/text_processing/test_normalization_logic.py:111: in test_russian_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Лермонтов М.Ю.', but got 'Лермонтов М. Ю.'
E   assert 'Лермонтов М. Ю.' == 'Лермонтов М.Ю.'
E     
E     - Лермонтов М.Ю.
E     + Лермонтов М. Ю.
E     ?             +
___ test_english_full_normalization[Sent to ELON MUSK for X corp-Elon Musk] ____
tests/unit/text_processing/test_normalization_logic.py:130: in test_english_full_normalization
    assert_normalized_name(result, expected_name)
tests/unit/text_processing/test_normalization_logic.py:18: in assert_normalized_name
    assert result.normalized == expected_name, f"Expected '{expected_name}', but got '{result.normalized}'"
E   AssertionError: Expected 'Elon Musk', but got 'Elon Musk X'
E   assert 'Elon Musk X' == 'Elon Musk'
E     
E     - Elon Musk
E     + Elon Musk X
E     ?          ++
_ TestNormalizationResultFields.test_normalization_result_basic_serialization __
tests/unit/text_processing/test_normalization_result_fields.py:110: in test_normalization_result_basic_serialization
    result_dict = dataclasses.asdict(result)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/dataclasses.py:1358: in asdict
    raise TypeError("asdict() should be called on dataclass instances")
E   TypeError: asdict() should be called on dataclass instances
_________ TestNormalizationService.test_normalize_russian_complex_text _________
tests/unit/text_processing/test_normalization_service.py:226: in test_normalize_russian_complex_text
    assert "Анна" in result.normalized
E   AssertionError: assert 'Анна' in 'Иван Петров Анны Смирнов'
E    +  where 'Иван Петров Анны Смирнов' = NormalizationResult(normalized='Иван Петров Анны Смирнов', tokens=['Иван', 'Петров', 'Анны', 'Смирнов'], trace=[TokenT...re_female': 0, 'score_male': 7, 'gap': 7}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
________ TestNormalizationService.test_normalize_ukrainian_complex_text ________
tests/unit/text_processing/test_normalization_service.py:237: in test_normalize_ukrainian_complex_text
    assert "Анна" in result.normalized
E   AssertionError: assert 'Анна' in 'Іван Петров Анни Смірнов'
E    +  where 'Іван Петров Анни Смірнов' = NormalizationResult(normalized='Іван Петров Анни Смірнов', tokens=['Іван', 'Петров', 'Анни', 'Смірнов'], trace=[TokenT...re_female': 0, 'score_male': 7, 'gap': 7}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_____________ TestNormalizationService.test_normalize_english_text _____________
tests/unit/text_processing/test_normalization_service_fixed.py:48: in test_normalize_english_text
    assert "Hello world" in result.normalized
E   AssertionError: assert 'Hello world' in 'Hello World'
E    +  where 'Hello World' = NormalizationResult(normalized='Hello World', tokens=['Hello', 'World'], trace=[TokenTrace(token='Hello', role='given'...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_____________ TestNormalizationService.test_normalize_russian_text _____________
tests/unit/text_processing/test_normalization_service_fixed.py:56: in test_normalize_russian_text
    assert "Привет" in result.normalized
E   AssertionError: assert 'Привет' in ''
E    +  where '' = NormalizationResult(normalized='', tokens=[], trace=[], errors=[], language='ru', confidence=1.0, original_length=10, ..._core=[], organizations_core=[], persons=[], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
____________ TestNormalizationService.test_normalize_with_fallback _____________
tests/unit/text_processing/test_normalization_service_fixed.py:72: in test_normalize_with_fallback
    assert "Hello world" in result.normalized
E   AssertionError: assert 'Hello world' in 'Hello World'
E    +  where 'Hello World' = NormalizationResult(normalized='Hello World', tokens=['Hello', 'World'], trace=[TokenTrace(token='Hello', role='given'...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_____ TestNormalizationService.test_normalize_with_auto_language_detection _____
tests/unit/text_processing/test_normalization_service_fixed.py:76: in test_normalize_with_auto_language_detection
    result = service.normalize("Hello world", language="auto")
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
src/ai_service/utils/performance.py:21: in wrapper
    result = func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^
src/ai_service/utils/performance.py:54: in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
src/ai_service/layers/normalization/normalization_service.py:390: in normalize
    return self._normalize_sync(
src/ai_service/layers/normalization/normalization_service.py:568: in _normalize_sync
    return NormalizationResult(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for NormalizationResult
E   language
E     Input should be a valid string [type=string_type, input_value=<Mock name='LanguageDetec...guage' id='23498272320'>, input_type=Mock]
E       For further information visit https://errors.pydantic.dev/2.11/v/string_type
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.normalization.normalization_service:normalization_service.py:561 Normalization failed: 2 validation errors for NormalizationResult
language
  Input should be a valid string [type=string_type, input_value=<Mock name='LanguageDetec...guage' id='23498272320'>, input_type=Mock]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
confidence
  Input should be a valid number [type=float_type, input_value=<Mock name='LanguageDetec...dence' id='23498272656'>, input_type=Mock]
    For further information visit https://errors.pydantic.dev/2.11/v/float_type
ERROR    ai_service.utils.performance:performance.py:34 Error in normalize after 0.003s: 1 validation error for NormalizationResult
language
  Input should be a valid string [type=string_type, input_value=<Mock name='LanguageDetec...guage' id='23498272320'>, input_type=Mock]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
_______ TestNormalizationService.test_normalize_with_special_characters ________
tests/unit/text_processing/test_normalization_service_fixed.py:132: in test_normalize_with_special_characters
    assert "O'Connor" in result.normalized
E   assert "O'Connor" in "O'connor"
E    +  where "O'connor" = NormalizationResult(normalized="O'connor", tokens=["O'connor"], trace=[TokenTrace(token="O'Connor", role='given', rule...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_____________ TestNormalizationService.test_normalize_sync_method ______________
tests/unit/text_processing/test_normalization_service_fixed.py:147: in test_normalize_sync_method
    assert "Hello world" in result.normalized
E   AssertionError: assert 'Hello world' in 'Hello World'
E    +  where 'Hello World' = NormalizationResult(normalized='Hello World', tokens=['Hello', 'World'], trace=[TokenTrace(token='Hello', role='given'...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_____________ TestNormalizationService.test_normalize_async_method _____________
tests/unit/text_processing/test_normalization_service_fixed.py:158: in test_normalize_async_method
    asyncio.run(run_test())
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py:195: in run
    return runner.run(main)
           ^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py:118: in run
    return self._loop.run_until_complete(task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/base_events.py:725: in run_until_complete
    return future.result()
           ^^^^^^^^^^^^^^^
tests/unit/text_processing/test_normalization_service_fixed.py:156: in run_test
    assert "Hello world" in result.normalized
E   AssertionError: assert 'Hello world' in 'Hello World'
E    +  where 'Hello World' = NormalizationResult(normalized='Hello World', tokens=['Hello', 'World'], trace=[TokenTrace(token='Hello', role='given'...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
______________ TestNormalizationService.test_normalize_with_flags ______________
tests/unit/text_processing/test_normalization_service_fixed.py:171: in test_normalize_with_flags
    assert "Hello world" in result.normalized
E   AssertionError: assert 'Hello world' in 'Hello World'
E    +  where 'Hello World' = NormalizationResult(normalized='Hello World', tokens=['Hello', 'World'], trace=[TokenTrace(token='Hello', role='given'...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_________ TestNormalizationService.test_normalize_russian_complex_text _________
tests/unit/text_processing/test_normalization_service_fixed.py:216: in test_normalize_russian_complex_text
    assert "Анна" in result.normalized
E   AssertionError: assert 'Анна' in 'Иван Петров Анны Смирнов'
E    +  where 'Иван Петров Анны Смирнов' = NormalizationResult(normalized='Иван Петров Анны Смирнов', tokens=['Иван', 'Петров', 'Анны', 'Смирнов'], trace=[TokenT...re_female': 0, 'score_male': 7, 'gap': 7}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
________ TestNormalizationService.test_normalize_ukrainian_complex_text ________
tests/unit/text_processing/test_normalization_service_fixed.py:227: in test_normalize_ukrainian_complex_text
    assert "Анна" in result.normalized
E   AssertionError: assert 'Анна' in 'Іван Петров Анни Смірнов'
E    +  where 'Іван Петров Анни Смірнов' = NormalizationResult(normalized='Іван Петров Анни Смірнов', tokens=['Іван', 'Петров', 'Анни', 'Смірнов'], trace=[TokenT...re_female': 0, 'score_male': 7, 'gap': 7}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
__ TestNormalizationServiceConfiguration.test_diminutive_maps_initialization ___
tests/unit/text_processing/test_normalization_service_fixed.py:292: in test_diminutive_maps_initialization
    assert 'en' in service.diminutive_maps
E   AssertionError: assert 'en' in {'ru': {'алекс': 'Александр', 'алекса': 'Александра', 'алина': 'Алина', 'алис': 'Алиса', ...}, 'uk': {'алекс': 'Олександр', 'алекса': 'Олександра', 'алина': 'Алина', 'алка': 'Алла', ...}}
E    +  where {'ru': {'алекс': 'Александр', 'алекса': 'Александра', 'алина': 'Алина', 'алис': 'Алиса', ...}, 'uk': {'алекс': 'Олександр', 'алекса': 'Олександра', 'алина': 'Алина', 'алка': 'Алла', ...}} = <ai_service.layers.normalization.normalization_service.NormalizationService object at 0x51e922510>.diminutive_maps
__________ TestNormalizationResult.test_normalization_result_creation __________
tests/unit/text_processing/test_normalization_service_fixed.py:304: in test_normalization_result_creation
    result = NormalizationResult(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for NormalizationResult
E   normalized
E     Field required [type=missing, input_value={'original_text': 'test',...ss': True, 'errors': []}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
_________ TestNormalizationResult.test_normalization_result_error_case _________
tests/unit/text_processing/test_normalization_service_fixed.py:328: in test_normalization_result_error_case
    result = NormalizationResult(
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for NormalizationResult
E   normalized
E     Field required [type=missing, input_value={'original_text': 'test',...errors': ['Test error']}, input_type=dict]
E       For further information visit https://errors.pydantic.dev/2.11/v/missing
_____________ TestNormalizationService.test_normalize_english_text _____________
tests/unit/text_processing/test_normalization_service_old.py:49: in test_normalize_english_text
    assert "Hello world" in result.normalized
E   AssertionError: assert 'Hello world' in 'Hello World'
E    +  where 'Hello World' = NormalizationResult(normalized='Hello World', tokens=['Hello', 'World'], trace=[TokenTrace(token='Hello', role='given'...re_female': 0, 'score_male': 0, 'gap': 0}}], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_____________ TestNormalizationService.test_normalize_russian_text _____________
tests/unit/text_processing/test_normalization_service_old.py:57: in test_normalize_russian_text
    assert "Привет" in result.normalized
E   AssertionError: assert 'Привет' in ''
E    +  where '' = NormalizationResult(normalized='', tokens=[], trace=[], errors=[], language='ru', confidence=1.0, original_length=10, ..._core=[], organizations_core=[], persons=[], person_gender=None, gender_confidence=None, organizations=[], org_core='').normalized
_________ TestNormalizationService.test_tokenize_text_fallback_to_nltk _________
tests/unit/text_processing/test_normalization_service_old.py:71: in test_tokenize_text_fallback_to_nltk
    service.language_configs['en']['spacy_model'] = None
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
__________ TestNormalizationService.test_tokenize_text_basic_fallback __________
tests/unit/text_processing/test_normalization_service_old.py:84: in test_tokenize_text_basic_fallback
    service.language_configs['en']['spacy_model'] = None
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
___________ TestNormalizationService.test_remove_stop_words_english ____________
tests/unit/text_processing/test_normalization_service_old.py:95: in test_remove_stop_words_english
    service.language_configs['en']['stop_words'] = {"the", "is", "a", "an"}
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
___________ TestNormalizationService.test_remove_stop_words_russian ____________
tests/unit/text_processing/test_normalization_service_old.py:105: in test_remove_stop_words_russian
    service.language_configs['ru']['stop_words'] = {"и", "в", "на", "с"}
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
___________ TestNormalizationService.test_remove_stop_words_fallback ___________
tests/unit/text_processing/test_normalization_service_old.py:114: in test_remove_stop_words_fallback
    with patch('src.ai_service.layers.normalization.normalization_service._nltk_stopwords', None):
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1497: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1467: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.ai_service.layers.normalization.normalization_service' from '/Users/dariapavlova/Desktop/ai-service/src/ai_service/layers/normalization/normalization_service.py'> does not have the attribute '_nltk_stopwords'
_____________ TestNormalizationService.test_apply_stemming_english _____________
tests/unit/text_processing/test_normalization_service_old.py:127: in test_apply_stemming_english
    service.language_configs['en']['stemmer'] = mock_stemmer
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
_____________ TestNormalizationService.test_apply_stemming_russian _____________
tests/unit/text_processing/test_normalization_service_old.py:140: in test_apply_stemming_russian
    service.language_configs['ru']['stemmer'] = mock_stemmer
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
____________ TestNormalizationService.test_apply_stemming_ukrainian ____________
tests/unit/text_processing/test_normalization_service_old.py:153: in test_apply_stemming_ukrainian
    service.language_configs['uk']['stemmer'] = mock_stemmer
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
____________ TestNormalizationService.test_apply_stemming_fallback _____________
tests/unit/text_processing/test_normalization_service_old.py:164: in test_apply_stemming_fallback
    service.language_configs['en']['stemmer'] = None
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
__________ TestNormalizationService.test_apply_lemmatization_english ___________
tests/unit/text_processing/test_normalization_service_old.py:187: in test_apply_lemmatization_english
    service.language_configs['en']['spacy_model'] = mock_nlp
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
__________ TestNormalizationService.test_apply_lemmatization_russian ___________
tests/unit/text_processing/test_normalization_service_old.py:207: in test_apply_lemmatization_russian
    service.language_configs['ru']['spacy_model'] = mock_nlp
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
__________ TestNormalizationService.test_apply_lemmatization_fallback __________
tests/unit/text_processing/test_normalization_service_old.py:218: in test_apply_lemmatization_fallback
    service.language_configs['en']['spacy_model'] = None
    ^^^^^^^^^^^^^^^^^^^^^^^^
E   AttributeError: 'NormalizationService' object has no attribute 'language_configs'
_______________ TestNormalizationService.test_normalize_success ________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____ TestNormalizationService.test_normalize_without_optional_processing ______
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________ TestNormalizationService.test_normalize_ukrainian_with_forms _________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
______________ TestNormalizationService.test_normalize_empty_text ______________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestNormalizationService.test_normalize_whitespace_only ____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
____________ TestNormalizationService.test_normalize_unicode_error _____________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______ TestNormalizationService.test_normalize_language_detection_error _______
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestNormalizationService.test_normalize_processing_error ___________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______ TestNormalizationServiceEdgeCases.test_normalize_very_long_text ________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____ TestNormalizationServiceEdgeCases.test_normalize_special_characters ______
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_______ TestNormalizationServiceEdgeCases.test_normalize_mixed_languages _______
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
____ TestNormalizationServiceEdgeCases.test_normalize_unsupported_language _____
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_____ TestNormalizationServiceEdgeCases.test_ukrainian_normalization_basic _____
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___ TestNormalizationServiceConfiguration.test_initialization_without_spacy ____
tests/unit/text_processing/test_normalization_service_old.py:560: in test_initialization_without_spacy
    with patch('src.ai_service.layers.normalization.normalization_service.SPACY_AVAILABLE', False), \
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1497: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1467: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.ai_service.layers.normalization.normalization_service' from '/Users/dariapavlova/Desktop/ai-service/src/ai_service/layers/normalization/normalization_service.py'> does not have the attribute 'SPACY_AVAILABLE'
____ TestNormalizationServiceConfiguration.test_initialization_without_nltk ____
tests/unit/text_processing/test_normalization_service_old.py:570: in test_initialization_without_nltk
    with patch('src.ai_service.layers.normalization.normalization_service.NLTK_AVAILABLE', False), \
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1497: in __enter__
    original, local = self.get_original()
                      ^^^^^^^^^^^^^^^^^^^
/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:1467: in get_original
    raise AttributeError(
E   AttributeError: <module 'src.ai_service.layers.normalization.normalization_service' from '/Users/dariapavlova/Desktop/ai-service/src/ai_service/layers/normalization/normalization_service.py'> does not have the attribute 'NLTK_AVAILABLE'
_ TestNormalizationServiceConfiguration.test_initialization_minimal_dependencies _
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
________ TestNormalizationServiceConfiguration.test_cache_functionality ________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
_________ TestNormalizationResult.test_normalization_result_error_case _________
tests/unit/text_processing/test_normalization_service_old.py:675: in test_normalization_result_error_case
    assert result.error == "Processing failed"
           ^^^^^^^^^^^^
venv/lib/python3.13/site-packages/pydantic/main.py:991: in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
E   AttributeError: 'NormalizationResult' object has no attribute 'error'. Did you mean: 'errors'?
____________________ TestUnicodeService.test_final_cleanup _____________________
tests/unit/text_processing/test_unicode_service.py:182: in test_final_cleanup
    assert normalized == "  Multiple   spaces  \t\n  "  # Should be unchanged by UnicodeService
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 'Multiple spaces' == '  Multiple   spaces  \t\n  '
E     
E     -   Multiple   spaces  	
E     ? --         --      ----
E     + Multiple spaces
E     -
_____________________ TestCacheService.test_ttl_expiration _____________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
________________ TestCacheService.test_exists_with_expired_key _________________
async def functions are not natively supported.
You need to install a suitable plugin for your async framework, for example:
  - anyio
  - pytest-asyncio
  - pytest-tornasync
  - pytest-trio
  - pytest-twisted
___________ TestCanaryOverfit.test_context_words_never_become_names ____________
tests/unit/utilities/test_canary_overfit.py:34: in test_context_words_never_become_names
    assert name in normalized, f"Expected name '{name}' not found in normalized output: {result.normalized}"
E   AssertionError: Expected name 'п.і.' not found in normalized output: П. І. Коваленко Петросян
E   assert 'п.і.' in 'п. і. коваленко петросян'
________________ TestCanaryOverfit.test_ukrainian_context_words ________________
tests/unit/utilities/test_canary_overfit.py:55: in test_ukrainian_context_words
    assert context_word not in result.normalized.lower(), f"Context word '{context_word}' should not appear in normalized output: {result.normalized}"
E   AssertionError: Context word 'і' should not appear in normalized output: Іван І. Петро Коваленко
E   assert 'і' not in 'іван і. петро коваленко'
E     
E     'і' is contained here:
E       іван і. петро коваленко
E     ? +
_________________ TestCanaryOverfit.test_russian_context_words _________________
tests/unit/utilities/test_canary_overfit.py:78: in test_russian_context_words
    assert context_word not in result.normalized.lower(), f"Context word '{context_word}' should not appear in normalized output: {result.normalized}"
E   AssertionError: Context word 'и' should not appear in normalized output: Иван Петр Коваленко
E   assert 'и' not in 'иван петр коваленко'
E     
E     'и' is contained here:
E       иван петр коваленко
E     ? +
_____________ TestCanaryOverfit.test_mixed_language_context_words ______________
tests/unit/utilities/test_canary_overfit.py:119: in test_mixed_language_context_words
    assert context_word not in normalized, f"Context word '{context_word}' should not appear in normalized output: {result.normalized}"
E   AssertionError: Context word 'and' should not appear in normalized output: П. І. Коваленко And Петросян Work Together
E   assert 'and' not in 'п. і. ковал...ork together'
E     
E     'and' is contained here:
E       п. і. коваленко and петросян work together
E     ?                 +++
________________ TestInputValidator.test_homoglyph_replacement _________________
tests/unit/utilities/test_input_validation.py:48: in test_homoglyph_replacement
    assert result.sanitized_text == "Pavlov"  # Should be normalized
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   AssertionError: assert 'Pаvlоv' == 'Pavlov'
E     
E     - Pavlov
E     + Pаvlоv
_______ TestInputValidator.test_suspicion_analysis_high_homoglyph_ratio ________
tests/unit/utilities/test_input_validation.py:207: in test_suspicion_analysis_high_homoglyph_ratio
    assert analysis['is_suspicious'] is True
E   assert False is True
=============================== warnings summary ===============================
src/ai_service/main.py:182
  /Users/dariapavlova/Desktop/ai-service/src/ai_service/main.py:182: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator("text")

src/ai_service/main.py:198
  /Users/dariapavlova/Desktop/ai-service/src/ai_service/main.py:198: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator("texts")

src/ai_service/main.py:218
  /Users/dariapavlova/Desktop/ai-service/src/ai_service/main.py:218: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.11/migration/
    @validator("candidates")

src/ai_service/main.py:261
  /Users/dariapavlova/Desktop/ai-service/src/ai_service/main.py:261: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    @app.on_event("startup")

venv/lib/python3.13/site-packages/fastapi/applications.py:4495
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/fastapi/applications.py:4495: DeprecationWarning: 
          on_event is deprecated, use lifespan event handlers instead.
  
          Read more about it in the
          [FastAPI docs for Lifespan Events](https://fastapi.tiangolo.com/advanced/events/).
          
    return self.router.on_event(event_type)

tests/unit/core/test_decision_engine.py:273
  /Users/dariapavlova/Desktop/ai-service/tests/unit/core/test_decision_engine.py:273: PytestUnknownMarkWarning: Unknown pytest.mark.integration - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integration

tests/unit/core/test_decision_engine.py:282
  /Users/dariapavlova/Desktop/ai-service/tests/unit/core/test_decision_engine.py:282: PytestUnknownMarkWarning: Unknown pytest.mark.performance - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.performance

tests/unit/core/test_orchestrator_factory.py:276
  /Users/dariapavlova/Desktop/ai-service/tests/unit/core/test_orchestrator_factory.py:276: PytestUnknownMarkWarning: Unknown pytest.mark.integration - is this a typo?  You can register custom marks to avoid this warning - for details, see https://docs.pytest.org/en/stable/how-to/mark.html
    @pytest.mark.integration

venv/lib/python3.13/site-packages/spacy/cli/_util.py:23
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/spacy/cli/_util.py:23: DeprecationWarning: Importing 'parser.split_arg_string' is deprecated, it will only be available in 'shell_completion' in Click 9.0.
    from click.parser import split_arg_string

venv/lib/python3.13/site-packages/weasel/util/config.py:8
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/weasel/util/config.py:8: DeprecationWarning: Importing 'parser.split_arg_string' is deprecated, it will only be available in 'shell_completion' in Click 9.0.
    from click.parser import split_arg_string

layers/test_normalization_contracts.py::TestNormalizationContracts::test_normalization_result_structure
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_normalization_result_structure' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py: 11 warnings
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/runner.py:146: RuntimeWarning: coroutine 'TestNormalizationContracts.service' was never awaited
    item.funcargs = None  # type: ignore[attr-defined]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

layers/test_normalization_contracts.py::TestNormalizationContracts::test_token_trace_completeness
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_token_trace_completeness' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_organizations_core_separation
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_organizations_core_separation' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_persons_core_structure
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_persons_core_structure' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_flag_behavior_real_impact
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_flag_behavior_real_impact' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_org_acronyms_always_unknown
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_org_acronyms_always_unknown' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_ascii_no_morph_in_cyrillic
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_ascii_no_morph_in_cyrillic' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_womens_surnames_preserved
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_womens_surnames_preserved' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_serialization_compatibility
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_serialization_compatibility' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_performance_requirements
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_performance_requirements' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_normalization_contracts.py::TestNormalizationContracts::test_error_handling
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_error_handling' requested an async fixture 'service', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_should_process_basic
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_should_process_basic' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_should_process_basic
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_classification_mapping
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_name_signals_extraction
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_company_signals_extraction
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_payment_signals_extraction
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_error_handling_fallback
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_signal_names_extraction
layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_processing_time_tracking
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/runner.py:146: RuntimeWarning: coroutine 'TestSmartFilterAdapter.adapter' was never awaited
    item.funcargs = None  # type: ignore[attr-defined]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_classification_mapping
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_classification_mapping' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_name_signals_extraction
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_name_signals_extraction' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_company_signals_extraction
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_company_signals_extraction' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_payment_signals_extraction
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_payment_signals_extraction' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_error_handling_fallback
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_error_handling_fallback' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_signal_names_extraction
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_signal_names_extraction' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_processing_time_tracking
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_processing_time_tracking' requested an async fixture 'adapter', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_smart_filter_skip
test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_validation_error
test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_language_detection_failure
test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_normalization_failure
  /Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py:188: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    if not validation_result.get("should_process", True):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_normalization_failure
  /opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py:2247: RuntimeWarning: coroutine 'AsyncMockMixin._execute_mock_call' was never awaited
    def __init__(self, name, parent):
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_complete_pipeline
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_complete_pipeline' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_complete_pipeline
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_complete_pipeline' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py: 10 warnings
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/runner.py:146: RuntimeWarning: coroutine 'TestUnifiedOrchestrator.orchestrator' was never awaited
    item.funcargs = None  # type: ignore[attr-defined]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_normalization_flags_passed_correctly
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_normalization_flags_passed_correctly' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_normalization_flags_passed_correctly
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_normalization_flags_passed_correctly' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_smart_filter_skip_behavior
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_smart_filter_skip_behavior' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_smart_filter_skip_behavior
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_smart_filter_skip_behavior' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_optional_services_disabled
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_optional_services_disabled' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_optional_services_disabled
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/runner.py:146: RuntimeWarning: coroutine 'TestUnifiedOrchestrator.mock_services' was never awaited
    item.funcargs = None  # type: ignore[attr-defined]
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_error_handling
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_error_handling' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_error_handling
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_error_handling' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_performance_warning
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_performance_warning' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_performance_warning
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_performance_warning' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_backward_compatibility_methods
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_backward_compatibility_methods' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_backward_compatibility_methods
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_backward_compatibility_methods' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_signals_integration
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_signals_integration' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_signals_integration
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_signals_integration' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_trace_preservation
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_trace_preservation' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_trace_preservation
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_trace_preservation' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_language_hint
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_language_hint' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_language_hint
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_language_hint' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_result_serialization
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_result_serialization' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestrator::test_result_serialization
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_result_serialization' requested an async fixture 'orchestrator', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_valid_services
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_valid_services' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_validation_service
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_none_validation_service' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_language_service
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_none_language_service' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_unicode_service
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_none_unicode_service' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_normalization_service
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_none_normalization_service' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_signals_service
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_none_signals_service' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_optional_services_none
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/_pytest/fixtures.py:1182: PytestRemovedIn9Warning: 'test_constructor_with_optional_services_none' requested an async fixture 'mock_services', with no plugin or hook that handled it. This is usually an error, as pytest does not natively support it. This will turn into an error in pytest 9.
  See: https://docs.pytest.org/en/stable/deprecations.html#sync-test-depending-on-async-fixture
    warnings.warn(

test_variant_generation_service.py::TestVariantGenerationService::test_transliteration_variants_grigoriy
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/pymorphy3/opencorpora_dict/storage.py:202: RuntimeWarning: coroutine 'TestUnifiedOrchestratorConstructor.mock_services' was never awaited
    para.fromfile(f, paradigm_len)
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

text_processing/test_flags_behavior.py::TestFlagsBehavior::test_remove_stop_words_false
  /Users/dariapavlova/Desktop/ai-service/venv/lib/python3.13/site-packages/pymorphy3/tagset.py:271: RuntimeWarning: coroutine 'TestUnifiedOrchestratorConstructor.mock_services' was never awaited
    grammemes_tuple = tuple((intern(str(g)) for g in grammemes))
  Enable tracemalloc to get traceback where the object was allocated.
  See https://docs.pytest.org/en/stable/how-to/capture-warnings.html#resource-warnings for more info.

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
==================================== PASSES ====================================
______________ TestMainEndpoints.test_process_text_internal_error ______________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.main:main.py:425 Error processing text: Processing failed
_________________ TestMainEndpoints.test_startup_event_failure _________________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.main:main.py:277 Error initializing orchestrator: Init failed
________________ TestMainEndpoints.test_error_handler_responses ________________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.main:main.py:422 Service unavailable: Service down
ERROR    ai_service.main:main.py:425 Error processing text: Internal error
_________ TestOrchestratorFactory.test_service_initialization_mocking __________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'ai_service.layers.variants.ukrainian_morphology'
WARNING  ai_service.core.orchestrator_factory:orchestrator_factory.py:150 Failed to initialize variants service: 'VariantGenerationService' object has no attribute 'initialize'
WARNING  ai_service.core.orchestrator_factory:orchestrator_factory.py:161 Failed to initialize embeddings service: EmbeddingService.__init__() missing 1 required positional argument: 'config'
______ TestOrchestratorFactory.test_service_initialization_error_handling ______
------------------------------ Captured log call -------------------------------
ERROR    ai_service.core.orchestrator_factory:orchestrator_factory.py:93 Failed to initialize validation service: Service init failed
ERROR    ai_service.core.orchestrator_factory:orchestrator_factory.py:204 Failed to create orchestrator: Validation service: Service init failed
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/orchestrator_factory.py", line 90, in create_orchestrator
    validation_service = ValidationService()
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1228, in _execute_mock_call
    raise effect
Exception: Service init failed

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/orchestrator_factory.py", line 94, in create_orchestrator
    raise ServiceInitializationError(f"Validation service: {e}")
ai_service.exceptions.ServiceInitializationError: Validation service: Service init failed
_________ TestOrchestratorFactoryIntegration.test_factory_performance __________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.core.orchestrator_factory:orchestrator_factory.py:139 Failed to initialize smart filter adapter: object Mock can't be used in 'await' expression
WARNING  ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'ai_service.layers.variants.ukrainian_morphology'
WARNING  ai_service.core.orchestrator_factory:orchestrator_factory.py:150 Failed to initialize variants service: 'VariantGenerationService' object has no attribute 'initialize'
WARNING  ai_service.core.orchestrator_factory:orchestrator_factory.py:161 Failed to initialize embeddings service: EmbeddingService.__init__() missing 1 required positional argument: 'config'
__________ TestEmbeddingServiceErrorHandling.test_model_encode_error ___________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.embeddings.embedding_service:embedding_service.py:276 Failed to encode texts: Model encode error
_________ TestEmbeddingServiceErrorHandling.test_memory_error_handling _________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.embeddings.embedding_service:embedding_service.py:276 Failed to encode texts: Out of memory
____________ TestOptimizedEmbeddingService.test_faiss_acceleration _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:optimized_embedding_service.py:391 FAISS search failed, falling back to numpy: FAISS not available
______________ TestOptimizedEmbeddingService.test_error_handling _______________
------------------------------ Captured log call -------------------------------
WARNING  sentence_transformers.SentenceTransformer:SentenceTransformer.py:2046 No sentence-transformers model found with name sentence-transformers/invalid_model_name. Creating a new one with mean pooling.
ERROR    ai_service.layers.embeddings.embedding_service:optimized_embedding_service.py:210 Failed to load optimized model invalid_model_name: sentence-transformers/invalid_model_name is not a local folder and is not a valid model identifier listed on 'https://huggingface.co/models'
If this is a private repository, make sure to pass a token having permission to this repo either by logging in with `hf auth login` or by passing `token=<your_token>`
ERROR    ai_service.layers.embeddings.embedding_service:optimized_embedding_service.py:342 Failed to generate optimized embeddings: 'types.SimpleNamespace' object has no attribute 'device'
____________________ test_orchestrator_with_metrics_service ____________________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.requests.total
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.requests.active
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.layer.validation
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.layer.unicode_normalization
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.layer.language_detection
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: language_detection.confidence
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: language_detection.detected.en
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.layer.normalization
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: normalization.confidence
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: normalization.token_count
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.layer.signals
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: signals.confidence
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: signals.persons_count
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: signals.organizations_count
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.total_time
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.requests.active
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: processing.requests.successful
_____________________ TestMetricsService.test_alert_system _____________________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:338 Alert triggered: test.alert_metric_gt_10.0 - Alert: value 15.0 is greater than threshold 10.0
____________________ TestMetricsService.test_alert_cooldown ____________________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:338 Alert triggered: test.cooldown_metric_gt_5.0 - Value 10.0 exceeds threshold 5.0
________________ TestMetricsService.test_memory_usage_tracking _________________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.0
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.1
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.2
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.3
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.4
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.5
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.6
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.7
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.8
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.9
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.10
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.11
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.12
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.13
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.14
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.15
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.16
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.17
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.18
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.19
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.20
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.21
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.22
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.23
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.24
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.25
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.26
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.27
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.28
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.29
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.30
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.31
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.32
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.33
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.34
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.35
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.36
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.37
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.38
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.39
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.40
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.41
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.42
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.43
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.44
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.45
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.46
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.47
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.48
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.49
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.50
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.51
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.52
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.53
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.54
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.55
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.56
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.57
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.58
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.59
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.60
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.61
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.62
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.63
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.64
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.65
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.66
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.67
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.68
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.69
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.70
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.71
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.72
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.73
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.74
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.75
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.76
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.77
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.78
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.79
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.80
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.81
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.82
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.83
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.84
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.85
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.86
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.87
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.88
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.89
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.90
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.91
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.92
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.93
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.94
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.95
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.96
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.97
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.98
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.99
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.100
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.101
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.102
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.103
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.104
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.105
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.106
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.107
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.108
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.109
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.110
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.111
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.112
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.113
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.114
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.115
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.116
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.117
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.118
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.119
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.120
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.121
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.122
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.123
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.124
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.125
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.126
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.127
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.128
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.129
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.130
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.131
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.132
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.133
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.134
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.135
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.136
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.137
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.138
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.139
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.140
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.141
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.142
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.143
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.144
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.145
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.146
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.147
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.148
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.149
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.150
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.151
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.152
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.153
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.154
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.155
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.156
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.157
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.158
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.159
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.160
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.161
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.162
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.163
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.164
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.165
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.166
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.167
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.168
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.169
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.170
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.171
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.172
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.173
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.174
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.175
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.176
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.177
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.178
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.179
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.180
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.181
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.182
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.183
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.184
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.185
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.186
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.187
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.188
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.189
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.190
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.191
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.192
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.193
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.194
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.195
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.196
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.197
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.198
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: memory.test.199
____________________ TestMetricsService.test_error_handling ____________________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: 
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: None
WARNING  ai_service.monitoring.metrics_service:metrics_service.py:192 Recording value for unregistered metric: test.record_histogram
____________ TestOrchestratorMetrics.test_variants_failure_metrics _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.core.unified_orchestrator:unified_orchestrator.py:321 Variant generation failed: Variants failed
___________ TestOrchestratorMetrics.test_embeddings_failure_metrics ____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.core.unified_orchestrator:unified_orchestrator.py:347 Embedding generation failed: Embeddings failed
____________ TestOrchestratorMetrics.test_decision_failure_metrics _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.core.unified_orchestrator:unified_orchestrator.py:396 Decision engine failed: Decision failed
_____________ TestOrchestratorMetrics.test_slow_processing_metrics _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.core.unified_orchestrator:unified_orchestrator.py:415 Slow processing: 0.500s for text: test input...
___________ TestOrchestratorMetrics.test_exception_handling_metrics ____________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: Unexpected error
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 247, in process
    lang_result = self.language_service.detect_language_config_driven(
        unicode_normalized,  # Use unicode-normalized text for language detection
        LANGUAGE_CONFIG
    )
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1169, in __call__
    return self._mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1173, in _mock_call
    return self._execute_mock_call(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/unittest/mock.py", line 1228, in _execute_mock_call
    raise effect
RuntimeError: Unexpected error
___________ TestRussianMorphology.test_get_all_forms_with_exception ____________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.russian_morphology:russian_morphology.py:470 Error getting word forms for 'Тест': Parser error
__________ TestRussianMorphology.test_batch_process_names_with_errors __________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.russian_morphology:russian_morphology.py:888 Error processing name 'Мария': Processing error
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0421\u0435\u0440\u0433\u0456\u0439-masc-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041e\u043b\u0435\u043d\u0430-femn-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Олена': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-masc-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Володимир': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0414\u0430\u0440\u0456\u044f-femn-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарія': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041f\u0435\u0442\u0440\u043e-masc-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u0410\u043d\u043d\u0430-femn-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Анна': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041c\u0438\u0445\u0430\u0439\u043b\u043e-masc-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Михайло': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_gender_detection_for_ukrainian_names[\u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430-femn-uk] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Катерина': 'MorphologicalAnalysis' object has no attribute 'get'
_________ TestUkrainianMorphologyAnalyzer.test_diminutives_generation __________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_______ TestUkrainianMorphologyAnalyzer.test_transliteration_generation ________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e-expected_endings0] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петренко': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u0406\u0432\u0430\u043d\u0435\u043d\u043a\u043e-expected_endings1] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Іваненко': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u041c\u0435\u043b\u044c\u043d\u0438\u043a-expected_endings2] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Мельник': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_surname_endings[\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e-expected_endings3] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Шевченко': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_edge_cases_handling[\u0421\u0435\u0440\u0433\u0456\u0439-expected_result2] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u0421\u0435\u0440\u0433\u0456\u0439-expected_ukrainian_chars0] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u041e\u043b\u0435\u043a\u0441\u0456\u0439-expected_ukrainian_chars1] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Олексій': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-expected_ukrainian_chars2] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Володимир': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u0414\u0430\u0440\u0456\u044f-expected_ukrainian_chars3] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарія': 'MorphologicalAnalysis' object has no attribute 'get'
_ TestUkrainianMorphologyAnalyzer.test_ukrainian_character_detection[\u041f\u0435\u0442\u0440\u043e-expected_ukrainian_chars4] _
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_name_complexity_analysis _________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_________ TestUkrainianMorphologyAnalyzer.test_gender_correction_logic _________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
____ TestUkrainianMorphologyAnalyzer.test_analyze_name_basic_functionality _____
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_________ TestUkrainianMorphologyAnalyzer.test_auto_language_detection _________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергей': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_gender_exceptions_dictionary _______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Петро': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Іван': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Володимир': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарія': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Марія': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Олена': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Анна': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_phonetic_variants_generation _______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_regional_transliterations ________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
__________ TestUkrainianMorphologyAnalyzer.test_get_all_forms_method ___________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_______ TestUkrainianMorphologyAnalyzer.test_is_ukrainian_name_detection _______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Богдан': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Іваненко': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_complexity_level_calculation _______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
__________ TestUkrainianMorphologyAnalyzer.test_basic_transliteration __________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_______ TestUkrainianMorphologyAnalyzer.test_language_detection_internal _______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергей': 'MorphologicalAnalysis' object has no attribute 'get'
___ TestUkrainianMorphologyAnalyzer.test_pymorphy_analysis_failure_handling ____
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Тест': Pymorphy analysis failed
______ TestUkrainianMorphologyAnalyzer.test_generate_pymorphy_declensions ______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
______ TestUkrainianMorphologyAnalyzer.test_extract_gender_with_name_tags ______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Дарья': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_extract_gender_by_endings ________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Новий': 'MorphologicalAnalysis' object has no attribute 'get'
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Нова': 'MorphologicalAnalysis' object has no attribute 'get'
_____ TestUkrainianMorphologyAnalyzer.test_apply_regional_transliteration ______
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
________ TestUkrainianMorphologyAnalyzer.test_whitespace_name_handling _________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_____________ TestDecisionLogic.test_update_thresholds_invalid_key _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.smart_filter.decision_logic:decision_logic.py:656 Unknown threshold key: invalid_key
______________ TestSmartFilterService.test_service_words_cleaning ______________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.smart_filter.smart_filter_service:smart_filter_service.py:479 _clean_service_words is deprecated - use context-aware analysis instead
_____________ TestDecisionLogic.test_update_thresholds_invalid_key _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.smart_filter.decision_logic:decision_logic.py:656 Unknown threshold key: invalid_key
____________ TestEmbeddingContract.test_encode_batch_returns_2x384 _____________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(2 texts): 3237.25ms > 100ms
__________ TestEmbeddingContract.test_encode_batch_mixed_valid_empty ___________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(4 texts): 3251.25ms > 100ms
_______ TestEmbeddingModelSwitch.test_model_switch_with_batch_processing _______
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(4 texts): 2653.49ms > 100ms
___________ TestEmbeddingPreprocessor.test_include_attrs_future_flag ___________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.services.embedding_preprocessor:embedding_preprocessor.py:77 include_attrs=True not yet implemented, using default behavior
_____ TestEmbeddingsCanaryNames.test_multilingual_name_triangle_similarity _____
----------------------------- Captured stdout call -----------------------------
Similarity 'Oleksandr' ~ 'Олександр': 0.632
Similarity 'Oleksandr' ~ 'Александр': 0.620
Similarity 'Олександр' ~ 'Александр': 0.980
Min similarity: 0.620
Avg similarity: 0.744
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(3 texts): 3484.86ms > 100ms
_________ TestEmbeddingsCanaryNames.test_name_vs_noise_low_similarity __________
----------------------------- Captured stdout call -----------------------------
Similarity 'Ivan Petrov' ~ 'invoice 12345': 0.002
Similarity 'Ivan Petrov' ~ 'document 67890': 0.259
Similarity 'Ivan Petrov' ~ 'report 2023': 0.259
Similarity 'Ivan Petrov' ~ 'file 98765': 0.110
Similarity 'Ivan Petrov' ~ 'data 54321': 0.105
Similarity 'Ivan Petrov' ~ 'system 11111': -0.019
Similarity 'Ivan Petrov' ~ 'error 404': 0.039
Similarity 'Ivan Petrov' ~ 'status 200': 0.114
Similarity 'Anna Smith' ~ 'invoice 12345': 0.114
Similarity 'Anna Smith' ~ 'document 67890': 0.244
Similarity 'Anna Smith' ~ 'report 2023': 0.261
Similarity 'Anna Smith' ~ 'file 98765': 0.166
Similarity 'Anna Smith' ~ 'data 54321': 0.161
Similarity 'Anna Smith' ~ 'system 11111': 0.144
Similarity 'Anna Smith' ~ 'error 404': 0.148
Similarity 'Anna Smith' ~ 'status 200': 0.247
Similarity 'Олександр Коваленко' ~ 'invoice 12345': 0.143
Similarity 'Олександр Коваленко' ~ 'document 67890': 0.276
Similarity 'Олександр Коваленко' ~ 'report 2023': 0.280
Similarity 'Олександр Коваленко' ~ 'file 98765': 0.177
Similarity 'Олександр Коваленко' ~ 'data 54321': 0.149
Similarity 'Олександр Коваленко' ~ 'system 11111': 0.099
Similarity 'Олександр Коваленко' ~ 'error 404': 0.086
Similarity 'Олександр Коваленко' ~ 'status 200': 0.185
Similarity 'Владимир Путин' ~ 'invoice 12345': 0.026
Similarity 'Владимир Путин' ~ 'document 67890': 0.080
Similarity 'Владимир Путин' ~ 'report 2023': 0.121
Similarity 'Владимир Путин' ~ 'file 98765': -0.003
Similarity 'Владимир Путин' ~ 'data 54321': 0.010
Similarity 'Владимир Путин' ~ 'system 11111': -0.018
Similarity 'Владимир Путин' ~ 'error 404': -0.008
Similarity 'Владимир Путин' ~ 'status 200': 0.056
Max name-noise similarity: 0.280
Avg name-noise similarity: 0.125
----------------------------- Captured stderr call -----------------------------
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
Retrying in 1s [Retry 1/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
Retrying in 2s [Retry 2/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
Retrying in 4s [Retry 3/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
Retrying in 8s [Retry 4/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
Retrying in 8s [Retry 5/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/tokenizer_config.json
Retrying in 1s [Retry 1/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/tokenizer_config.json
Retrying in 2s [Retry 2/5].
HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/tokenizer_config.json
Retrying in 4s [Retry 3/5].
------------------------------ Captured log call -------------------------------
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 1s [Retry 1/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 2s [Retry 2/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 4s [Retry 3/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 8s [Retry 4/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 8s [Retry 5/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/config.json
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/tokenizer_config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 1s [Retry 1/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/tokenizer_config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 2s [Retry 2/5].
WARNING  huggingface_hub.utils._http:_http.py:315 HTTP Error 429 thrown while requesting HEAD https://huggingface.co/sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2/resolve/main/tokenizer_config.json
WARNING  huggingface_hub.utils._http:_http.py:332 Retrying in 4s [Retry 3/5].
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(4 texts): 34873.00ms > 100ms
__ TestEmbeddingsCanaryNames.test_organization_vs_personal_names_distinction ___
----------------------------- Captured stdout call -----------------------------
Similarity 'Ivan Petrov' ~ 'Apple Inc': 0.084
Similarity 'Ivan Petrov' ~ 'Microsoft Corporation': 0.043
Similarity 'Ivan Petrov' ~ 'Приватбанк': 0.226
Similarity 'Ivan Petrov' ~ 'ООО Рога и Копыта': 0.522
Similarity 'Anna Smith' ~ 'Apple Inc': 0.236
Similarity 'Anna Smith' ~ 'Microsoft Corporation': 0.252
Similarity 'Anna Smith' ~ 'Приватбанк': 0.205
Similarity 'Anna Smith' ~ 'ООО Рога и Копыта': 0.349
Similarity 'Олександр Коваленко' ~ 'Apple Inc': 0.029
Similarity 'Олександр Коваленко' ~ 'Microsoft Corporation': 0.090
Similarity 'Олександр Коваленко' ~ 'Приватбанк': 0.193
Similarity 'Олександр Коваленко' ~ 'ООО Рога и Копыта': 0.777
Avg personal-org similarity: 0.251
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(3 texts): 3250.65ms > 100ms
_________ TestEmbeddingsCanaryNames.test_empty_and_whitespace_handling _________
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(4 texts): 3338.29ms > 100ms
________ TestEmbeddingsCanaryNames.test_preprocessing_removes_dates_ids ________
----------------------------- Captured stdout call -----------------------------
Preprocessing similarity 0: 1.000
Preprocessing similarity 1: 1.000
Preprocessing similarity 2: 1.000
------------------------------ Captured log call -------------------------------
WARNING  ai_service.layers.embeddings.embedding_service:embedding_service.py:184 Slow encode_batch(3 texts): 3523.28ms > 100ms
____________ TestMorphologyIntegration.test_ukrainian_name_analysis ____________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.ukrainian_morphology:ukrainian_morphology.py:158 Error analyzing word 'Сергій': 'MorphologicalAnalysis' object has no attribute 'get'
_____________ TestMorphologyIntegration.test_russian_name_analysis _____________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.normalization.morphology.russian_morphology:russian_morphology.py:152 Error analyzing word 'Сергей': 'MorphologicalAnalysis' object has no attribute 'get'
___ TestLanguageDetectionCanaryRandomNoise.test_random_noise_low_confidence ____
----------------------------- Captured stdout call -----------------------------

Random noise analysis:
  Total strings: 100
  Unknown language: 0 (0.0%)
  Mixed language: 45 (45.0%)
  Low confidence (≤0.8): 91 (91.0%)
  High confidence (>0.8): 9 (9.0%)
  Perfect confidence (1.0): 0

High confidence examples (may indicate overfitting):
  1. 'Вр8ФкЮ8ґCZ_5ъ fw{"yД<Tь1&D5ЛБ1...' -> ru (0.900)
  2. 'Lo Эё)6yDJ!185Ха { 8;-уX!FМ;э^...' -> ru (0.811)
  3. 'РЄ$\|35ч20CМ1:2ґ<r{' Й" ы? <Рє...' -> uk (0.967)
  4. 'Ь4НЦ & Pzо"ъ9 Ип3Іъ[j9с ZгЛ3bё...' -> ru (0.955)
  5. '9P9UЫОюнЦjnX7$8З ylIw43 ЕЕ37wY...' -> uk (0.894)
_____ TestUnifiedOrchestrator.test_process_with_language_detection_failure _____
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.core.unified_orchestrator:unified_orchestrator.py:396 Decision engine failed: max() iterable argument is empty
_______ TestUnifiedOrchestrator.test_process_with_normalization_failure ________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.core.unified_orchestrator:unified_orchestrator.py:396 Decision engine failed: max() iterable argument is empty
_____ TestUnifiedOrchestrator.test_process_with_language_detection_failure _____
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: object Mock can't be used in 'await' expression
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 202, in process
    filter_result = await self.smart_filter_service.should_process(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        context.sanitized_text
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: object Mock can't be used in 'await' expression
_______ TestUnifiedOrchestrator.test_process_with_normalization_failure ________
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.core.unified_orchestrator:unified_orchestrator.py:439 Processing failed: object Mock can't be used in 'await' expression
Traceback (most recent call last):
  File "/Users/dariapavlova/Desktop/ai-service/src/ai_service/core/unified_orchestrator.py", line 202, in process
    filter_result = await self.smart_filter_service.should_process(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        context.sanitized_text
        ^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: object Mock can't be used in 'await' expression
____________ TestRunServiceScript.test_check_python_version_invalid ____________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:29 Python 3.12 or higher required
ERROR    run_service:run_service.py:30 Current version: 3.13.7 (main, Aug 14 2025, 11:12:11) [Clang 17.0.0 (clang-1700.0.13.3)]
_____________ TestRunServiceScript.test_check_poetry_not_available _____________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:47 Poetry not found
_____________ TestRunServiceScript.test_check_dependencies_failure _____________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:60 Error installing dependencies: Dependency installation failed
____________ TestRunServiceScript.test_check_dependencies_exception ____________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:63 Error: Unexpected error
_ TestRunServiceScript.test_check_spacy_models_some_missing_auto_install_success _
------------------------------ Captured log call -------------------------------
WARNING  run_service:run_service.py:82 SpaCy model en_core_web_sm not found
___ TestRunServiceScript.test_check_spacy_models_all_missing_no_auto_install ___
------------------------------ Captured log call -------------------------------
WARNING  run_service:run_service.py:82 SpaCy model en_core_web_sm not found
WARNING  run_service:run_service.py:82 SpaCy model ru_core_news_sm not found
ERROR    run_service:run_service.py:101 Error: Install failed
ERROR    run_service:run_service.py:101 Error: Install failed
____________ TestRunServiceScript.test_run_service_no_service_file _____________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:118 Service file not found: <Mock id='21981839776'>
_______________ TestRunServiceScript.test_run_service_exception ________________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:135 Error starting service: Unexpected error
______________ TestRunServiceScript.test_main_python_check_fails _______________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:162 Some checks failed
______________ TestRunServiceScript.test_main_poetry_check_fails _______________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:162 Some checks failed
___________ TestRunServiceScript.test_main_dependencies_check_fails ____________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:162 Some checks failed
______________ TestRunServiceScript.test_main_models_check_fails _______________
------------------------------ Captured log call -------------------------------
ERROR    run_service:run_service.py:162 Some checks failed
________ TestTemplateBuilder.test_build_templates_batch_error_handling _________
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.layers.variants.template_builder:template_builder.py:244 Failed to create template for entity 0: Error
___________ TestTemplateBuilder.test_template_builder_error_handling ___________
------------------------------ Captured log call -------------------------------
ERROR    src.ai_service.layers.variants.template_builder:template_builder.py:180 Failed to create template for entity : Pattern generation failed
_____ TestVariantGenerationService.test_transliteration_variants_grigoriy ______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_compound_surname_processing _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
____ TestVariantGenerationService.test_basic_transliteration_functionality _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_multiple_transliteration_standards _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_phonetic_variants_generation ________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_______ TestVariantGenerationService.test_visual_similarities_generation _______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
__________ TestVariantGenerationService.test_typo_variants_generation __________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_comprehensive_variants_generation ______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
____________ TestVariantGenerationService.test_empty_text_handling _____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____________ TestVariantGenerationService.test_none_text_handling _____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____________ TestVariantGenerationService.test_max_variants_limit _____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_language_specific_processing ________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
______ TestVariantGenerationService.test_find_best_matches_functionality _______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
___________ TestVariantGenerationService.test_similarity_calculation ___________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
__________ TestVariantGenerationService.test_keyboard_layout_variants __________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_morphological_variants_integration _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_______ TestVariantGenerationService.test_morphological_variants_mocked ________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
___________ TestVariantGenerationService.test_processing_statistics ____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____________ TestVariantGenerationService.test_duplicate_removal ______________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
____ TestVariantGenerationService.test_case_preservation_and_normalization _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_special_characters_handling _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_performance_with_long_names _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_error_handling_in_transliteration ______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_variant_scores_match_config _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_ test_russian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0434\u043b\u044f \u0412\u043e\u043b\u043e\u0434\u0438 \u0412\u044b\u0441\u043e\u0446\u043a\u043e\u0433\u043e-\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0412\u044b\u0441\u043e\u0446\u043a\u0438\u0439] _
----------------------------- Captured stdout call -----------------------------

DEBUG - Input: 'Оплата для Володи Высоцкого'
DEBUG - Expected: 'Владимир Высоцкий'
DEBUG - Actual: 'Владимир Высоцкий'
DEBUG - Fresh service result: 'Владимир Высоцкий'
DEBUG - Fresh _morph_nominal('Высоцкого', 'ru') = 'Высоцкий'
DEBUG - Fresh ru_morph available: True
DEBUG - Fresh ru_morph type: <class 'pymorphy3.analyzer.MorphAnalyzer'>
________ TestUnicodeService.test_unicode_normalization_failure_handling ________
------------------------------ Captured log call -------------------------------
WARNING  src.ai_service.layers.unicode.unicode_service:unicode_service.py:359 Unicode normalization failed: Unicode normalization failed
_____ TestVariantGenerationService.test_transliteration_variants_grigoriy ______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_compound_surname_processing _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
____ TestVariantGenerationService.test_basic_transliteration_functionality _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_multiple_transliteration_standards _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_phonetic_variants_generation ________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_______ TestVariantGenerationService.test_visual_similarities_generation _______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
__________ TestVariantGenerationService.test_typo_variants_generation __________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_comprehensive_variants_generation ______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
____________ TestVariantGenerationService.test_empty_text_handling _____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____________ TestVariantGenerationService.test_none_text_handling _____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____________ TestVariantGenerationService.test_max_variants_limit _____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_language_specific_processing ________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
______ TestVariantGenerationService.test_find_best_matches_functionality _______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
___________ TestVariantGenerationService.test_similarity_calculation ___________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
__________ TestVariantGenerationService.test_keyboard_layout_variants __________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_morphological_variants_integration _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_______ TestVariantGenerationService.test_morphological_variants_mocked ________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
___________ TestVariantGenerationService.test_processing_statistics ____________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____________ TestVariantGenerationService.test_duplicate_removal ______________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
____ TestVariantGenerationService.test_case_preservation_and_normalization _____
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_special_characters_handling _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_performance_with_long_names _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
_____ TestVariantGenerationService.test_error_handling_in_transliteration ______
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________ TestVariantGenerationService.test_variant_scores_match_config _________
------------------------------ Captured log setup ------------------------------
WARNING  src.ai_service.layers.variants.variant_generation_service:variant_generation_service.py:392 Ukrainian morphology analyzer not available: No module named 'src.ai_service.layers.variants.ukrainian_morphology'
________________ TestValidationService.test_initialize_failure _________________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.validation.validation_service:validation_service.py:37 Failed to initialize ValidationService: Init failed
_____ TestValidationService.test_validate_and_sanitize_exception_handling ______
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.validation.validation_service:validation_service.py:72 Validation failed for text: test text... Error: Validation error
__________ TestValidationService.test_validate_and_sanitize_long_text __________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.validation.validation_service:validation_service.py:72 Validation failed for text: aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa... Error: Text too long
_________ TestValidationService.test_validate_and_sanitize_none_input __________
------------------------------ Captured log call -------------------------------
ERROR    ai_service.layers.validation.validation_service:validation_service.py:72 Validation failed for text: None... Error: None input
=========================== short test summary info ============================
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_health_check_no_orchestrator
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_health_check_with_orchestrator
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_process_text_endpoint_success
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_process_text_no_orchestrator
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_process_text_internal_error
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_process_text_validation_error
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_normalize_text_endpoint_success
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_process_batch_endpoint_success
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_search_similar_endpoint_success
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_startup_event_success
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_startup_event_failure
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_admin_status_endpoint_unauthorized
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_admin_status_endpoint_invalid_token
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_admin_status_endpoint_success
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_cors_configuration
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_request_validation_models
PASSED tmp/api/test_main_endpoints.py::TestMainEndpoints::test_error_handler_responses
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_high_confidence_match_decision
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_weak_match_decision
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_needs_review_decision
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_no_match_decision
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_insufficient_data_decision
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_evidence_extraction
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_risk_factor_identification
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_context_sensitive_decisions
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_reasoning_generation
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_recommendations_generation
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_batch_decisions
PASSED tmp/core/test_decision_engine.py::TestDecisionEngine::test_threshold_updates
PASSED tmp/core/test_decision_engine.py::TestDecisionEngineIntegration::test_real_processing_result_decision
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_factory_initialization
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_create_testing_orchestrator_minimal
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_create_testing_orchestrator_full
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_create_production_orchestrator
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_create_orchestrator_custom_config
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_service_initialization_mocking
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_service_initialization_error_handling
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_optional_services_configuration
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_factory_singleton_pattern
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactory::test_service_dependency_injection
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactoryIntegration::test_real_service_creation
PASSED tmp/core/test_orchestrator_factory.py::TestOrchestratorFactoryIntegration::test_factory_performance
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_initialization
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_default_model_configuration
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_load_model_success
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_load_model_error
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_model_caching
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_encode_single_text
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_encode_multiple_texts
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_encode_with_normalization
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_encode_batch_processing
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_encode_empty_input
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_encode_none_input
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceCore::test_embedding_result_format
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceErrorHandling::test_model_encode_error
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceErrorHandling::test_memory_error_handling
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServicePerformance::test_batch_size_optimization
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServicePerformance::test_processing_time_tracking
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServicePerformance::test_model_cache_efficiency
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceIntegration::test_multilingual_support
PASSED tmp/embeddings/test_embedding_service_comprehensive_fixed.py::TestEmbeddingServiceIntegration::test_real_world_embedding_scenarios
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_service_initialization
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_cache_key_generation
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_embedding_caching
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_cache_lru_eviction
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_optimized_embeddings_with_cache
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_optimized_embeddings_without_cache
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_performance_metrics_tracking
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_batch_optimization
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_gpu_availability_check
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_optimized_similarity_search
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_faiss_acceleration
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_numpy_similarity_search
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_cache_clearing
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_cache_warmup
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_error_handling
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_async_optimized_methods
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_performance_under_load
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_metrics_accumulation
PASSED tmp/embeddings/test_optimized_embedding_service.py::TestOptimizedEmbeddingService::test_thread_safety
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_invariant_surnames_unchanged
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_russian_feminine_adjustment
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_russian_masculine_adjustment
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_ukrainian_feminine_adjustment
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_ukrainian_masculine_adjustment
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_insufficient_confidence_gap
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_preserve_original_gendered_form
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_no_matching_endings
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_case_insensitive_matching
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_compound_surnames
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_edge_cases
PASSED tmp/layers/test_adjust_surname_gender.py::TestAdjustSurnameGender::test_confidence_gap_boundary
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_single_person
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_multiple_persons_with_conjunction
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_multiple_persons_with_comma
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_person_with_patronymic
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_person_with_initial
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_skip_non_person_tokens
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_empty_tokens
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_no_person_tokens
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_multiple_separators
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_ukrainian_separators
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_english_separators
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_person_data_structure
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_surname_adjustment_integration
PASSED tmp/layers/test_group_persons.py::TestGroupPersons::test_surname_adjustment_with_high_confidence
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_patronymic_male_clear
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_patronymic_female_clear
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_given_name_male_clear
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_given_name_female_clear
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_surname_male_ending
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_surname_female_ending
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_context_markers_female
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_context_markers_male
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_combined_indicators_strong_female
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_combined_indicators_strong_male
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_uncertain_gender
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_empty_input
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_mixed_indicators_female_wins
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_mixed_indicators_male_wins
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_initial_tokens_ignored
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_ukrainian_surname_endings
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_case_insensitive_matching
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_multiple_patronymics
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_multiple_given_names
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_edge_case_exactly_3_difference
PASSED tmp/layers/test_infer_gender.py::TestInferGender::test_unknown_role_tokens
PASSED tmp/monitoring/test_metrics_basic.py::test_orchestrator_with_metrics_service
PASSED tmp/monitoring/test_metrics_basic.py::test_metrics_service_basic_operations
PASSED tmp/monitoring/test_metrics_basic.py::test_metrics_service_initialization
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_service_initialization
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_counter_metric
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_set_gauge_metric
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_record_histogram_metric
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_timer_metric
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_metric_definitions
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_alert_system
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_alert_cooldown
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_metric_cleanup
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_performance_report
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_system_health_check
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_metric_export
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_thread_safety
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_async_operations
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_memory_usage_tracking
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_metric_labels
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_bulk_operations
PASSED tmp/monitoring/test_metrics_service.py::TestMetricsService::test_error_handling
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_successful_processing_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_validation_failure_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_smart_filter_skip_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_normalization_failure_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_variants_failure_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_embeddings_failure_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_decision_failure_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_slow_processing_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_exception_handling_metrics
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_active_requests_gauge
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_language_detection_distribution
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_histogram_metrics_accuracy
PASSED tmp/monitoring/test_orchestrator_metrics.py::TestOrchestratorMetrics::test_metrics_without_optional_services
PASSED tmp/morphology/test_integration_morphology.py::TestMorphologyIntegration::test_language_detection_priority
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_morph_nominal_caching
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_morph_nominal_name_surn_priority
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_ukrainian_surname_enko_indeclinable
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_ukrainian_surname_sky_forms
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_ukrainian_surname_tsky_forms
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_ukrainian_surname_ov_forms
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_russian_diminutives_expansion
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_ukrainian_diminutives_expansion
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_english_nicknames_expansion
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_surname_gender_adjustment_male
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_surname_gender_adjustment_ukrainian
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_compound_surname_gender_adjustment
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_morphology_preserves_case
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_morphology_handles_compound_words
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_diminutives_with_morphology
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_advanced_features_flag_affects_diminutives
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_advanced_features_flag_affects_morphology
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_unknown_diminutive_fallback
PASSED tmp/morphology/test_morph_and_diminutives.py::TestMorphologyAndDiminutives::test_mixed_language_diminutives
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_initialization
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_basic_name
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_feminine_name
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_surname
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_patronymic
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_compound_name
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_empty_input
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_whitespace_input
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_non_russian_text
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_numbers
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_mixed_text
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_all_forms_with_exception
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_diminutives_masculine
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_diminutives_feminine
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_diminutives_unknown_name
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_diminutives_empty_input
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_word_forms_all_cases
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_word_forms_multiple_parses
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_word_forms_inflection_failure
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_get_word_forms_non_noun
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_is_russian_name_valid_names
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_is_russian_name_invalid_names
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_is_russian_name_edge_cases
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_analyze_name_capitalization
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_analyze_name_whitespace_handling
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_analyze_name_empty_input
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_variants_comprehensive
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_variants_deduplication
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test__generate_variants_max_variants_limit
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_batch_process_names
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_batch_process_names_empty_list
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphology::test_batch_process_names_with_errors
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphologyIntegration::test_real_name_processing_integration
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphologyIntegration::test_performance_with_long_name_lists
PASSED tmp/morphology/test_russian_morphology_service.py::TestRussianMorphologyIntegration::test_memory_usage_with_many_variants
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_word_basic
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_gender_detection_male
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_gender_detection_female
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_declensions_generation
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_diminutives_generation
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_variants_generation
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_transliterations_generation
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_language_detection
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_is_russian_name
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_name_complexity
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_phonetic_variants
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_regional_transliterations
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_basic
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_with_language
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_empty_input
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_none_input
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_whitespace_input
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_special_characters
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_numbers
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_mixed_case
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_very_long
PASSED tmp/morphology/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_unicode_characters
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0421\u0435\u0440\u0433\u0456\u0439-masc-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041e\u043b\u0435\u043d\u0430-femn-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-masc-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0414\u0430\u0440\u0456\u044f-femn-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041f\u0435\u0442\u0440\u043e-masc-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0410\u043d\u043d\u0430-femn-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041c\u0438\u0445\u0430\u0439\u043b\u043e-masc-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430-femn-uk]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_diminutives_generation
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_transliteration_generation
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e-expected_endings0]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u0406\u0432\u0430\u043d\u0435\u043d\u043a\u043e-expected_endings1]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u041c\u0435\u043b\u044c\u043d\u0438\u043a-expected_endings2]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e-expected_endings3]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_edge_cases_handling[-expected_result0]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_edge_cases_handling[\u0410-expected_result1]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_edge_cases_handling[\u0421\u0435\u0440\u0433\u0456\u0439-expected_result2]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u0421\u0435\u0440\u0433\u0456\u0439-expected_ukrainian_chars0]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u041e\u043b\u0435\u043a\u0441\u0456\u0439-expected_ukrainian_chars1]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-expected_ukrainian_chars2]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u0414\u0430\u0440\u0456\u044f-expected_ukrainian_chars3]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u041f\u0435\u0442\u0440\u043e-expected_ukrainian_chars4]
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_name_complexity_analysis
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_correction_logic
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_basic_functionality
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_empty_name_handling
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_short_name_handling
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_auto_language_detection
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_pymorphy3_initialization_success
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_exceptions_dictionary
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_phonetic_variants_generation
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_regional_transliterations
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_get_all_forms_method
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_is_ukrainian_name_detection
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_complexity_level_calculation
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_basic_transliteration
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_language_detection_internal
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_pymorphy_analysis_failure_handling
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_generate_pymorphy_declensions
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_extract_gender_with_name_tags
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_extract_gender_by_endings
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_apply_regional_transliteration
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_whitespace_name_handling
PASSED tmp/morphology/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_none_name_handling
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_gender_detection_petro
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_gender_detection_daria
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_unknown_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_short_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_lemma_special_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_lemma_unknown_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_special_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_gender_special_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_gender_unknown_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_variants_special_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_variants_unknown_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_diminutives_special_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_diminutives_unknown_name
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_basic_functionality
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_with_language_detection
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_empty_string
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_whitespace_only
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_none_input
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_special_characters
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_numbers
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_mixed_case
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_very_long
PASSED tmp/morphology/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_unicode_characters
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_unified_pattern_creation
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_generate_patterns_basic
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_generate_patterns_empty_text
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_document_pattern_extraction
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_contextual_pattern_extraction
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_structured_name_extraction
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_company_pattern_extraction
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_dob_pattern_extraction
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_dictionary_pattern_extraction
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_language_detection
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_pattern_optimization
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_stop_words_filtering
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_multilingual_support
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_export_for_aho_corasick
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_pattern_statistics
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_high_quality_name_validation
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_structured_name_validation
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_company_name_validation
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_performance_with_complex_text
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_legacy_compatibility
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_case_sensitivity_handling
PASSED tmp/patterns/test_unified_pattern_service.py::TestUnifiedPatternService::test_special_characters_handling
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_create_empty_result
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_addresses
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_banking_terms
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_business_types
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_capitalized_names
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_company_signals_empty
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_company_signals_with_keywords
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_financial_services
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_keywords
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_legal_entities
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_detect_registration_numbers
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_extract_detected_keywords
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_get_enhanced_company_analysis
PASSED tmp/screening/test_company_detector.py::TestCompanyDetector::test_initialization
PASSED tmp/screening/test_company_detector.py::TestCompanyDetectorIntegration::test_financial_institution_detection
PASSED tmp/screening/test_company_detector.py::TestCompanyDetectorIntegration::test_multilingual_support
PASSED tmp/screening/test_company_detector.py::TestCompanyDetectorIntegration::test_requirement_banking_terms
PASSED tmp/screening/test_company_detector.py::TestCompanyDetectorIntegration::test_requirement_legal_forms
PASSED tmp/screening/test_company_detector.py::TestCompanyDetectorIntegration::test_requirement_organization_patterns
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_analyze_regular_signals_high_confidence
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_analyze_regular_signals_low_confidence
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_collect_all_signals
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_determine_risk_level
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_get_decision_statistics
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_get_decision_statistics_empty
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_get_detailed_analysis
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_initialization
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_initialization_with_terrorism_detection
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_is_excluded_text
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_make_decision_empty_text
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_make_decision_excluded_text
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_make_regular_decision_thresholds
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_update_thresholds
PASSED tmp/screening/test_decision_logic.py::TestDecisionLogic::test_update_thresholds_invalid_key
PASSED tmp/screening/test_decision_logic.py::TestDecisionResult::test_decision_result_creation
PASSED tmp/screening/test_decision_logic.py::TestDecisionTypes::test_decision_type_values
PASSED tmp/screening/test_decision_logic.py::TestDecisionTypes::test_risk_level_values
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_create_empty_result
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_addresses
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_bank_details
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_contact_info
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_dates
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_document_numbers
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_document_signals_empty
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_document_signals_with_inn
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_detect_inn
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_extract_detected_documents
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_initialization
PASSED tmp/screening/test_document_detector.py::TestDocumentDetector::test_is_valid_date
PASSED tmp/screening/test_document_detector.py::TestDocumentDetectorIntegration::test_comprehensive_document_analysis
PASSED tmp/screening/test_document_detector.py::TestDocumentDetectorIntegration::test_multilingual_document_support
PASSED tmp/screening/test_document_detector.py::TestDocumentDetectorIntegration::test_requirement_address_detection
PASSED tmp/screening/test_document_detector.py::TestDocumentDetectorIntegration::test_requirement_date_detection
PASSED tmp/screening/test_document_detector.py::TestDocumentDetectorIntegration::test_requirement_inn_detection
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_analyze_payment_description
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_date_only_text
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_exclusion_patterns
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_initialization
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_initialization_with_terrorism_detection
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_language_composition_analysis
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_language_detection
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_make_smart_decision
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_service_words_cleaning
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_should_process_text_empty
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_should_process_text_excluded
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_should_process_text_with_signals
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterService::test_text_normalization
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterIntegration::test_company_detection
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterIntegration::test_person_name_detection
PASSED tmp/screening/test_smart_filter_service.py::TestSmartFilterIntegration::test_safe_content_handling
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_create_empty_result
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_detect_activity_patterns
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_detect_financing_patterns
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_detect_organization_patterns
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_detect_terrorism_signals_empty
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_detect_terrorism_signals_excluded_content
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_detect_weapons_patterns
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_determine_risk_level
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_extract_detected_indicators
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_get_risk_assessment
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_initialization
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetector::test_is_excluded_content
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_defensive_purpose_only
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_false_positive_prevention
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_pattern_weights_balance
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_risk_escalation_thresholds
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorIntegration::test_comprehensive_threat_assessment
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorIntegration::test_defensive_system_requirements
PASSED tmp/screening/test_terrorism_detector.py::TestTerrorismDetectorIntegration::test_risk_assessment_workflow
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_proximity_matching_single_person_single_id
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_proximity_matching_multiple_persons_multiple_ids
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_proximity_matching_distance_limits
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_fallback_for_ids_without_position
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_fallback_logic_single_person_single_id
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_no_duplicate_id_assignment
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_assign_id_to_person_method
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_assign_invalid_id_evidence
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_persons_without_names_in_text
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityMatching::test_distance_calculation_accuracy
PASSED tmp/signals/test_id_person_proximity_matching.py::TestIDPersonProximityIntegration::test_full_signals_extraction_with_proximity
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_extract_async_success
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_extract_async_without_normalization
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_extract_async_empty_text
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_extract_async_error_handling
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_async_method_uses_thread_pool
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_concurrent_async_calls
PASSED tmp/signals/test_signals_service_async.py::TestSignalsServiceAsync::test_extract_async_with_different_languages
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_initialization
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_signals_basic
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_signals_with_organization
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_signals_with_birthdate
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_signals_with_ids
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_persons_from_normalization_result
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_organizations_from_normalization_result
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_person_ids
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_organization_ids
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_birthdates
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_enrich_persons_with_ids
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_enrich_organizations_with_ids
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_enrich_with_birthdates_proximity_matching
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_calculate_person_confidence
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_calculate_organization_confidence
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_extract_legal_forms
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_person_to_dict_serialization
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_organization_to_dict_serialization
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceCore::test_calculate_overall_confidence
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceEdgeCases::test_extract_signals_empty_text
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceEdgeCases::test_extract_signals_none_normalization
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceEdgeCases::test_extract_persons_malformed_core
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceEdgeCases::test_confidence_calculation_edge_cases
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceIntegration::test_complex_payment_scenario
PASSED tmp/signals/test_signals_service_comprehensive.py::TestSignalsServiceIntegration::test_multilingual_entity_extraction
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_ac_integration_enabled
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_ac_integration_disabled
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_enhanced_ac_search_enabled
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_enhanced_ac_search_disabled
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_enhanced_ac_search_with_matches
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_enhanced_pattern_analysis
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_pattern_confidence_scoring
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_tier_priority_scoring
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_pattern_type_inference
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_processing_recommendations
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_enhanced_analysis_with_ukrainian_text
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_enhanced_analysis_with_english_text
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_max_matches_limit
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_error_handling_invalid_text
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_integration_with_existing_smart_filter
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_performance_with_long_text
PASSED tmp/smart_filter/test_enhanced_smart_filter.py::TestEnhancedSmartFilter::test_async_compatibility
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_should_process_text_async_success
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_should_process_text_async_excluded
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_should_process_text_async_empty_text
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_should_process_text_async_whitespace_only
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_async_method_uses_thread_pool
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_concurrent_async_calls
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_async_error_handling
PASSED tmp/smart_filter/test_smart_filter_service_async.py::TestSmartFilterServiceAsync::test_async_with_different_text_types
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_aggregates_all_variants
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_without_morphology
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_error_handling
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_empty_text
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_language_detection
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_token_variants_structure
PASSED tmp/test_advanced_normalization_unit.py::TestNormalizationService::test_normalize_async_morphology_integration
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_template_builder_initialization
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_create_entity_template
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_create_batch_templates
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_generate_search_patterns
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_calculate_complexity_score
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_template_builder_logging_setup
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_build_templates_with_different_entity_types
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_template_builder_error_handling
PASSED tmp/test_build_templates_script.py::TestBuildTemplatesScript::test_template_generation_performance
PASSED tmp/test_cache_service.py::TestCacheService::test_basic_set_get
PASSED tmp/test_cache_service.py::TestCacheService::test_get_nonexistent_key
PASSED tmp/test_cache_service.py::TestCacheService::test_lru_eviction
PASSED tmp/test_cache_service.py::TestCacheService::test_ttl_expiration
PASSED tmp/test_cache_service.py::TestCacheService::test_statistics
PASSED tmp/test_cache_service.py::TestCacheService::test_get_or_set_cache_hit
PASSED tmp/test_cache_service.py::TestCacheService::test_get_or_set_cache_miss
PASSED tmp/test_cache_service.py::TestCacheService::test_clear_cache
PASSED tmp/test_cache_service.py::TestCacheService::test_exists_method
PASSED tmp/test_cache_service.py::TestCacheService::test_exists_with_expired_key
PASSED tmp/test_cache_service.py::TestCacheService::test_touch_method
PASSED tmp/test_cache_service.py::TestCacheService::test_touch_nonexistent_key
PASSED tmp/test_cache_service.py::TestCacheService::test_cleanup_expired
PASSED tmp/test_cache_service.py::TestCacheService::test_set_max_size
PASSED tmp/test_cache_service.py::TestCacheService::test_get_keys
PASSED tmp/test_cache_service.py::TestCacheService::test_memory_usage_estimation
PASSED tmp/test_cache_service.py::TestCacheService::test_generate_key_method
PASSED tmp/test_cache_service.py::TestCacheService::test_lru_logic_with_access
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_create_empty_result
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_addresses
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_banking_terms
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_business_types
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_capitalized_names
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_company_signals_empty
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_company_signals_with_keywords
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_financial_services
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_keywords
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_legal_entities
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_detect_registration_numbers
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_extract_detected_keywords
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_get_enhanced_company_analysis
PASSED tmp/test_company_detector.py::TestCompanyDetector::test_initialization
PASSED tmp/test_company_detector.py::TestCompanyDetectorIntegration::test_financial_institution_detection
PASSED tmp/test_company_detector.py::TestCompanyDetectorIntegration::test_multilingual_support
PASSED tmp/test_company_detector.py::TestCompanyDetectorIntegration::test_requirement_banking_terms
PASSED tmp/test_company_detector.py::TestCompanyDetectorIntegration::test_requirement_legal_forms
PASSED tmp/test_company_detector.py::TestCompanyDetectorIntegration::test_requirement_organization_patterns
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_low_risk_canary_scenarios
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_medium_risk_canary_scenarios
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_high_risk_canary_scenarios
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_skip_risk_canary_scenarios
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_edge_case_canary_scenarios
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_score_calculation_stability
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_reasons_stability
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_metrics_recording_stability
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_configuration_stability
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_batch_consistency
PASSED tmp/test_decision_canary.py::TestDecisionCanary::test_canary_regression_detection
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_default_config_values
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_thr_high
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_thr_medium
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_weights
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_all_values
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_invalid_values
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_partial_values
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_unified_config_uses_env_overrides
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_decision_engine_uses_unified_config
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_decision_engine_custom_config_overrides_env
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_decision_engine_functionality_with_env_overrides
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_edge_cases
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_config_model_dump_with_env_overrides
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_case_sensitivity
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_env_override_priority
PASSED tmp/test_decision_config_overrides.py::TestDecisionConfigOverrides::test_multiple_instances_consistency
PASSED tmp/test_decision_contracts.py::TestRiskLevel::test_risk_level_values
PASSED tmp/test_decision_contracts.py::TestRiskLevel::test_risk_level_enumeration
PASSED tmp/test_decision_contracts.py::TestSmartFilterInfo::test_smart_filter_info_creation
PASSED tmp/test_decision_contracts.py::TestSmartFilterInfo::test_smart_filter_info_with_optional
PASSED tmp/test_decision_contracts.py::TestSmartFilterInfo::test_smart_filter_info_serialization
PASSED tmp/test_decision_contracts.py::TestSignalsInfo::test_signals_info_creation
PASSED tmp/test_decision_contracts.py::TestSignalsInfo::test_signals_info_with_optional
PASSED tmp/test_decision_contracts.py::TestSignalsInfo::test_signals_info_serialization
PASSED tmp/test_decision_contracts.py::TestSimilarityInfo::test_similarity_info_creation
PASSED tmp/test_decision_contracts.py::TestSimilarityInfo::test_similarity_info_with_values
PASSED tmp/test_decision_contracts.py::TestSimilarityInfo::test_similarity_info_serialization
PASSED tmp/test_decision_contracts.py::TestDecisionInput::test_decision_input_creation
PASSED tmp/test_decision_contracts.py::TestDecisionInput::test_decision_input_with_all_fields
PASSED tmp/test_decision_contracts.py::TestDecisionInput::test_decision_input_serialization
PASSED tmp/test_decision_contracts.py::TestDecisionOutput::test_decision_output_creation
PASSED tmp/test_decision_contracts.py::TestDecisionOutput::test_decision_output_with_all_fields
PASSED tmp/test_decision_contracts.py::TestDecisionOutput::test_decision_output_to_dict
PASSED tmp/test_decision_contracts.py::TestDecisionConfig::test_decision_config_defaults
PASSED tmp/test_decision_contracts.py::TestDecisionConfig::test_decision_config_custom_values
PASSED tmp/test_decision_contracts.py::TestDecisionEngine::test_decision_engine_initialization
PASSED tmp/test_decision_contracts.py::TestDecisionEngine::test_decision_engine_with_custom_config
PASSED tmp/test_decision_contracts.py::TestDecisionEngine::test_decision_engine_decide_stub
PASSED tmp/test_decision_contracts.py::TestDecisionEngine::test_decision_engine_high_risk_scenario
PASSED tmp/test_decision_contracts.py::TestDecisionEngine::test_decision_engine_low_risk_scenario
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_none_smartfilter_defaults_to_process_true
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_none_signals_defaults_to_zero_confidence
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_none_similarity_defaults_to_zero_contribution
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_all_none_evidence_results_in_low_risk
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_none_confidence_values_default_to_zero
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_none_boolean_flags_default_to_false
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_none_evidence_dict_defaults_to_empty
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_smartfilter_should_process_none_defaults_to_true
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_mixed_none_values_handled_gracefully
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_empty_text_handled_gracefully
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_very_high_confidence_with_none_other_values
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_skip_decision_with_none_values
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_details_contain_safe_values
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_evidence_strength_indicators_with_none_values
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_score_breakdown_with_none_values
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_reasons_generation_with_none_values
PASSED tmp/test_decision_edges.py::TestDecisionEngineEdgeCases::test_decision_engine_never_raises_exceptions
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_skip_scenario_smartfilter_false
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_high_risk_scenario
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_medium_risk_scenario
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_low_risk_scenario
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_score_calculation_deterministic
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_custom_config_weights
PASSED tmp/test_decision_engine_core.py::TestDecisionEngineCore::test_similarity_none_handling
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_strong_smartfilter_signal_reason
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_person_evidence_strong_reason
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_org_evidence_strong_reason
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_high_vector_similarity_reason
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_id_exact_match_reason
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_dob_match_reason
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_multiple_strong_evidence_reasons
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_moderate_evidence_fallback_reasons
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_low_evidence_no_strong_reasons
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_score_breakdown_in_details
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_normalized_features_in_details
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_evidence_strength_indicators
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_weights_and_thresholds_in_details
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_skip_scenario_reasons
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_reasons_consistency_with_evidence_strength
PASSED tmp/test_decision_explain.py::TestDecisionExplanation::test_contribution_calculation_accuracy
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_analyze_regular_signals_high_confidence
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_analyze_regular_signals_low_confidence
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_collect_all_signals
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_determine_risk_level
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_get_decision_statistics
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_get_decision_statistics_empty
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_get_detailed_analysis
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_initialization
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_initialization_with_terrorism_detection
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_is_excluded_text
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_make_decision_empty_text
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_make_decision_excluded_text
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_make_regular_decision_thresholds
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_update_thresholds
PASSED tmp/test_decision_logic.py::TestDecisionLogic::test_update_thresholds_invalid_key
PASSED tmp/test_decision_logic.py::TestDecisionResult::test_decision_result_creation
PASSED tmp/test_decision_logic.py::TestDecisionTypes::test_decision_type_values
PASSED tmp/test_decision_logic.py::TestDecisionTypes::test_risk_level_values
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_create_empty_result
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_addresses
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_bank_details
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_contact_info
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_dates
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_document_numbers
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_document_signals_empty
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_document_signals_with_inn
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_detect_inn
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_extract_detected_documents
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_initialization
PASSED tmp/test_document_detector.py::TestDocumentDetector::test_is_valid_date
PASSED tmp/test_document_detector.py::TestDocumentDetectorIntegration::test_comprehensive_document_analysis
PASSED tmp/test_document_detector.py::TestDocumentDetectorIntegration::test_multilingual_document_support
PASSED tmp/test_document_detector.py::TestDocumentDetectorIntegration::test_requirement_address_detection
PASSED tmp/test_document_detector.py::TestDocumentDetectorIntegration::test_requirement_date_detection
PASSED tmp/test_document_detector.py::TestDocumentDetectorIntegration::test_requirement_inn_detection
PASSED tmp/test_embedding_config.py::TestEmbeddingConfig::test_default_model_name
PASSED tmp/test_embedding_config.py::TestEmbeddingConfig::test_default_device
PASSED tmp/test_embedding_config.py::TestEmbeddingConfig::test_default_batch_size
PASSED tmp/test_embedding_config.py::TestEmbeddingConfig::test_default_enable_index
PASSED tmp/test_embedding_config.py::TestEmbeddingConfig::test_custom_config
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_single_text_encoding
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_multiple_texts_encoding
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_empty_input
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_device_from_config
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_embedding_dimension
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_model_info
PASSED tmp/test_embedding_config.py::TestEmbeddingService::test_lazy_initialization
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_encode_one_returns_384_floats
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_encode_batch_returns_2x384
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_encode_one_empty_text
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_encode_batch_empty_list
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_encode_batch_mixed_valid_empty
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_legacy_encode_method_still_works
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_no_similarity_methods_exist
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_no_indexing_imports
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_enable_index_ignored
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_pure_vector_generation_contract
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_batch_size_from_config
PASSED tmp/test_embedding_contract.py::TestEmbeddingContract::test_device_from_config
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_default_model_works
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_model_switch_to_all_minilm_l6_v2
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_invalid_model_raises_error
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_extra_models_allowlist
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_config_validation_error_messages
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_model_switch_preserves_functionality
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_model_switch_with_batch_processing
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_model_switch_with_preprocessing
PASSED tmp/test_embedding_model_switch.py::TestEmbeddingModelSwitch::test_embedding_dimensions_consistency
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_remove_dates_and_ids_by_default
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_remove_various_date_formats
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_remove_various_id_formats
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_fold_spaces
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_preserve_spaces_when_fold_spaces_false
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_empty_text_handling
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_only_dates_and_ids
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_extract_name_only_method
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_include_attrs_future_flag
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_complex_text_processing
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_organization_names
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_mixed_language_text
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_whitespace_normalization
PASSED tmp/test_embedding_preprocessor.py::TestEmbeddingPreprocessor::test_case_insensitive_removal
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_multilingual_name_triangle_similarity
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_name_vs_noise_low_similarity
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_organization_vs_personal_names_distinction
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_empty_and_whitespace_handling
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_consistency_across_calls
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_embedding_dimensions_consistency
PASSED tmp/test_embeddings_canary_names.py::TestEmbeddingsCanaryNames::test_preprocessing_removes_dates_ids
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_service_initialization
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_ukrainian_name_analysis
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_russian_name_analysis
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_language_detection_priority
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_mixed_language_handling
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_fallback_behavior
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_advanced_normalization_pipeline
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_language_auto_detection
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_morphology_consistency
PASSED tmp/test_integration_morphology.py::TestMorphologyIntegration::test_error_recovery
PASSED tmp/test_lang_canary_random_noise.py::TestLanguageDetectionCanaryRandomNoise::test_random_noise_low_confidence
PASSED tmp/test_lang_canary_random_noise.py::TestLanguageDetectionCanaryRandomNoise::test_noise_patterns_detection
PASSED tmp/test_lang_canary_random_noise.py::TestLanguageDetectionCanaryRandomNoise::test_edge_case_noise_robustness
PASSED tmp/test_lang_canary_random_noise.py::TestLanguageDetectionCanaryRandomNoise::test_reproducible_randomness
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_russian_text_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_ukrainian_text_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_english_text_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_mixed_language_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_unknown_text_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_empty_text_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_whitespace_text_detection
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_ukrainian_specific_characters
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_russian_specific_characters
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_mixed_language_close_ratios
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_config_thresholds_behavior
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_confidence_calculation
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_result_methods
PASSED tmp/test_lang_config_contract.py::TestLanguageConfigContract::test_detailed_analysis_structure
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_short_text_edge_cases
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_acronym_detection_with_confidence_penalty
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_uppercase_text_confidence_penalty
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_numeric_punctuation_dominance
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_normal_text_not_affected
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_mixed_case_acronyms
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_long_words_not_affected
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_edge_case_confidence_ranges
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_empty_and_whitespace_text
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_special_characters_and_unicode
PASSED tmp/test_lang_edge_cases.py::TestLanguageDetectionEdgeCases::test_threshold_boundary_cases
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_ukrainian_priority_detection
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_logic_ambiguous_text
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_empty_text_handling
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_whitespace_only_text
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_quick_patterns_english
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_quick_patterns_russian
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_quick_patterns_ukrainian
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_langdetect_fallback
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_langdetect_exception_handling
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_cyrillic_ukrainian_specific
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_cyrillic_russian_specific
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_cyrillic_patterns
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_latin_only
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_batch_detection
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_detection_statistics
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_reset_statistics
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_supported_languages
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_is_language_supported
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_add_language_mapping
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_add_invalid_language_mapping
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_confidence_scores_limit
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_language_mapping_coverage
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_no_fallback_option
PASSED tmp/test_language_detection_service.py::TestLanguageDetectionService::test_original_detected_language_preservation
PASSED tmp/test_name_detector.py::TestNameDetector::test_create_empty_result
PASSED tmp/test_name_detector.py::TestNameDetector::test_detect_name_signals_empty
PASSED tmp/test_name_detector.py::TestNameDetector::test_detect_name_signals_full_name
PASSED tmp/test_name_detector.py::TestNameDetector::test_detect_name_signals_structure
PASSED tmp/test_name_detector.py::TestNameDetector::test_detect_names_basic
PASSED tmp/test_name_detector.py::TestNameDetector::test_detect_names_empty
PASSED tmp/test_name_detector.py::TestNameDetector::test_detect_names_none
PASSED tmp/test_name_detector.py::TestNameDetector::test_initialization
PASSED tmp/test_name_detector.py::TestNameDetectorIntegration::test_requirement_full_names
PASSED tmp/test_name_detector.py::TestNameDetectorIntegration::test_requirement_names_and_surnames
PASSED tmp/test_name_detector.py::TestNameDetectorIntegration::test_requirement_patronymic_patterns
PASSED tmp/test_name_detector.py::TestNameDetectorIntegration::test_requirement_surname_patterns
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_russian_names_no_internal_duplicates
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_ukrainian_names_no_internal_duplicates
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_english_names_no_internal_duplicates
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_no_cross_dictionary_duplicates
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_additional_english_names_consistency
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_dictionaries_statistics
PASSED tmp/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_name_data_structure
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_process_basic_functionality
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_process_with_smart_filter_skip
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_process_with_validation_error
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_process_with_language_detection_failure
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_process_with_normalization_failure
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_orchestrator_initialization
PASSED tmp/test_orchestrator_service.py::TestUnifiedOrchestrator::test_orchestrator_without_optional_services
PASSED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_language_detection_failure
PASSED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_normalization_failure
PASSED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_orchestrator_initialization
PASSED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_orchestrator_without_optional_services
PASSED tmp/test_pattern_service.py::TestPatternService::test_name_pattern_creation
PASSED tmp/test_pattern_service.py::TestPatternService::test_generate_patterns_basic
PASSED tmp/test_pattern_service.py::TestPatternService::test_generate_patterns_empty_text
PASSED tmp/test_pattern_service.py::TestPatternService::test_generate_patterns_ukrainian
PASSED tmp/test_pattern_service.py::TestPatternService::test_generate_patterns_compound_name
PASSED tmp/test_pattern_service.py::TestPatternService::test_pattern_confidence_scoring
PASSED tmp/test_pattern_service.py::TestPatternService::test_pattern_types_variety
PASSED tmp/test_pattern_service.py::TestPatternService::test_pattern_metadata_inclusion
PASSED tmp/test_pattern_service.py::TestPatternService::test_special_characters_handling
PASSED tmp/test_pattern_service.py::TestPatternService::test_multilingual_pattern_generation
PASSED tmp/test_pattern_service.py::TestPatternService::test_performance_with_long_names
PASSED tmp/test_pattern_service.py::TestPatternService::test_error_handling_invalid_language
PASSED tmp/test_pattern_service.py::TestPatternService::test_pattern_uniqueness
PASSED tmp/test_pattern_service.py::TestPatternService::test_confidence_ordering
PASSED tmp/test_pattern_service.py::TestPatternService::test_empty_and_whitespace_handling
PASSED tmp/test_pattern_service.py::TestPatternService::test_numeric_and_special_content
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_format_processing_result_with_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_format_processing_result_without_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_format_error_response
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_extract_token_variants
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_extract_token_variants_empty_trace
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_risk_level_with_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_risk_level_without_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_risk_score_with_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_risk_score_without_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_decision_reasons_with_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_decision_reasons_without_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_decision_details_with_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_get_decision_details_without_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_extract_smart_filter_info_with_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_extract_smart_filter_info_without_decision
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_extract_signals_summary_with_data
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_extract_signals_summary_without_data
PASSED tmp/test_response_formatter.py::TestResponseFormatter::test_response_structure_completeness
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_python_version_valid
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_python_version_invalid
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_poetry_available
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_poetry_not_available
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_dependencies_success
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_dependencies_failure
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_dependencies_exception
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_spacy_models_all_available
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_spacy_models_some_missing_auto_install_success
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_check_spacy_models_all_missing_no_auto_install
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_run_service_success
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_run_service_no_service_file
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_run_service_exception
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_main_all_checks_pass
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_main_python_check_fails
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_main_poetry_check_fails
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_main_dependencies_check_fails
PASSED tmp/test_run_service_script.py::TestRunServiceScript::test_main_models_check_fails
PASSED tmp/test_run_service_script.py::TestRunServiceScriptIntegration::test_script_imports_successfully
PASSED tmp/test_run_service_script.py::TestRunServiceScriptIntegration::test_script_has_main_guard
PASSED tmp/test_run_service_script.py::TestRunServiceScriptIntegration::test_checks_list_structure
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_gender_detection_male
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_gender_detection_female
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_declensions_generation
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_diminutives_generation
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_variants_generation
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_transliterations_generation
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_language_detection
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_name_complexity
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_phonetic_variants
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_regional_transliterations
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_empty_input
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_none_input
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_whitespace_input
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_special_characters
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_numbers
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_mixed_case
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_very_long
PASSED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_unicode_characters
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_analyze_payment_description
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_date_only_text
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_exclusion_patterns
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_initialization
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_language_composition_analysis
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_language_detection
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_should_process_text_empty
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_should_process_text_with_signals
PASSED tmp/test_smart_filter_service.py::TestSmartFilterService::test_text_normalization
PASSED tmp/test_smart_filter_service.py::TestSmartFilterIntegration::test_company_detection
PASSED tmp/test_smart_filter_service.py::TestSmartFilterIntegration::test_person_name_detection
PASSED tmp/test_smart_filter_service.py::TestSmartFilterIntegration::test_safe_content_handling
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_1_ac_disabled_petrov_no_context
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_2_ac_enabled_with_document_pattern
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_3_ac_enabled_nasa_no_trigger
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_4_ac_enabled_petrov_with_context
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_5_ac_verification_in_name_detector
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_6_confidence_comparison_with_without_ac
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_7_adapter_integration_ac_disabled
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_8_adapter_integration_ac_enabled
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_9_config_flag_behavior
PASSED tmp/test_smartfilter_aho.py::TestSmartFilterAhoCorasickIntegration::test_scenario_10_edge_cases
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_template_creation
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_entity_template_initialization
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_entity_template_to_dict
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_entity_template_to_dict_with_numpy_embeddings
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_get_search_keywords
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_get_high_confidence_patterns
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_build_templates_batch
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_build_templates_batch_with_embeddings
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_build_templates_batch_error_handling
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_calculate_complexity_score
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_get_templates_statistics
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_get_templates_statistics_empty
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_export_templates_for_aho_corasick
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_template_builder_error_handling
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_complexity_score_edge_cases
PASSED tmp/test_template_builder.py::TestTemplateBuilder::test_template_post_init
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_create_empty_result
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_detect_activity_patterns
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_detect_financing_patterns
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_detect_organization_patterns
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_detect_terrorism_signals_empty
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_detect_terrorism_signals_excluded_content
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_detect_weapons_patterns
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_determine_risk_level
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_extract_detected_indicators
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_get_risk_assessment
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_initialization
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetector::test_is_excluded_content
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_defensive_purpose_only
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_false_positive_prevention
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_pattern_weights_balance
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorSafety::test_risk_escalation_thresholds
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorIntegration::test_comprehensive_threat_assessment
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorIntegration::test_defensive_system_requirements
PASSED tmp/test_terrorism_detector.py::TestTerrorismDetectorIntegration::test_risk_assessment_workflow
PASSED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_edge_cases_handling[-expected_result0]
PASSED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_empty_name_handling
PASSED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_pymorphy3_initialization_success
PASSED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_none_name_handling
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_lemma_special_name
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_lemma_unknown_name
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_is_known_word_unknown_name
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_empty_string
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_whitespace_only
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_none_input
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_special_characters
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_numbers
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_mixed_case
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_very_long
PASSED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_unicode_characters
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_aggressive_normalization_sao_paulo
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_cyrillic_processing
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_empty_text_handling
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_none_text_handling
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_complex_mappings_applied
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_confidence_calculation
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_batch_normalization
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_similarity_score
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_encoding_issues_detection
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_preserve_chars_functionality
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_unicode_normalization_nfd_nfkc
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_ascii_folding_failure_handling
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_length_metadata
PASSED tmp/test_unicode_service.py::TestUnicodeService::test_german_umlauts_handling
PASSED tmp/test_unified_contracts.py::TestTokenTrace::test_token_trace_creation
PASSED tmp/test_unified_contracts.py::TestTokenTrace::test_token_trace_with_morphology
PASSED tmp/test_unified_contracts.py::TestTokenTrace::test_token_trace_serialization
PASSED tmp/test_unified_contracts.py::TestNormalizationResult::test_normalization_result_basic
PASSED tmp/test_unified_contracts.py::TestNormalizationResult::test_normalization_result_with_metadata
PASSED tmp/test_unified_contracts.py::TestNormalizationResult::test_normalization_result_serialization
PASSED tmp/test_unified_contracts.py::TestSignalsContracts::test_signals_person
PASSED tmp/test_unified_contracts.py::TestSignalsContracts::test_signals_organization
PASSED tmp/test_unified_contracts.py::TestSignalsContracts::test_signals_result
PASSED tmp/test_unified_contracts.py::TestSmartFilterResult::test_smart_filter_result_basic
PASSED tmp/test_unified_contracts.py::TestSmartFilterResult::test_smart_filter_classifications
PASSED tmp/test_unified_contracts.py::TestUnifiedProcessingResult::test_unified_result_complete
PASSED tmp/test_unified_contracts.py::TestUnifiedProcessingResult::test_unified_result_serialization
PASSED tmp/test_unified_contracts.py::TestUnifiedProcessingResult::test_unified_result_backward_compatibility
PASSED tmp/test_unified_contracts.py::TestProcessingContext::test_processing_context_basic
PASSED tmp/test_unified_contracts.py::TestContractCompatibility::test_contract_chain_compatibility
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_transliteration_variants_grigoriy
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_compound_surname_processing
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_basic_transliteration_functionality
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_multiple_transliteration_standards
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_phonetic_variants_generation
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_visual_similarities_generation
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_typo_variants_generation
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_comprehensive_variants_generation
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_empty_text_handling
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_none_text_handling
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_max_variants_limit
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_language_specific_processing
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_find_best_matches_functionality
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_similarity_calculation
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_keyboard_layout_variants
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_morphological_variants_integration
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_morphological_variants_mocked
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_processing_statistics
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_duplicate_removal
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_case_preservation_and_normalization
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_special_characters_handling
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_performance_with_long_names
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_error_handling_in_transliteration
PASSED tmp/test_variant_generation_service.py::TestVariantGenerationService::test_variant_scores_match_config
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_remove_stop_words_false
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_remove_stop_words_true
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_preserve_names_false
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_preserve_names_true
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_enable_advanced_features_false_slavic
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_enable_advanced_features_true_slavic
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_enable_advanced_features_false_english
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_enable_advanced_features_true_english
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_initial_cleanup_still_works_with_flags
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_all_flags_false
PASSED tmp/text_processing/test_flags_behavior.py::TestFlagsBehavior::test_all_flags_true
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_ukrainian_priority_detection
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_logic_ambiguous_text
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_empty_text_handling
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_whitespace_only_text
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_quick_patterns_english
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_quick_patterns_russian
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_quick_patterns_ukrainian
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_langdetect_fallback
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_langdetect_exception_handling
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_cyrillic_ukrainian_specific
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_cyrillic_russian_specific
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_cyrillic_patterns
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_fallback_latin_only
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_batch_detection
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_detection_statistics
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_reset_statistics
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_supported_languages
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_is_language_supported
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_add_language_mapping
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_add_invalid_language_mapping
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_confidence_scores_limit
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_language_mapping_coverage
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_no_fallback_option
PASSED tmp/text_processing/test_language_detection_service.py::TestLanguageDetectionService::test_original_detected_language_preservation
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043f\u043e\u0441\u043b\u0443\u0433\u0438, \u043f\u043b\u0430\u0442\u043d\u0438\u043a \u041f\u0435\u0442\u0440\u0438\u043a \u041f.-\u041f\u0435\u0442\u0440\u043e \u041f.]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0414\u043b\u044f \u041f\u0435\u0442\u0440\u0443\u0441\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430, \u0437\u0430 \u0440\u0435\u043c\u043e\u043d\u0442-\u041f\u0435\u0442\u0440\u043e \u0406\u0432\u0430\u043d\u043e\u0432]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u041f\u0435\u0440\u0435\u043a\u0430\u0437 \u0432\u0456\u0434 \u0412\u043e\u0432\u0447\u0438\u043a\u0430 \u0417\u0435\u043b\u0435\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0412. \u041e.-\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440 \u0417\u0435\u043b\u0435\u043d\u0441\u044c\u043a\u0438\u0439 \u0412. \u041e.]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u0414\u0430\u0448\u0435\u043d\u044c\u043a\u0438 \u041a\u0432\u0456\u0442\u043a\u043e\u0432\u043e\u0457-\u0414\u0430\u0440\u0456\u044f \u041a\u0432\u0456\u0442\u043a\u043e\u0432\u0430]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0412\u0456\u0434 \u0421\u0430\u0448\u043a\u0430 \u041f\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0437\u0430 \u043a\u0432\u0438\u0442\u043a\u0438-\u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u044c\u043a\u0438\u0439]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0421\u0435\u0440\u0433\u0456\u0454\u0432\u0456 \u0416\u0430\u0434\u0430\u043d\u0443 \u0437\u0430 \u0442\u0432\u043e\u0440\u0447\u0456\u0441\u0442\u044c-\u0421\u0435\u0440\u0433\u0456\u0439 \u0416\u0430\u0434\u0430\u043d]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u041e\u043a\u0441\u0430\u043d\u0438 \u0417\u0430\u0431\u0443\u0436\u043a\u043e-\u041e\u043a\u0441\u0430\u043d\u0430 \u0417\u0430\u0431\u0443\u0436\u043a\u043e]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u041f\u043b\u0442\u0456\u0436 \u0432\u0456\u0434 \u0412'\u044f\u0447\u0435\u0441\u043b\u0430\u0432\u0430 \u0432\u0430\u043a\u0430\u0440\u0447\u0443\u043a\u0430 (\u043e\u043a\u0435\u0430\u043d \u0435\u043b\u044c\u0437\u0438)-\u0412'\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u0412\u0430\u043a\u0430\u0440\u0447\u0443\u043a]
PASSED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u041f\u0435\u0440\u0435\u043a\u0430\u0437 \u041e\u041b\u0415\u0413\u0423 \u0421\u041a\u0420\u0418\u041f\u0426\u0406-\u041e\u043b\u0435\u0433 \u0421\u043a\u0440\u0438\u043f\u043a\u0430]
PASSED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043e\u0442 \u0421\u0430\u0448\u0438 \u041f\u0443\u0448\u043a\u0438\u043d\u0430 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447\u0430-\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u0443\u0448\u043a\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447]
PASSED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0434\u043b\u044f \u0412\u043e\u043b\u043e\u0434\u0438 \u0412\u044b\u0441\u043e\u0446\u043a\u043e\u0433\u043e-\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0412\u044b\u0441\u043e\u0446\u043a\u0438\u0439]
PASSED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u041f\u043b\u0430\u0442\u0451\u0436 \u043e\u0442 \u0414\u0438\u043c\u044b \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432\u0430-\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432]
PASSED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0418\u0432\u0430\u043d\u0443 \u0411\u0443\u043d\u0438\u043d\u0443-\u0418\u0432\u0430\u043d \u0411\u0443\u043d\u0438\u043d]
PASSED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043b\u044f \u0415\u0441\u0435\u043d\u0438\u043d\u0430 \u0421. \u0410.-\u0415\u0441\u0435\u043d\u0438\u043d \u0421. \u0410.]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[Payment from John Fitzgerald Kennedy-John Fitzgerald Kennedy]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[Transfer to Stephen E. King for services-Stephen E. King]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[For Mr. Sherlock Holmes, Baker st. 221b-Sherlock Holmes]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[Refund to Ms. Joanna Rowling-Joanna Rowling]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[From Bill Gates for charity-William Gates]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[For Liz Truss, former PM-Elizabeth Truss]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[Payment from Mike Johnson-Michael Johnson]
PASSED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[For BARACK H. OBAMA, invoice 123-Barack H. Obama]
PASSED tmp/text_processing/test_normalization_result_fields.py::TestNormalizationResultFields::test_normalization_result_metadata_fields
PASSED tmp/text_processing/test_normalization_result_fields.py::TestNormalizationResultFields::test_normalization_result_tokens
PASSED tmp/text_processing/test_normalization_result_fields.py::TestNormalizationResultFields::test_normalization_result_extra_fields_allowed
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_initialization
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_english_text
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_russian_text
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_ukrainian_text
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_fallback
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_auto_language_detection
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_person_names
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_russian_names
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_ukrainian_names
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_initials
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_empty_text
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_whitespace_only
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_special_characters
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_numbers
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_sync_method
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_async_method
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_flags
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_error_handling
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_result_structure
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_with_complex_text
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationServiceConfiguration::test_service_has_required_attributes
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationServiceConfiguration::test_service_has_required_methods
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationServiceConfiguration::test_morph_analyzers_initialization
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationServiceConfiguration::test_name_dictionaries_initialization
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationServiceConfiguration::test_diminutive_maps_initialization
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationResult::test_normalization_result_creation
PASSED tmp/text_processing/test_normalization_service.py::TestNormalizationResult::test_normalization_result_error_case
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_initialization
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_ukrainian_text
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_person_names
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_russian_names
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_ukrainian_names
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_initials
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_empty_text
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_whitespace_only
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_numbers
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_error_handling
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_result_structure
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_complex_text
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationServiceConfiguration::test_service_has_required_attributes
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationServiceConfiguration::test_service_has_required_methods
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationServiceConfiguration::test_morph_analyzers_initialization
PASSED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationServiceConfiguration::test_name_dictionaries_initialization
PASSED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_initialization
PASSED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_ukrainian_text
PASSED tmp/text_processing/test_normalization_service_old.py::TestNormalizationResult::test_normalization_result_creation
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_org_acronyms_are_tagged_as_unknown
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_org_acronyms_not_in_normalized_output
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_person_tokens_survive
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_various_org_acronyms_are_filtered
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_org_acronyms_case_insensitive
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_org_acronyms_excluded_from_positional_fallbacks
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_mixed_content_with_org_acronyms
PASSED tmp/text_processing/test_org_acronyms_filter.py::TestOrgAcronymsFilter::test_org_acronyms_constant_contains_expected_values
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_multi_initial_splitting
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_triple_initial_splitting
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_enhanced_patronymic_patterns_male
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_enhanced_patronymic_patterns_female
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_enhanced_surname_patterns_enko
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_enhanced_surname_patterns_ov_ova
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_enhanced_surname_patterns_sky_ska
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_new_surname_patterns_yan
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_new_surname_patterns_dze
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_conservative_unknown_tagging
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_positional_heuristics_still_work
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_integration_with_organization_roles
PASSED tmp/text_processing/test_role_tagging_extended.py::TestExtendedRoleTagging::test_sentence_with_org_and_people
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_aggressive_normalization_sao_paulo
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_cyrillic_processing
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_empty_text_handling
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_none_text_handling
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_complex_mappings_applied
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_confidence_calculation
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_batch_normalization
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_similarity_score
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_encoding_issues_detection
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_preserve_chars_functionality
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_unicode_normalization_nfd_nfkc
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_ascii_folding_failure_handling
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_unicode_normalization_failure_handling
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_length_metadata
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_case_normalization
PASSED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_german_umlauts_handling
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_transliteration_variants_grigoriy
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_compound_surname_processing
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_basic_transliteration_functionality
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_multiple_transliteration_standards
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_phonetic_variants_generation
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_visual_similarities_generation
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_typo_variants_generation
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_comprehensive_variants_generation
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_empty_text_handling
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_none_text_handling
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_max_variants_limit
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_language_specific_processing
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_find_best_matches_functionality
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_similarity_calculation
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_keyboard_layout_variants
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_morphological_variants_integration
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_morphological_variants_mocked
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_processing_statistics
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_duplicate_removal
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_case_preservation_and_normalization
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_special_characters_handling
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_performance_with_long_names
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_error_handling_in_transliteration
PASSED tmp/text_processing/test_variant_generation_service.py::TestVariantGenerationService::test_variant_scores_match_config
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_ukrainian_apostrophes_unification
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_compound_names_normalization
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_irish_names_apostrophes
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_company_quotes_unification
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_mixed_apostrophes_in_text
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_preserve_meaningful_punctuation
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_confidence_calculation_with_replacements
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_batch_normalization_consistency
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_similarity_after_normalization
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_encoding_recovery_with_apostrophes
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_performance_with_many_replacements
PASSED tmp/unicode/test_apostrophe_normalization.py::TestApostropheNormalization::test_edge_cases_empty_and_none
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_initialization
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalize_text_basic
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalize_text_cyrillic_mapping
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalize_text_latin_diacritics
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalize_text_aggressive_mode
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalize_text_mixed_scripts
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_unicode_nfc_normalization
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_encoding_recovery
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_whitespace_normalization
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_invisible_characters_removal
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_homoglyph_handling
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_preserve_cyrillic_characters
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_edge_cases
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_long_text_handling
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_character_mapping_completeness
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalization_consistency
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_normalization_with_numbers_and_punctuation
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_different_normalization_forms
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeService::test_rtl_and_bidi_text
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeServiceIntegration::test_real_world_name_normalization
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeServiceIntegration::test_payment_text_normalization
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeServiceIntegration::test_normalization_preserves_structure
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeServiceIntegration::test_aggressive_vs_conservative_mode[True]
PASSED tmp/unicode/test_unicode_service_comprehensive.py::TestUnicodeServiceIntegration::test_aggressive_vs_conservative_mode[False]
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_basic_set_get
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_get_nonexistent_key
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_lru_eviction
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_statistics
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_get_or_set_cache_hit
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_get_or_set_cache_miss
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_clear_cache
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_exists_method
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_touch_method
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_touch_nonexistent_key
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_cleanup_expired
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_set_max_size
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_get_keys
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_memory_usage_estimation
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_generate_key_method
PASSED tmp/utilities/test_cache_service.py::TestCacheService::test_lru_logic_with_access
PASSED tmp/utilities/test_canary_overfit.py::TestCanaryOverfit::test_english_context_words
PASSED tmp/utilities/test_canary_overfit.py::TestCanaryOverfit::test_positional_heuristics_blocked_for_context_words
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestUnicodeServiceEdgeCases::test_normalize_text_with_homoglyphs
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestUnicodeServiceEdgeCases::test_normalize_text_with_zero_width_characters
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestUnicodeServiceEdgeCases::test_normalize_text_with_surrogate_pairs
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestUnicodeServiceEdgeCases::test_normalize_text_with_combining_characters
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestUnicodeServiceEdgeCases::test_normalize_text_with_malformed_utf8
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestUnicodeServiceEdgeCases::test_normalize_text_with_rtl_text
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestLanguageDetectionEdgeCases::test_detect_language_very_short_text
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestLanguageDetectionEdgeCases::test_detect_language_numbers_only
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestLanguageDetectionEdgeCases::test_detect_language_symbols_only
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestLanguageDetectionEdgeCases::test_detect_language_mixed_scripts
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestLanguageDetectionEdgeCases::test_detect_language_code_snippets
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestLanguageDetectionEdgeCases::test_detect_language_with_html_tags
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCacheServiceEdgeCases::test_cache_with_complex_objects
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCacheServiceEdgeCases::test_cache_key_collision_with_similar_keys
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCacheServiceEdgeCases::test_cache_overflow_handling
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCacheServiceEdgeCases::test_cache_with_zero_ttl
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCacheServiceEdgeCases::test_cache_with_negative_ttl
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCustomExceptionHandling::test_validation_api_error_creation
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCustomExceptionHandling::test_validation_api_error_with_details
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCustomExceptionHandling::test_internal_server_error_creation
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCustomExceptionHandling::test_service_unavailable_error_creation
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestCustomExceptionHandling::test_exception_chaining
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestResourceCleanupAndMemoryManagement::test_service_cleanup_on_deletion
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestResourceCleanupAndMemoryManagement::test_large_object_caching_memory_usage
PASSED tmp/utilities/test_edge_cases_comprehensive.py::TestResourceCleanupAndMemoryManagement::test_concurrent_access_resource_safety
PASSED tmp/utilities/test_flags_ab_strict.py::test_enable_advanced_features_false_no_morph
PASSED tmp/utilities/test_flags_ab_strict.py::test_preserve_names_false_splits_apostrophe
PASSED tmp/utilities/test_flags_ab_strict.py::test_remove_stop_words_false_keeps_stopwords
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_valid_text_processing
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_zero_width_character_removal
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_control_character_removal
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_suspicious_pattern_detection
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_strict_mode_blocking
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_text_length_limiting
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_empty_text_handling
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_unicode_normalization
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_sanctions_input_validation
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_sanctions_input_missing_required_field
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_sanctions_input_with_malicious_content
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_suspicion_analysis_high_zero_width
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_non_string_input_raises_error
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_whitespace_normalization
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_url_encoding_detection
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_html_entity_detection
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_unicode_normalization_failure
PASSED tmp/utilities/test_input_validation.py::TestInputValidator::test_input_validator_global_instance
PASSED tmp/utilities/test_input_validation.py::TestValidationResult::test_validation_result_creation
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_russian_names_no_internal_duplicates
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_ukrainian_names_no_internal_duplicates
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_english_names_no_internal_duplicates
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_no_cross_dictionary_duplicates
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_additional_english_names_consistency
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_dictionaries_statistics
PASSED tmp/utilities/test_name_dictionaries_validation.py::TestNameDictionariesValidation::test_name_data_structure
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_unified_pattern_creation
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_generate_patterns_basic
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_generate_patterns_empty_text
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_generate_patterns_ukrainian
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_generate_patterns_compound_name
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_pattern_confidence_scoring
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_pattern_types_variety
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_pattern_metadata_inclusion
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_special_characters_handling
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_case_sensitivity_handling
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_multilingual_pattern_generation
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_performance_with_long_names
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_error_handling_invalid_language
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_pattern_uniqueness
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_confidence_ordering
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_empty_and_whitespace_handling
PASSED tmp/utilities/test_pattern_service.py::TestUnifiedPatternService::test_numeric_and_special_content
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_initialization
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_initialize_success
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_initialize_failure
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_not_initialized
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_success
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_invalid_input
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_exception_handling
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_empty_text
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_long_text
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_and_sanitize_none_input
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_with_risk_levels
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_with_blocked_patterns
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_validate_with_warnings
PASSED tmp/validation/test_validation_service.py::TestValidationService::test_interface_compliance
SKIPPED [1] tests/unit/core/test_decision_engine.py:204: Feature not implemented
SKIPPED [1] tests/unit/core/test_decision_engine.py:222: Feature not implemented
SKIPPED [1] tests/unit/core/test_decision_engine.py:238: Feature not implemented
SKIPPED [1] tests/unit/core/test_decision_engine.py:260: Feature not implemented
SKIPPED [1] tests/unit/core/test_decision_engine.py:281: Feature not implemented
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:19: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:36: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:54: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:93: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:119: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:136: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:151: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:166: Test expects AdvancedNormalizationService which no longer exists
SKIPPED [1] tests/unit/morphology/test_integration_morphology.py:182: Test expects AdvancedNormalizationService which no longer exists
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_normalization_result_structure
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_token_trace_completeness
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_organizations_core_separation
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_persons_core_structure
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_flag_behavior_real_impact
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_org_acronyms_always_unknown
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_ascii_no_morph_in_cyrillic
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_womens_surnames_preserved
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_serialization_compatibility
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_performance_requirements
FAILED tmp/layers/test_normalization_contracts.py::TestNormalizationContracts::test_error_handling
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_should_process_basic
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_classification_mapping
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_name_signals_extraction
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_company_signals_extraction
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_payment_signals_extraction
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_error_handling_fallback
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_initialization_required
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_signal_names_extraction
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapter::test_processing_time_tracking
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapterIntegration::test_full_initialization
FAILED tmp/layers/test_smart_filter_adapter.py::TestSmartFilterAdapterIntegration::test_claude_md_compliance
FAILED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_basic_functionality
FAILED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_smart_filter_skip
FAILED tmp/test_orchestrator_service_fixed.py::TestUnifiedOrchestrator::test_process_with_validation_error
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_basic_functionality
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_with_cache_hit
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_with_cache_miss
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_with_embeddings
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_error_handling
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_batch
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_batch_with_exceptions
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_search_similar_names_with_embeddings
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_search_similar_names_fallback
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_analyze_text_complexity
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_get_processing_stats
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_clear_cache
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_reset_stats
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_generate_cache_key
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_update_stats
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_calculate_complexity_score
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_generate_complexity_recommendations
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_force_reprocess_ignores_cache
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_orchestrator_initialization
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_language_service_failure
FAILED tmp/test_orchestrator_service_old.py::TestOrchestratorService::test_process_normalization_service_exception
FAILED tmp/test_pattern_service.py::TestPatternService::test_case_sensitivity_handling
FAILED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_word_basic
FAILED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_is_russian_name
FAILED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_basic
FAILED tmp/test_russian_morphology_unit.py::TestRussianMorphologyAnalyzer::test_analyze_name_with_language
FAILED tmp/test_smart_filter_service.py::TestSmartFilterService::test_initialization_with_terrorism_detection
FAILED tmp/test_smart_filter_service.py::TestSmartFilterService::test_make_smart_decision
FAILED tmp/test_smart_filter_service.py::TestSmartFilterService::test_service_words_cleaning
FAILED tmp/test_smart_filter_service.py::TestSmartFilterService::test_should_process_text_excluded
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0421\u0435\u0440\u0433\u0456\u0439-masc-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041e\u043b\u0435\u043d\u0430-femn-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-masc-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0414\u0430\u0440\u0456\u044f-femn-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041f\u0435\u0442\u0440\u043e-masc-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u0410\u043d\u043d\u0430-femn-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041c\u0438\u0445\u0430\u0439\u043b\u043e-masc-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_detection_for_ukrainian_names[\u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430-femn-uk]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_diminutives_generation
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_transliteration_generation
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e-expected_endings0]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u0406\u0432\u0430\u043d\u0435\u043d\u043a\u043e-expected_endings1]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u041c\u0435\u043b\u044c\u043d\u0438\u043a-expected_endings2]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_surname_endings[\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e-expected_endings3]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_edge_cases_handling[\u0410-expected_result1]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_edge_cases_handling[\u0421\u0435\u0440\u0433\u0456\u0439-expected_result2]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u0421\u0435\u0440\u0433\u0456\u0439-expected_ukrainian_chars0]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u041e\u043b\u0435\u043a\u0441\u0456\u0439-expected_ukrainian_chars1]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-expected_ukrainian_chars2]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u0414\u0430\u0440\u0456\u044f-expected_ukrainian_chars3]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_ukrainian_character_detection[\u041f\u0435\u0442\u0440\u043e-expected_ukrainian_chars4]
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_name_complexity_analysis
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_correction_logic
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_basic_functionality
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_short_name_handling
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_auto_language_detection
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_gender_exceptions_dictionary
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_phonetic_variants_generation
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_regional_transliterations
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_get_all_forms_method
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_is_ukrainian_name_detection
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_complexity_level_calculation
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_basic_transliteration
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_language_detection_internal
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_pymorphy_analysis_failure_handling
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_generate_pymorphy_declensions
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_extract_gender_with_name_tags
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_extract_gender_by_endings
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_apply_regional_transliteration
FAILED tmp/test_ukrainian_morphology.py::TestUkrainianMorphologyAnalyzer::test_whitespace_name_handling
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_gender_detection_petro
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_gender_detection_daria
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_unknown_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_word_short_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_is_known_word_special_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_gender_special_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_gender_unknown_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_variants_special_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_variants_unknown_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_diminutives_special_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_get_diminutives_unknown_name
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_basic_functionality
FAILED tmp/test_ukrainian_morphology_unit.py::TestUkrainianMorphologyAnalyzer::test_analyze_name_with_language_detection
FAILED tmp/test_unicode_service.py::TestUnicodeService::test_final_cleanup - ...
FAILED tmp/test_unicode_service.py::TestUnicodeService::test_unicode_normalization_failure_handling
FAILED tmp/test_unicode_service.py::TestUnicodeService::test_case_normalization
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_complete_pipeline
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_normalization_flags_passed_correctly
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_smart_filter_skip_behavior
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_optional_services_disabled
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_error_handling
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_performance_warning
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_backward_compatibility_methods
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_signals_integration
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_trace_preservation
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_language_hint
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestrator::test_result_serialization
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_valid_services
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_validation_service
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_language_service
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_unicode_service
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_normalization_service
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_none_signals_service
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorConstructor::test_constructor_with_optional_services_none
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorEdgeCases::test_empty_input
FAILED tmp/test_unified_orchestrator.py::TestUnifiedOrchestratorEdgeCases::test_service_initialization_failure
FAILED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0414\u043b\u044f \u0416\u0435\u043d\u0456 \u0413\u0430\u043b\u0438\u0447\u0430 \u0437 \u0433\u0440\u0443\u043f\u0438 O.Torvald-\u0404\u0432\u0433\u0435\u043d \u0413\u0430\u043b\u0438\u0447]
FAILED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0417\u0443\u0441\u0442\u0440\u0456\u0447 \u0437 \u041b\u0456\u043d\u043e\u044e \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e-\u041b\u0456\u043d\u0430 \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e]
FAILED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0420\u043e\u0437\u043c\u043e\u0432\u043b\u044f\u0432 \u0437 \u0412\u0430\u043b\u0435\u0440\u0456\u0454\u043c \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u043c-\u0412\u0430\u043b\u0435\u0440\u0456\u0439 \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u0439]
FAILED tmp/text_processing/test_normalization_logic.py::test_ukrainian_full_normalization[\u0414\u043b\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u0430 \u0421.\u0412.-\u0406\u0432\u0430\u043d\u043e\u0432-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e \u0421.\u0412.]
FAILED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u0414\u043b\u044f \u0410\u043b\u043b\u044b \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u044b \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u043e\u0439-\u0410\u043b\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u0430 \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u0430]
FAILED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u041f\u0435\u0442\u0440\u0443 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443-\u041f\u0435\u0442\u0440 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u0438\u0439]
FAILED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u0412\u0441\u0442\u0440\u0435\u0447\u0430 \u0441 \u0410\u043d\u043d\u043e\u0439 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u043e\u0439-\u0410\u043d\u043d\u0430 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u0430]
FAILED tmp/text_processing/test_normalization_logic.py::test_russian_full_normalization[\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u0442 \u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432\u0430 \u041c.\u042e.-\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432 \u041c.\u042e.]
FAILED tmp/text_processing/test_normalization_logic.py::test_english_full_normalization[Sent to ELON MUSK for X corp-Elon Musk]
FAILED tmp/text_processing/test_normalization_result_fields.py::TestNormalizationResultFields::test_normalization_result_basic_serialization
FAILED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_russian_complex_text
FAILED tmp/text_processing/test_normalization_service.py::TestNormalizationService::test_normalize_ukrainian_complex_text
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_english_text
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_russian_text
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_fallback
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_auto_language_detection
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_special_characters
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_sync_method
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_async_method
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_with_flags
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_russian_complex_text
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationService::test_normalize_ukrainian_complex_text
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationServiceConfiguration::test_diminutive_maps_initialization
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationResult::test_normalization_result_creation
FAILED tmp/text_processing/test_normalization_service_fixed.py::TestNormalizationResult::test_normalization_result_error_case
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_english_text
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_russian_text
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_tokenize_text_fallback_to_nltk
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_tokenize_text_basic_fallback
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_remove_stop_words_english
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_remove_stop_words_russian
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_remove_stop_words_fallback
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_stemming_english
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_stemming_russian
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_stemming_ukrainian
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_stemming_fallback
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_lemmatization_english
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_lemmatization_russian
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_apply_lemmatization_fallback
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_success
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_without_optional_processing
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_ukrainian_with_forms
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_empty_text
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_whitespace_only
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_unicode_error
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_language_detection_error
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationService::test_normalize_processing_error
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceEdgeCases::test_normalize_very_long_text
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceEdgeCases::test_normalize_special_characters
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceEdgeCases::test_normalize_mixed_languages
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceEdgeCases::test_normalize_unsupported_language
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceEdgeCases::test_ukrainian_normalization_basic
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceConfiguration::test_initialization_without_spacy
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceConfiguration::test_initialization_without_nltk
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceConfiguration::test_initialization_minimal_dependencies
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationServiceConfiguration::test_cache_functionality
FAILED tmp/text_processing/test_normalization_service_old.py::TestNormalizationResult::test_normalization_result_error_case
FAILED tmp/text_processing/test_unicode_service.py::TestUnicodeService::test_final_cleanup
FAILED tmp/utilities/test_cache_service.py::TestCacheService::test_ttl_expiration
FAILED tmp/utilities/test_cache_service.py::TestCacheService::test_exists_with_expired_key
FAILED tmp/utilities/test_canary_overfit.py::TestCanaryOverfit::test_context_words_never_become_names
FAILED tmp/utilities/test_canary_overfit.py::TestCanaryOverfit::test_ukrainian_context_words
FAILED tmp/utilities/test_canary_overfit.py::TestCanaryOverfit::test_russian_context_words
FAILED tmp/utilities/test_canary_overfit.py::TestCanaryOverfit::test_mixed_language_context_words
FAILED tmp/utilities/test_input_validation.py::TestInputValidator::test_homoglyph_replacement
FAILED tmp/utilities/test_input_validation.py::TestInputValidator::test_suspicion_analysis_high_homoglyph_ratio
197 failed, 1315 passed, 14 skipped, 94 warnings in 231.41s (0:03:51)
