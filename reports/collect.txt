[1m============================= test session starts ==============================[0m
platform darwin -- Python 3.12.9, pytest-8.4.2, pluggy-1.6.0
rootdir: /Users/dariapavlova/Desktop/ai-service
configfile: pytest.ini
testpaths: tests
plugins: asyncio-1.1.0, anyio-4.10.0, cov-6.2.1
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 1833 items

<Package ai-service>
  <Package tests>
    <Package e2e>
      <Module test_full_pipeline_risk.py>
        <Class TestFullPipelineRiskE2E>
          <Coroutine test_full_pipeline_high_risk_scenario>
          <Coroutine test_decision_engine_integration_with_mock_data>
          <Coroutine test_api_response_format_with_risk_fields>
          <Coroutine test_pipeline_with_different_risk_levels>
          <Coroutine test_pipeline_error_handling>
      <Module test_nightmare_scenario.py>
        <Class TestNightmareScenario>
          <Coroutine test_nightmare_scenario_gnatyuk_abdullaev>
          <Coroutine test_multilingual_nightmare>
          <Coroutine test_corrupted_encoding_nightmare>
          <Coroutine test_performance_nightmare>
          <Coroutine test_edge_cases_nightmare>
          <Coroutine test_cache_effectiveness_nightmare>
          <Coroutine test_batch_nightmare>
      <Module test_sanctions_screening_pipeline.py>
        <Class TestSanctionsScreeningPipelineE2E>
          <Coroutine test_high_risk_sanctioned_individual>
          <Coroutine test_ukrainian_surname_pattern_detection>
          <Coroutine test_low_risk_common_name>
          <Coroutine test_malicious_input_sanitization>
          <Coroutine test_homoglyph_obfuscation_detection>
          <Coroutine test_zero_width_character_obfuscation>
          <Coroutine test_mixed_cyrillic_latin_text>
          <Coroutine test_payment_context_screening>
          <Coroutine test_early_stopping_high_confidence>
          <Coroutine test_multi_language_entity_screening>
          <Coroutine test_performance_under_load>
          <Coroutine test_error_recovery_and_graceful_degradation>
          <Coroutine test_audit_trail_completeness>
          <Coroutine test_risk_level_classification_accuracy>
          <Coroutine test_vector_similarity_integration>
          <Function test_screening_metrics_collection>
          <Coroutine test_configuration_driven_processing>
          <Coroutine test_sanctions_data_format_compatibility>
          <Coroutine test_language_detection_integration>
        <Class TestSanctionsScreeningRobustness>
          <Coroutine test_extremely_long_input_handling>
          <Coroutine test_unicode_edge_cases>
          <Coroutine test_concurrent_screening_stress>
    <Package integration>
      <Module test_api_risk_response.py>
        <Class TestAPIRiskResponse>
          <Function test_process_endpoint_response_format>
          <Function test_process_endpoint_response_without_decision_engine>
          <Function test_decision_output_serialization>
          <Function test_risk_level_values>
      <Module test_diminutive_forms.py>
        <Function test_diminutive_forms>
      <Module test_e2e_sanctions_screening.py>
        <Class TestE2ESanctionsScreening>
          <Coroutine test_russian_person_with_documents>
          <Coroutine test_ukrainian_organization_with_legal_form>
          <Coroutine test_english_mixed_script_name>
          <Coroutine test_complex_payment_description>
          <Coroutine test_edge_case_compound_names>
          <Coroutine test_decision_engine_thresholds>
          <Coroutine test_metrics_collection>
          <Coroutine test_performance_benchmarks>
          <Coroutine test_golden_dataset_stability>
      <Module test_embeddings_multilingual.py>
        <Class TestMultilingualEmbeddings>
          <Function test_name_variants_similarity>
          <Function test_organization_names_similarity>
          <Function test_unrelated_strings_low_similarity>
          <Function test_mixed_script_names>
          <Function test_common_names_different_languages>
          <Function test_organization_variants>
          <Function test_embedding_dimensions_consistency>
          <Function test_preprocessing_effectiveness>
      <Module test_full_normalization_suite.py>
        <Function test_ukrainian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043f\u043e\u0441\u043b\u0443\u0433\u0438, \u043f\u043b\u0430\u0442\u043d\u0438\u043a \u041f\u0435\u0442\u0440\u0438\u043a \u041f.-\u041f\u0435\u0442\u0440\u043e \u041f.]>
        <Function test_ukrainian_full_normalization[\u0414\u043b\u044f \u041f\u0435\u0442\u0440\u0443\u0441\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430, \u0437\u0430 \u0440\u0435\u043c\u043e\u043d\u0442-\u041f\u0435\u0442\u0440\u043e \u0406\u0432\u0430\u043d\u043e\u0432]>
        <Function test_ukrainian_full_normalization[\u041f\u0435\u0440\u0435\u043a\u0430\u0437 \u0432\u0456\u0434 \u0412\u043e\u0432\u0447\u0438\u043a\u0430 \u0417\u0435\u043b\u0435\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0412. \u041e.-\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440 \u0417\u0435\u043b\u0435\u043d\u0441\u044c\u043a\u0438\u0439 \u0412. \u041e.]>
        <Function test_ukrainian_full_normalization[\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u0414\u0430\u0448\u0435\u043d\u044c\u043a\u0438 \u041a\u0432\u0456\u0442\u043a\u043e\u0432\u043e\u0457-\u0414\u0430\u0440\u0456\u044f \u041a\u0432\u0456\u0442\u043a\u043e\u0432\u0430]>
        <Function test_ukrainian_full_normalization[\u0412\u0456\u0434 \u0421\u0430\u0448\u043a\u0430 \u041f\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0437\u0430 \u043a\u0432\u0438\u0442\u043a\u0438-\u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u044c\u043a\u0438\u0439]>
        <Function test_ukrainian_full_normalization[\u0414\u043b\u044f \u0416\u0435\u043d\u0456 \u0413\u0430\u043b\u0438\u0447\u0430 \u0437 \u0433\u0440\u0443\u043f\u0438 O.Torvald-\u0404\u0432\u0433\u0435\u043d \u0413\u0430\u043b\u0438\u0447]>
        <Function test_ukrainian_full_normalization[\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0421\u0435\u0440\u0433\u0456\u0454\u0432\u0456 \u0416\u0430\u0434\u0430\u043d\u0443 \u0437\u0430 \u0442\u0432\u043e\u0440\u0447\u0456\u0441\u0442\u044c-\u0421\u0435\u0440\u0433\u0456\u0439 \u0416\u0430\u0434\u0430\u043d]>
        <Function test_ukrainian_full_normalization[\u0417\u0443\u0441\u0442\u0440\u0456\u0447 \u0437 \u041b\u0456\u043d\u043e\u044e \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e-\u041b\u0456\u043d\u0430 \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e]>
        <Function test_ukrainian_full_normalization[\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u041e\u043a\u0441\u0430\u043d\u0438 \u0417\u0430\u0431\u0443\u0436\u043a\u043e-\u041e\u043a\u0441\u0430\u043d\u0430 \u0417\u0430\u0431\u0443\u0436\u043a\u043e]>
        <Function test_ukrainian_full_normalization[\u0420\u043e\u0437\u043c\u043e\u0432\u043b\u044f\u0432 \u0437 \u0412\u0430\u043b\u0435\u0440\u0456\u0454\u043c \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u043c-\u0412\u0430\u043b\u0435\u0440\u0456\u0439 \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u0439]>
        <Function test_ukrainian_full_normalization[\u041f\u043b\u0442\u0456\u0436 \u0432\u0456\u0434 \u0412'\u044f\u0447\u0435\u0441\u043b\u0430\u0432\u0430 \u0432\u0430\u043a\u0430\u0440\u0447\u0443\u043a\u0430 (\u043e\u043a\u0435\u0430\u043d \u0435\u043b\u044c\u0437\u0438)-\u0412'\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u0412\u0430\u043a\u0430\u0440\u0447\u0443\u043a]>
        <Function test_ukrainian_full_normalization[\u041f\u0435\u0440\u0435\u043a\u0430\u0437 \u041e\u041b\u0415\u0413\u0423 \u0421\u041a\u0420\u0418\u041f\u0426\u0406-\u041e\u043b\u0435\u0433 \u0421\u043a\u0440\u0438\u043f\u043a\u0430]>
        <Function test_ukrainian_full_normalization[\u0414\u043b\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u0430 \u0421.\u0412.-\u0406\u0432\u0430\u043d\u043e\u0432-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e \u0421. \u0412.]>
        <Function test_russian_full_normalization[\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043e\u0442 \u0421\u0430\u0448\u0438 \u041f\u0443\u0448\u043a\u0438\u043d\u0430 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447\u0430-\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u0443\u0448\u043a\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447]>
        <Function test_russian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0434\u043b\u044f \u0412\u043e\u043b\u043e\u0434\u0438 \u0412\u044b\u0441\u043e\u0446\u043a\u043e\u0433\u043e-\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0412\u044b\u0441\u043e\u0446\u043a\u0438\u0439]>
        <Function test_russian_full_normalization[\u041f\u043b\u0430\u0442\u0451\u0436 \u043e\u0442 \u0414\u0438\u043c\u044b \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432\u0430-\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432]>
        <Function test_russian_full_normalization[\u0414\u043b\u044f \u0410\u043b\u043b\u044b \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u044b \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u043e\u0439-\u0410\u043b\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u0430 \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u0430]>
        <Function test_russian_full_normalization[\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u041f\u0435\u0442\u0440\u0443 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443-\u041f\u0435\u0442\u0440 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u0438\u0439]>
        <Function test_russian_full_normalization[\u0412\u0441\u0442\u0440\u0435\u0447\u0430 \u0441 \u0410\u043d\u043d\u043e\u0439 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u043e\u0439-\u0410\u043d\u043d\u0430 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u0430]>
        <Function test_russian_full_normalization[\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0418\u0432\u0430\u043d\u0443 \u0411\u0443\u043d\u0438\u043d\u0443-\u0418\u0432\u0430\u043d \u0411\u0443\u043d\u0438\u043d]>
        <Function test_russian_full_normalization[\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043b\u044f \u0415\u0441\u0435\u043d\u0438\u043d\u0430 \u0421. \u0410.-\u0415\u0441\u0435\u043d\u0438\u043d \u0421. \u0410.]>
        <Function test_russian_full_normalization[\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u0442 \u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432\u0430 \u041c.\u042e.-\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432 \u041c. \u042e.]>
        <Function test_english_full_normalization[Payment from John Fitzgerald Kennedy-John Fitzgerald Kennedy]>
        <Function test_english_full_normalization[Transfer to Stephen E. King for services-Stephen E. King]>
        <Function test_english_full_normalization[For Mr. Sherlock Holmes, Baker st. 221b-Sherlock Holmes]>
        <Function test_english_full_normalization[Refund to Ms. Joanna Rowling-Joanna Rowling]>
        <Function test_english_full_normalization[From Bill Gates for charity-William Gates]>
        <Function test_english_full_normalization[For Liz Truss, former PM-Elizabeth Truss]>
        <Function test_english_full_normalization[Payment from Mike Johnson-Michael Johnson]>
        <Function test_english_full_normalization[Sent to ELON MUSK for X corp-Elon Musk]>
        <Function test_english_full_normalization[For BARACK H. OBAMA, invoice 123-Barack H. Obama]>
        <Function test_critical_ukrainian_normalization>
        <Function test_critical_russian_normalization>
      <Module test_gender_adjustment.py>
        <Class TestGenderAdjustmentIntegration>
          <Function test_ukrainian_female_name_with_patronymic>
          <Function test_russian_male_name_with_patronymic>
          <Function test_russian_female_name_only>
          <Function test_russian_male_dative_case>
          <Function test_ukrainian_invariant_surname_kovalenko>
          <Function test_ukrainian_invariant_surname_sushko>
          <Function test_ukrainian_invariant_surname_lemish>
          <Function test_surname_only_without_name>
          <Function test_multiple_persons_with_different_genders>
          <Function test_confidence_gap_boundary_cases>
          <Function test_trace_information_completeness>
      <Module test_lang_in_results.py>
        <Class TestLanguageInResults>
          <Coroutine test_russian_language_in_results>
          <Coroutine test_ukrainian_language_in_results>
          <Coroutine test_english_language_in_results>
          <Coroutine test_mixed_language_in_results>
          <Coroutine test_unknown_language_in_results>
          <Coroutine test_confidence_range_validation>
          <Function test_normalization_result_language_fields>
          <Function test_processing_result_language_fields>
      <Module test_lang_order_unicode_first.py>
        <Class TestUnicodeFirstLanguageDetectionOrder>
          <Function test_unicode_normalization_before_language_detection>
          <Function test_mixed_unicode_forms_detection>
          <Function test_unicode_idempotency_protection>
          <Function test_diacritics_normalization_stability>
          <Function test_orchestrator_call_order_verification>
          <Function test_edge_cases_unicode_normalization>
          <Function test_unicode_normalization_preserves_meaning>
      <Module test_mixed_language_flow.py>
        <Class TestMixedLanguageFlow>
          <Function test_mixed_language_detection>
          <Function test_mixed_language_normalization>
          <Function test_mixed_language_smart_filter>
          <Function test_mixed_language_signals>
          <Function test_mixed_language_birthdate_proximity>
          <Function test_mixed_language_full_flow>
          <Function test_mixed_language_edge_cases>
          <Function test_mixed_language_confidence_scoring>
          <Function test_mixed_language_token_traces>
      <Module test_mixed_script_names.py>
        <Class TestMixedScriptNames>
          <Function test_ascii_names_in_ukrainian_context>
          <Function test_ascii_names_in_russian_context>
          <Function test_ascii_names_with_cyrillic_surnames>
          <Function test_ascii_names_positional_inference>
          <Function test_ascii_names_no_morphology>
          <Function test_mixed_script_multiple_persons>
          <Function test_ascii_names_with_apostrophes>
          <Function test_ascii_names_not_demoted_to_unknown>
      <Module test_normalization_pipeline.py>
        <Class TestNormalizationPipeline>
          <Coroutine test_ukrainian_name_pipeline>
          <Coroutine test_russian_name_pipeline>
          <Coroutine test_mixed_language_text_pipeline>
          <Coroutine test_compound_name_pipeline>
          <Coroutine test_error_resilience_pipeline>
          <Coroutine test_empty_text_pipeline>
          <Coroutine test_performance_pipeline>
          <Function test_language_detection_consistency>
          <Coroutine test_morphology_integration>
          <Coroutine test_transliteration_integration>
          <Coroutine test_variant_generation_integration>
      <Module test_orchestrator_decision_integration.py>
        <Class TestOrchestratorDecisionIntegration>
          <Coroutine test_high_risk_scenario>
          <Coroutine test_skip_scenario_smartfilter_false>
          <Coroutine test_medium_risk_scenario>
          <Coroutine test_low_risk_scenario>
          <Coroutine test_decision_engine_disabled>
          <Coroutine test_decision_input_creation>
          <Coroutine test_risk_level_determination>
          <Coroutine test_decision_reasons_generation>
      <Module test_persons_grouping.py>
        <Class TestPersonsGroupingIntegration>
          <Function test_single_person_normalization>
          <Function test_multiple_persons_with_conjunction>
          <Function test_persons_with_patronymics>
          <Function test_persons_with_initials>
          <Function test_persons_with_comma_separator>
          <Function test_persons_with_mixed_separators>
          <Function test_persons_with_non_person_tokens>
          <Function test_persons_data_structure>
          <Function test_empty_text>
          <Function test_text_without_persons>
          <Function test_ukrainian_persons>
          <Function test_english_persons>
      <Module test_pipeline_end2end.py>
        <Class TestPipelineEnd2End>
          <Coroutine test_pipeline_integration[ukrainian_simple_name]>
          <Coroutine test_pipeline_integration[ukrainian_full_name_with_patronymic]>
          <Coroutine test_pipeline_integration[ukrainian_company_with_legal_form]>
          <Coroutine test_pipeline_integration[mixed_person_and_company]>
          <Coroutine test_pipeline_integration[person_with_birth_date]>
          <Coroutine test_pipeline_integration[person_with_inn]>
          <Coroutine test_pipeline_integration[mixed_script_names]>
          <Coroutine test_pipeline_integration[noise_context_should_filter]>
          <Coroutine test_pipeline_integration[quoted_company_with_person]>
          <Coroutine test_pipeline_integration[hyphenated_surname]>
          <Coroutine test_pipeline_integration[overfit_canary]>
          <Coroutine test_pipeline_integration[full_pipeline_stress_test]>
          <Coroutine test_normalization_flags_behavior>
          <Coroutine test_performance_requirements>
      <Module test_pipeline_initials_orgs.py>
        <Class TestPipelineInitialsOrgsCase>
          <Coroutine test_initials_only>
          <Coroutine test_english_initials_with_surname>
          <Coroutine test_mixed_initials_and_full_name>
          <Coroutine test_russian_organization_ooo>
          <Coroutine test_ukrainian_organization_tov>
          <Coroutine test_english_organization_llc>
          <Coroutine test_organization_with_person_name>
          <Coroutine test_multiple_organizations>
          <Coroutine test_person_and_organization_mixed>
          <Coroutine test_organization_with_quotes>
          <Coroutine test_initials_with_organization>
          <Coroutine test_multiple_legal_forms>
          <Coroutine test_organization_with_numbers>
          <Coroutine test_foreign_organization>
          <Coroutine test_initials_without_periods>
          <Coroutine test_organization_in_sentence>
          <Coroutine test_mixed_case_organization>
          <Coroutine test_organization_with_address>
          <Coroutine test_no_unknown_in_normalized_output>
      <Module test_pipeline_mixed_en.py>
        <Class TestPipelineMixedEnglishCases>
          <Coroutine test_english_full_name>
          <Coroutine test_english_name_with_apostrophe>
          <Coroutine test_english_hyphenated_name>
          <Coroutine test_mixed_english_ukrainian>
          <Coroutine test_mixed_english_russian>
          <Coroutine test_english_initials>
          <Coroutine test_english_name_with_title>
          <Coroutine test_transliterated_name>
          <Coroutine test_multiple_english_names>
          <Coroutine test_english_name_with_middle_initial>
          <Coroutine test_english_compound_surname>
          <Coroutine test_english_name_case_insensitive>
          <Coroutine test_three_language_mix>
      <Module test_pipeline_negative_canaries.py>
        <Class TestPipelineNegativeCanaries>
          <Coroutine test_empty_text>
          <Coroutine test_whitespace_only>
          <Coroutine test_numbers_only>
          <Coroutine test_punctuation_only>
          <Coroutine test_stop_words_only>
          <Coroutine test_random_gibberish>
          <Coroutine test_special_characters>
          <Coroutine test_emoji_only>
          <Coroutine test_very_long_text>
          <Coroutine test_mixed_scripts_nonsense>
          <Coroutine test_common_words_not_names>
          <Coroutine test_dates_and_addresses>
          <Coroutine test_currencies_and_amounts>
          <Coroutine test_technical_terms>
          <Coroutine test_medical_terms>
          <Coroutine test_country_and_city_names>
          <Coroutine test_brand_names>
          <Coroutine test_malformed_input>
          <Coroutine test_sql_injection_attempt>
          <Coroutine test_no_unknown_tokens_in_output>
      <Module test_pipeline_ru_uk_cases.py>
        <Class TestPipelineRuUkCases>
          <Coroutine test_ukrainian_full_name_with_patronymic>
          <Coroutine test_russian_full_name_with_patronymic>
          <Coroutine test_ukrainian_female_name_with_patronymic>
          <Coroutine test_russian_female_name_with_patronymic>
          <Coroutine test_ukrainian_double_surname>
          <Coroutine test_russian_double_surname>
          <Coroutine test_ukrainian_name_with_initials>
          <Coroutine test_russian_name_with_initials>
          <Coroutine test_ukrainian_compound_name>
          <Coroutine test_russian_compound_name>
          <Coroutine test_ukrainian_name_with_apostrophe>
          <Coroutine test_russian_name_with_apostrophe>
          <Coroutine test_multiple_ukrainian_names>
          <Coroutine test_multiple_russian_names>
          <Coroutine test_ukrainian_name_with_typos>
          <Coroutine test_russian_name_with_typos>
          <Coroutine test_ukrainian_name_with_numbers>
          <Coroutine test_russian_name_with_numbers>
          <Coroutine test_ukrainian_name_with_punctuation>
          <Coroutine test_russian_name_with_punctuation>
          <Coroutine test_ukrainian_name_with_extra_spaces>
          <Coroutine test_russian_name_with_extra_spaces>
          <Coroutine test_ukrainian_name_case_insensitive>
          <Coroutine test_russian_name_case_insensitive>
      <Module test_role_based_normalization.py>
        <Function test_role_based_slavic_normalization[\u0410\u043b\u043b\u044b \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u044b \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u043e\u0439-\u0410\u043b\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u0430 \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u0430-ru]>
        <Function test_role_based_slavic_normalization[\u041f\u0435\u0442\u0440\u0443 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443-\u041f\u0435\u0442\u0440 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u0438\u0439-ru]>
        <Function test_role_based_slavic_normalization[\u0421\u0435\u0440\u0433\u0456\u0454\u0432\u0456 \u0416\u0430\u0434\u0430\u043d\u0443-\u0421\u0435\u0440\u0433\u0456\u0439 \u0416\u0430\u0434\u0430\u043d-uk]>
        <Function test_role_based_slavic_normalization[\u041e\u043a\u0441\u0430\u043d\u0456 \u0417\u0430\u0431\u0443\u0436\u043a\u043e-\u041e\u043a\u0441\u0430\u043d\u0430 \u0417\u0430\u0431\u0443\u0436\u043a\u043e-uk]>
        <Function test_role_based_slavic_normalization[\u041f\u0435\u0442\u0440\u0430 \u0418\u0432\u0430\u043d\u043e\u0432\u0430-\u041f\u0435\u0442\u0440\u043e \u0418\u0432\u0430\u043d\u043e\u0432-uk]>
        <Function test_role_based_slavic_normalization[\u043e\u0442 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u0430 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447\u0430-\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447-ru]>
        <Function test_role_based_slavic_normalization[\u0434\u043b\u044f \u0406\u0432\u0430\u043d\u0456\u0432\u043d\u0438-\u0406\u0432\u0430\u043d\u0456\u0432\u043d\u0430-uk]>
        <Function test_role_based_slavic_normalization[\u0414\u043b\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u0430 \u0421.\u0412.-\u0406\u0432\u0430\u043d\u043e\u0432-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e \u0421. \u0412.-uk]>
        <Function test_role_based_slavic_normalization[Payment from JOHN DOE-John Doe-en]>
        <Function test_role_based_slavic_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0432\u0456\u0434 \u041f\u0435\u0442\u0440\u0430 \u041f\u043e\u0440\u043e\u0448\u0435\u043d\u043a\u0430-\u041f\u0435\u0442\u0440\u043e \u041f\u043e\u0440\u043e\u0448\u0435\u043d\u043a\u043e-uk]>
        <Function test_role_based_slavic_normalization[\u0415\u0441\u0435\u043d\u0438\u043d \u0441. \u0430.-\u0415\u0441\u0435\u043d\u0438\u043d \u0421. \u0410.-ru]>
        <Function test_role_based_slavic_normalization[\u043f\u0443\u0448\u043a\u0438\u043d \u0430 \u0441-\u041f\u0443\u0448\u043a\u0438\u043d \u0410. \u0421.-ru]>
      <Module test_ru_uk_sentences.py>
        <Class TestRussianUkrainianSentences>
          <Function test_russian_complex_sentence>
          <Function test_ukrainian_complex_sentence>
          <Function test_mixed_case_names>
          <Function test_compound_surnames>
          <Function test_quoted_names>
          <Function test_organizations_with_personal_names>
          <Function test_multiple_persons_same_surname>
          <Function test_diminutives_in_context>
          <Function test_ukrainian_diminutives_in_context>
          <Function test_english_names_in_ukrainian_context>
          <Function test_initial_handling_in_sentences>
          <Function test_patronymic_variations>
          <Function test_surname_variations>
          <Function test_ukrainian_surname_variations>
          <Function test_organization_legal_forms_filtering>
          <Function test_performance_with_long_text>
          <Function test_error_handling_malformed_input>
          <Function test_confidence_scoring>
      <Module test_simple_normalization.py>
        <Function test_normalization_directly>
      <Module test_strict_name_extraction.py>
        <Function test_strict_name_extraction>
      <Module test_ukrainian_morphology_simple.py>
        <Function test_ukrainian_morphology_simple>
      <Module test_ukrainian_normalization.py>
        <Class TestUkrainianNormalization>
          <Function test_ukrainian_text_normalization>
          <Function test_ukrainian_stemming_in_normalization>
          <Function test_ukrainian_language_detection>
          <Function test_ukrainian_stop_words_removal>
          <Function test_ukrainian_unicode_handling>
          <Function test_ukrainian_mixed_language_text>
          <Function test_ukrainian_empty_and_short_text>
          <Function test_ukrainian_special_characters>
          <Function test_ukrainian_performance>
    <Dir performance>
      <Module test_embeddings_perf.py>
        <Class TestEmbeddingsPerformance>
          <Function test_warmup_performance>
          <Function test_batch_performance_p95>
          <Function test_repeated_batch_performance>
          <Function test_memory_stability>
          <Function test_single_vs_batch_performance>
          <Function test_large_batch_performance>
          <Function test_empty_and_single_text_performance>
      <Module test_lang_perf.py>
        <Class TestLanguageDetectionPerformance>
          <Function test_single_pass_performance>
          <Function test_debug_details_completeness>
          <Function test_memory_efficiency>
          <Function test_edge_case_performance>
          <Function test_character_counting_accuracy>
    <Package unit>
      <Dir api>
        <Module test_main_endpoints.py>
          <Class TestMainEndpoints>
            <Function test_health_check_no_orchestrator>
            <Function test_health_check_with_orchestrator>
            <Function test_process_text_endpoint_success>
            <Function test_process_text_no_orchestrator>
            <Function test_process_text_internal_error>
            <Function test_process_text_validation_error>
            <Function test_normalize_text_endpoint_success>
            <Function test_process_batch_endpoint_success>
            <Function test_search_similar_endpoint_success>
            <Coroutine test_startup_event_success>
            <Coroutine test_startup_event_failure>
            <Function test_admin_status_endpoint_unauthorized>
            <Function test_admin_status_endpoint_invalid_token>
            <Function test_admin_status_endpoint_success>
            <Function test_cors_configuration>
            <Function test_request_validation_models>
            <Function test_error_handler_responses>
      <Package core>
        <Module test_decision_engine.py>
          <Class TestDecisionEngine>
            <Coroutine test_high_confidence_match_decision>
            <Coroutine test_weak_match_decision>
            <Coroutine test_needs_review_decision>
            <Coroutine test_no_match_decision>
            <Coroutine test_insufficient_data_decision>
            <Coroutine test_evidence_extraction>
            <Coroutine test_risk_factor_identification>
            <Coroutine test_context_sensitive_decisions>
            <Coroutine test_reasoning_generation>
            <Coroutine test_recommendations_generation>
            <Coroutine test_batch_decisions>
            <Function test_threshold_updates>
            <Function test_decision_statistics>
            <Coroutine test_error_handling>
            <Coroutine test_match_type_determination>
            <Coroutine test_processing_time_tracking>
          <Class TestDecisionEngineIntegration>
            <Coroutine test_real_processing_result_decision>
            <Coroutine test_decision_performance>
        <Module test_orchestrator_factory.py>
          <Class TestOrchestratorFactory>
            <Function test_factory_initialization>
            <Coroutine test_create_testing_orchestrator_minimal>
            <Coroutine test_create_testing_orchestrator_full>
            <Coroutine test_create_production_orchestrator>
            <Coroutine test_create_orchestrator_custom_config>
            <Coroutine test_service_initialization_mocking>
            <Coroutine test_service_initialization_error_handling>
            <Coroutine test_optional_services_configuration>
            <Function test_factory_singleton_pattern>
            <Coroutine test_service_dependency_injection>
          <Class TestOrchestratorFactoryIntegration>
            <Coroutine test_real_service_creation>
            <Coroutine test_factory_performance>
      <Dir embeddings>
        <Module test_embedding_service_comprehensive_fixed.py>
          <Class TestEmbeddingServiceCore>
            <Function test_initialization>
            <Function test_default_model_configuration>
            <Function test_load_model_success>
            <Function test_load_model_error>
            <Function test_model_caching>
            <Function test_encode_single_text>
            <Function test_encode_multiple_texts>
            <Function test_encode_with_normalization>
            <Function test_encode_batch_processing>
            <Function test_encode_empty_input>
            <Function test_encode_none_input>
            <Function test_embedding_result_format>
          <Class TestEmbeddingServiceErrorHandling>
            <Function test_model_encode_error>
            <Function test_memory_error_handling>
          <Class TestEmbeddingServicePerformance>
            <Function test_batch_size_optimization>
            <Function test_processing_time_tracking>
            <Function test_model_cache_efficiency>
          <Class TestEmbeddingServiceIntegration>
            <Function test_multilingual_support>
            <Function test_real_world_embedding_scenarios>
        <Module test_optimized_embedding_service.py>
          <Class TestOptimizedEmbeddingService>
            <Function test_service_initialization>
            <Function test_cache_key_generation>
            <Function test_embedding_caching>
            <Function test_cache_lru_eviction>
            <Function test_optimized_embeddings_with_cache>
            <Function test_optimized_embeddings_without_cache>
            <Function test_performance_metrics_tracking>
            <Function test_batch_optimization>
            <Function test_gpu_availability_check>
            <Function test_optimized_similarity_search>
            <Function test_faiss_acceleration>
            <Function test_numpy_similarity_search>
            <Function test_cache_clearing>
            <Function test_cache_warmup>
            <Function test_error_handling>
            <Coroutine test_async_optimized_methods>
            <Function test_performance_under_load>
            <Function test_metrics_accumulation>
            <Function test_thread_safety>
      <Package layers>
        <Module test_adjust_surname_gender.py>
          <Class TestAdjustSurnameGender>
            <Function test_invariant_surnames_unchanged>
            <Function test_russian_feminine_adjustment>
            <Function test_russian_masculine_adjustment>
            <Function test_ukrainian_feminine_adjustment>
            <Function test_ukrainian_masculine_adjustment>
            <Function test_insufficient_confidence_gap>
            <Function test_preserve_original_gendered_form>
            <Function test_no_matching_endings>
            <Function test_case_insensitive_matching>
            <Function test_compound_surnames>
            <Function test_edge_cases>
            <Function test_confidence_gap_boundary>
        <Module test_group_persons.py>
          <Class TestGroupPersons>
            <Function test_single_person>
            <Function test_multiple_persons_with_conjunction>
            <Function test_multiple_persons_with_comma>
            <Function test_person_with_patronymic>
            <Function test_person_with_initial>
            <Function test_skip_non_person_tokens>
            <Function test_empty_tokens>
            <Function test_no_person_tokens>
            <Function test_multiple_separators>
            <Function test_ukrainian_separators>
            <Function test_english_separators>
            <Function test_person_data_structure>
            <Function test_surname_adjustment_integration>
            <Function test_surname_adjustment_with_high_confidence>
        <Module test_infer_gender.py>
          <Class TestInferGender>
            <Function test_patronymic_male_clear>
            <Function test_patronymic_female_clear>
            <Function test_given_name_male_clear>
            <Function test_given_name_female_clear>
            <Function test_surname_male_ending>
            <Function test_surname_female_ending>
            <Function test_context_markers_female>
            <Function test_context_markers_male>
            <Function test_combined_indicators_strong_female>
            <Function test_combined_indicators_strong_male>
            <Function test_uncertain_gender>
            <Function test_empty_input>
            <Function test_mixed_indicators_female_wins>
            <Function test_mixed_indicators_male_wins>
            <Function test_initial_tokens_ignored>
            <Function test_ukrainian_surname_endings>
            <Function test_case_insensitive_matching>
            <Function test_multiple_patronymics>
            <Function test_multiple_given_names>
            <Function test_edge_case_exactly_3_difference>
            <Function test_unknown_role_tokens>
        <Module test_normalization_contracts.py>
          <Class TestNormalizationContracts>
            <Coroutine test_normalization_result_structure>
            <Coroutine test_token_trace_completeness>
            <Coroutine test_organizations_core_separation>
            <Coroutine test_persons_core_structure>
            <Coroutine test_flag_behavior_real_impact>
            <Coroutine test_org_acronyms_always_unknown>
            <Coroutine test_ascii_no_morph_in_cyrillic>
            <Coroutine test_womens_surnames_preserved>
            <Coroutine test_serialization_compatibility>
            <Coroutine test_performance_requirements>
            <Coroutine test_error_handling>
        <Module test_smart_filter_adapter.py>
          <Class TestSmartFilterAdapter>
            <Coroutine test_should_process_basic>
            <Coroutine test_classification_mapping>
            <Coroutine test_name_signals_extraction>
            <Coroutine test_company_signals_extraction>
            <Coroutine test_payment_signals_extraction>
            <Coroutine test_error_handling_fallback>
            <Coroutine test_initialization_required>
            <Coroutine test_signal_names_extraction>
            <Coroutine test_processing_time_tracking>
          <Class TestSmartFilterAdapterIntegration>
            <Coroutine test_full_initialization>
            <Coroutine test_claude_md_compliance>
      <Dir monitoring>
        <Module test_metrics_basic.py>
          <Coroutine test_orchestrator_with_metrics_service>
          <Coroutine test_metrics_service_basic_operations>
          <Function test_metrics_service_initialization>
        <Module test_metrics_service.py>
          <Class TestMetricsService>
            <Function test_service_initialization>
            <Function test_counter_metric>
            <Function test_set_gauge_metric>
            <Function test_record_histogram_metric>
            <Function test_timer_metric>
            <Function test_metric_definitions>
            <Function test_alert_system>
            <Function test_alert_cooldown>
            <Function test_metric_cleanup>
            <Function test_performance_report>
            <Function test_system_health_check>
            <Function test_metric_export>
            <Function test_thread_safety>
            <Coroutine test_async_operations>
            <Function test_memory_usage_tracking>
            <Function test_metric_labels>
            <Function test_bulk_operations>
            <Function test_error_handling>
        <Module test_orchestrator_metrics.py>
          <Class TestOrchestratorMetrics>
            <Coroutine test_successful_processing_metrics>
            <Coroutine test_validation_failure_metrics>
            <Coroutine test_smart_filter_skip_metrics>
            <Coroutine test_normalization_failure_metrics>
            <Coroutine test_variants_failure_metrics>
            <Coroutine test_embeddings_failure_metrics>
            <Coroutine test_decision_failure_metrics>
            <Coroutine test_slow_processing_metrics>
            <Coroutine test_exception_handling_metrics>
            <Coroutine test_active_requests_gauge>
            <Coroutine test_language_detection_distribution>
            <Coroutine test_histogram_metrics_accuracy>
            <Coroutine test_metrics_without_optional_services>
      <Package morphology>
        <Module test_integration_morphology.py>
          <Class TestMorphologyIntegration>
            <Function test_service_initialization>
            <Function test_ukrainian_name_analysis>
            <Function test_russian_name_analysis>
            <Function test_language_detection_priority>
            <Function test_mixed_language_handling>
            <Function test_fallback_behavior>
            <Function test_advanced_normalization_pipeline>
            <Function test_language_auto_detection>
            <Function test_morphology_consistency>
            <Function test_error_recovery>
        <Module test_morph_and_diminutives.py>
          <Class TestMorphologyAndDiminutives>
            <Function test_morph_nominal_caching>
            <Function test_morph_nominal_name_surn_priority>
            <Function test_ukrainian_surname_enko_indeclinable>
            <Function test_ukrainian_surname_sky_forms>
            <Function test_ukrainian_surname_tsky_forms>
            <Function test_ukrainian_surname_ov_forms>
            <Function test_russian_diminutives_expansion>
            <Function test_ukrainian_diminutives_expansion>
            <Function test_english_nicknames_expansion>
            <Function test_surname_gender_adjustment_male>
            <Function test_surname_gender_adjustment_ukrainian>
            <Function test_compound_surname_gender_adjustment>
            <Function test_morphology_preserves_case>
            <Function test_morphology_handles_compound_words>
            <Function test_diminutives_with_morphology>
            <Function test_advanced_features_flag_affects_diminutives>
            <Function test_advanced_features_flag_affects_morphology>
            <Function test_unknown_diminutive_fallback>
            <Function test_mixed_language_diminutives>
        <Module test_russian_morphology_service.py>
          <Class TestRussianMorphology>
            <Function test_initialization>
            <Function test_get_all_forms_basic_name>
            <Function test_get_all_forms_feminine_name>
            <Function test_get_all_forms_surname>
            <Function test_get_all_forms_patronymic>
            <Function test_get_all_forms_compound_name>
            <Function test_get_all_forms_empty_input>
            <Function test_get_all_forms_whitespace_input>
            <Function test_get_all_forms_non_russian_text>
            <Function test_get_all_forms_numbers>
            <Function test_get_all_forms_mixed_text>
            <Function test_get_all_forms_with_exception>
            <Function test__generate_diminutives_masculine>
            <Function test__generate_diminutives_feminine>
            <Function test__generate_diminutives_unknown_name>
            <Function test__generate_diminutives_empty_input>
            <Function test_get_word_forms_all_cases>
            <Function test_get_word_forms_multiple_parses>
            <Function test_get_word_forms_inflection_failure>
            <Function test_get_word_forms_non_noun>
            <Function test_is_russian_name_valid_names>
            <Function test_is_russian_name_invalid_names>
            <Function test_is_russian_name_edge_cases>
            <Function test_analyze_name_capitalization>
            <Function test_analyze_name_whitespace_handling>
            <Function test_analyze_name_empty_input>
            <Function test__generate_variants_comprehensive>
            <Function test__generate_variants_deduplication>
            <Function test__generate_variants_max_variants_limit>
            <Function test_batch_process_names>
            <Function test_batch_process_names_empty_list>
            <Function test_batch_process_names_with_errors>
          <Class TestRussianMorphologyIntegration>
            <Function test_real_name_processing_integration>
            <Function test_performance_with_long_name_lists>
            <Function test_memory_usage_with_many_variants>
        <Module test_russian_morphology_unit.py>
          <Class TestRussianMorphologyAnalyzer>
            <Function test_analyze_word_basic>
            <Function test_gender_detection_male>
            <Function test_gender_detection_female>
            <Function test_declensions_generation>
            <Function test_diminutives_generation>
            <Function test_variants_generation>
            <Function test_transliterations_generation>
            <Function test_language_detection>
            <Function test_is_russian_name>
            <Function test_name_complexity>
            <Function test_phonetic_variants>
            <Function test_regional_transliterations>
            <Function test_analyze_name_basic>
            <Function test_analyze_name_with_language>
            <Function test_analyze_name_empty_input>
            <Function test_analyze_name_none_input>
            <Function test_analyze_name_whitespace_input>
            <Function test_analyze_name_special_characters>
            <Function test_analyze_name_numbers>
            <Function test_analyze_name_mixed_case>
            <Function test_analyze_name_very_long>
            <Function test_analyze_name_unicode_characters>
        <Module test_ukrainian_morphology.py>
          <Class TestUkrainianMorphologyAnalyzer>
            <Function test_gender_detection_for_ukrainian_names[\u0421\u0435\u0440\u0433\u0456\u0439-masc-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u041e\u043b\u0435\u043d\u0430-femn-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-masc-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u0414\u0430\u0440\u0456\u044f-femn-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u041f\u0435\u0442\u0440\u043e-masc-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u0410\u043d\u043d\u0430-femn-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u041c\u0438\u0445\u0430\u0439\u043b\u043e-masc-uk]>
            <Function test_gender_detection_for_ukrainian_names[\u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430-femn-uk]>
            <Function test_diminutives_generation>
            <Function test_transliteration_generation>
            <Function test_ukrainian_surname_endings[\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e-expected_endings0]>
            <Function test_ukrainian_surname_endings[\u0406\u0432\u0430\u043d\u0435\u043d\u043a\u043e-expected_endings1]>
            <Function test_ukrainian_surname_endings[\u041c\u0435\u043b\u044c\u043d\u0438\u043a-expected_endings2]>
            <Function test_ukrainian_surname_endings[\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e-expected_endings3]>
            <Function test_edge_cases_handling[-expected_result0]>
            <Function test_edge_cases_handling[\u0410-expected_result1]>
            <Function test_edge_cases_handling[\u0421\u0435\u0440\u0433\u0456\u0439-expected_result2]>
            <Function test_ukrainian_character_detection[\u0421\u0435\u0440\u0433\u0456\u0439-expected_ukrainian_chars0]>
            <Function test_ukrainian_character_detection[\u041e\u043b\u0435\u043a\u0441\u0456\u0439-expected_ukrainian_chars1]>
            <Function test_ukrainian_character_detection[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-expected_ukrainian_chars2]>
            <Function test_ukrainian_character_detection[\u0414\u0430\u0440\u0456\u044f-expected_ukrainian_chars3]>
            <Function test_ukrainian_character_detection[\u041f\u0435\u0442\u0440\u043e-expected_ukrainian_chars4]>
            <Function test_name_complexity_analysis>
            <Function test_gender_correction_logic>
            <Function test_analyze_name_basic_functionality>
            <Function test_empty_name_handling>
            <Function test_short_name_handling>
            <Function test_auto_language_detection>
            <Function test_pymorphy3_initialization_success>
            <Function test_gender_exceptions_dictionary>
            <Function test_phonetic_variants_generation>
            <Function test_regional_transliterations>
            <Function test_get_all_forms_method>
            <Function test_is_ukrainian_name_detection>
            <Function test_complexity_level_calculation>
            <Function test_basic_transliteration>
            <Function test_language_detection_internal>
            <Function test_pymorphy_analysis_failure_handling>
            <Function test_generate_pymorphy_declensions>
            <Function test_extract_gender_with_name_tags>
            <Function test_extract_gender_by_endings>
            <Function test_apply_regional_transliteration>
            <Function test_whitespace_name_handling>
            <Function test_none_name_handling>
        <Module test_ukrainian_morphology_unit.py>
          <Class TestUkrainianMorphologyAnalyzer>
            <Function test_analyze_word_gender_detection_petro>
            <Function test_analyze_word_gender_detection_daria>
            <Function test_analyze_word_unknown_name>
            <Function test_analyze_word_short_name>
            <Function test_get_lemma_special_name>
            <Function test_get_lemma_unknown_name>
            <Function test_analyze_word_special_name>
            <Function test_get_gender_special_name>
            <Function test_get_gender_unknown_name>
            <Function test_get_variants_special_name>
            <Function test_get_variants_unknown_name>
            <Function test_get_diminutives_special_name>
            <Function test_get_diminutives_unknown_name>
            <Function test_analyze_name_basic_functionality>
            <Function test_analyze_name_with_language_detection>
            <Function test_analyze_name_empty_string>
            <Function test_analyze_name_whitespace_only>
            <Function test_analyze_name_none_input>
            <Function test_analyze_name_special_characters>
            <Function test_analyze_name_numbers>
            <Function test_analyze_name_mixed_case>
            <Function test_analyze_name_very_long>
            <Function test_analyze_name_unicode_characters>
      <Dir patterns>
        <Module test_unified_pattern_service.py>
          <Class TestUnifiedPatternService>
            <Function test_unified_pattern_creation>
            <Function test_generate_patterns_basic>
            <Function test_generate_patterns_empty_text>
            <Function test_document_pattern_extraction>
            <Function test_contextual_pattern_extraction>
            <Function test_structured_name_extraction>
            <Function test_company_pattern_extraction>
            <Function test_dob_pattern_extraction>
            <Function test_dictionary_pattern_extraction>
            <Function test_language_detection>
            <Function test_pattern_optimization>
            <Function test_stop_words_filtering>
            <Function test_multilingual_support>
            <Function test_export_for_aho_corasick>
            <Function test_pattern_statistics>
            <Function test_high_quality_name_validation>
            <Function test_structured_name_validation>
            <Function test_company_name_validation>
            <Function test_performance_with_complex_text>
            <Function test_legacy_compatibility>
            <Function test_case_sensitivity_handling>
            <Function test_special_characters_handling>
      <Package screening>
        <Module test_company_detector.py>
          <UnitTestCase TestCompanyDetector>
            <TestCaseFunction test_create_empty_result>
            <TestCaseFunction test_detect_addresses>
            <TestCaseFunction test_detect_banking_terms>
            <TestCaseFunction test_detect_business_types>
            <TestCaseFunction test_detect_capitalized_names>
            <TestCaseFunction test_detect_company_signals_empty>
            <TestCaseFunction test_detect_company_signals_with_keywords>
            <TestCaseFunction test_detect_financial_services>
            <TestCaseFunction test_detect_keywords>
            <TestCaseFunction test_detect_legal_entities>
            <TestCaseFunction test_detect_registration_numbers>
            <TestCaseFunction test_extract_detected_keywords>
            <TestCaseFunction test_get_enhanced_company_analysis>
            <TestCaseFunction test_initialization>
          <UnitTestCase TestCompanyDetectorIntegration>
            <TestCaseFunction test_financial_institution_detection>
            <TestCaseFunction test_multilingual_support>
            <TestCaseFunction test_requirement_banking_terms>
            <TestCaseFunction test_requirement_legal_forms>
            <TestCaseFunction test_requirement_organization_patterns>
        <Module test_decision_logic.py>
          <UnitTestCase TestDecisionLogic>
            <TestCaseFunction test_analyze_regular_signals_high_confidence>
            <TestCaseFunction test_analyze_regular_signals_low_confidence>
            <TestCaseFunction test_collect_all_signals>
            <TestCaseFunction test_determine_risk_level>
            <TestCaseFunction test_get_decision_statistics>
            <TestCaseFunction test_get_decision_statistics_empty>
            <TestCaseFunction test_get_detailed_analysis>
            <TestCaseFunction test_initialization>
            <TestCaseFunction test_initialization_with_terrorism_detection>
            <TestCaseFunction test_is_excluded_text>
            <TestCaseFunction test_make_decision_empty_text>
            <TestCaseFunction test_make_decision_excluded_text>
            <TestCaseFunction test_make_regular_decision_thresholds>
            <TestCaseFunction test_update_thresholds>
            <TestCaseFunction test_update_thresholds_invalid_key>
          <UnitTestCase TestDecisionResult>
            <TestCaseFunction test_decision_result_creation>
          <UnitTestCase TestDecisionTypes>
            <TestCaseFunction test_decision_type_values>
            <TestCaseFunction test_risk_level_values>
        <Module test_document_detector.py>
          <UnitTestCase TestDocumentDetector>
            <TestCaseFunction test_create_empty_result>
            <TestCaseFunction test_detect_addresses>
            <TestCaseFunction test_detect_bank_details>
            <TestCaseFunction test_detect_contact_info>
            <TestCaseFunction test_detect_dates>
            <TestCaseFunction test_detect_document_numbers>
            <TestCaseFunction test_detect_document_signals_empty>
            <TestCaseFunction test_detect_document_signals_with_inn>
            <TestCaseFunction test_detect_inn>
            <TestCaseFunction test_extract_detected_documents>
            <TestCaseFunction test_initialization>
            <TestCaseFunction test_is_valid_date>
          <UnitTestCase TestDocumentDetectorIntegration>
            <TestCaseFunction test_comprehensive_document_analysis>
            <TestCaseFunction test_multilingual_document_support>
            <TestCaseFunction test_requirement_address_detection>
            <TestCaseFunction test_requirement_date_detection>
            <TestCaseFunction test_requirement_inn_detection>
        <Module test_smart_filter_service.py>
          <UnitTestCase TestSmartFilterService>
            <TestCaseFunction test_analyze_payment_description>
            <TestCaseFunction test_date_only_text>
            <TestCaseFunction test_exclusion_patterns>
            <TestCaseFunction test_initialization>
            <TestCaseFunction test_initialization_with_terrorism_detection>
            <TestCaseFunction test_language_composition_analysis>
            <TestCaseFunction test_language_detection>
            <TestCaseFunction test_make_smart_decision>
            <TestCaseFunction test_service_words_cleaning>
            <TestCaseFunction test_should_process_text_empty>
            <TestCaseFunction test_should_process_text_excluded>
            <TestCaseFunction test_should_process_text_with_signals>
            <TestCaseFunction test_text_normalization>
          <UnitTestCase TestSmartFilterIntegration>
            <TestCaseFunction test_company_detection>
            <TestCaseFunction test_person_name_detection>
            <TestCaseFunction test_safe_content_handling>
        <Module test_terrorism_detector.py>
          <UnitTestCase TestTerrorismDetector>
            <TestCaseFunction test_create_empty_result>
            <TestCaseFunction test_detect_activity_patterns>
            <TestCaseFunction test_detect_financing_patterns>
            <TestCaseFunction test_detect_organization_patterns>
            <TestCaseFunction test_detect_terrorism_signals_empty>
            <TestCaseFunction test_detect_terrorism_signals_excluded_content>
            <TestCaseFunction test_detect_weapons_patterns>
            <TestCaseFunction test_determine_risk_level>
            <TestCaseFunction test_extract_detected_indicators>
            <TestCaseFunction test_get_risk_assessment>
            <TestCaseFunction test_initialization>
            <TestCaseFunction test_is_excluded_content>
          <UnitTestCase TestTerrorismDetectorSafety>
            <TestCaseFunction test_defensive_purpose_only>
            <TestCaseFunction test_false_positive_prevention>
            <TestCaseFunction test_pattern_weights_balance>
            <TestCaseFunction test_risk_escalation_thresholds>
          <UnitTestCase TestTerrorismDetectorIntegration>
            <TestCaseFunction test_comprehensive_threat_assessment>
            <TestCaseFunction test_defensive_system_requirements>
            <TestCaseFunction test_risk_assessment_workflow>
      <Dir signals>
        <Module test_id_person_proximity_matching.py>
          <Class TestIDPersonProximityMatching>
            <Function test_proximity_matching_single_person_single_id>
            <Function test_proximity_matching_multiple_persons_multiple_ids>
            <Function test_proximity_matching_distance_limits>
            <Function test_fallback_for_ids_without_position>
            <Function test_fallback_logic_single_person_single_id>
            <Function test_no_duplicate_id_assignment>
            <Function test_assign_id_to_person_method>
            <Function test_assign_invalid_id_evidence>
            <Function test_persons_without_names_in_text>
            <Function test_distance_calculation_accuracy>
          <Class TestIDPersonProximityIntegration>
            <Function test_full_signals_extraction_with_proximity>
        <Module test_signals_service_async.py>
          <Class TestSignalsServiceAsync>
            <Coroutine test_extract_async_success>
            <Coroutine test_extract_async_without_normalization>
            <Coroutine test_extract_async_empty_text>
            <Coroutine test_extract_async_error_handling>
            <Coroutine test_async_method_uses_thread_pool>
            <Coroutine test_concurrent_async_calls>
            <Coroutine test_extract_async_with_different_languages>
        <Module test_signals_service_comprehensive.py>
          <Class TestSignalsServiceCore>
            <Function test_initialization>
            <Coroutine test_extract_signals_basic>
            <Coroutine test_extract_signals_with_organization>
            <Coroutine test_extract_signals_with_birthdate>
            <Function test_extract_signals_with_ids>
            <Function test_extract_persons_from_normalization_result>
            <Function test_extract_organizations_from_normalization_result>
            <Function test_extract_person_ids>
            <Function test_extract_organization_ids>
            <Function test_extract_birthdates>
            <Function test_enrich_persons_with_ids>
            <Function test_enrich_organizations_with_ids>
            <Function test_enrich_with_birthdates_proximity_matching>
            <Function test_calculate_person_confidence>
            <Function test_calculate_organization_confidence>
            <Function test_extract_legal_forms>
            <Function test_person_to_dict_serialization>
            <Function test_organization_to_dict_serialization>
            <Function test_calculate_overall_confidence>
          <Class TestSignalsServiceEdgeCases>
            <Function test_extract_signals_empty_text>
            <Function test_extract_signals_none_normalization>
            <Function test_extract_persons_malformed_core>
            <Function test_confidence_calculation_edge_cases>
          <Class TestSignalsServiceIntegration>
            <Coroutine test_complex_payment_scenario>
            <Function test_multilingual_entity_extraction>
      <Dir smart_filter>
        <Module test_enhanced_smart_filter.py>
          <Class TestEnhancedSmartFilter>
            <Function test_ac_integration_enabled>
            <Function test_ac_integration_disabled>
            <Function test_enhanced_ac_search_enabled>
            <Function test_enhanced_ac_search_disabled>
            <Function test_enhanced_ac_search_with_matches>
            <Function test_enhanced_pattern_analysis>
            <Function test_pattern_confidence_scoring>
            <Function test_tier_priority_scoring>
            <Function test_pattern_type_inference>
            <Function test_processing_recommendations>
            <Function test_enhanced_analysis_with_ukrainian_text>
            <Function test_enhanced_analysis_with_english_text>
            <Function test_max_matches_limit>
            <Function test_error_handling_invalid_text>
            <Function test_integration_with_existing_smart_filter>
            <Function test_performance_with_long_text>
            <Function test_async_compatibility>
        <Module test_smart_filter_service_async.py>
          <Class TestSmartFilterServiceAsync>
            <Coroutine test_should_process_text_async_success>
            <Coroutine test_should_process_text_async_excluded>
            <Coroutine test_should_process_text_async_empty_text>
            <Coroutine test_should_process_text_async_whitespace_only>
            <Coroutine test_async_method_uses_thread_pool>
            <Coroutine test_concurrent_async_calls>
            <Coroutine test_async_error_handling>
            <Coroutine test_async_with_different_text_types>
      <Module test_advanced_normalization_unit.py>
        <Class TestNormalizationService>
          <Function test_normalize_async_aggregates_all_variants>
          <Function test_normalize_async_without_morphology>
          <Function test_normalize_async_error_handling>
          <Function test_normalize_async_empty_text>
          <Function test_normalize_async_language_detection>
          <Function test_normalize_async_token_variants_structure>
          <Function test_normalize_async_morphology_integration>
      <Module test_build_templates_script.py>
        <Class TestBuildTemplatesScript>
          <Function test_template_builder_initialization>
          <Function test_create_entity_template>
          <Function test_create_batch_templates>
          <Function test_generate_search_patterns>
          <Function test_calculate_complexity_score>
          <Function test_template_builder_logging_setup>
          <Function test_build_templates_with_different_entity_types>
          <Function test_template_builder_error_handling>
          <Function test_template_generation_performance>
      <Module test_cache_service.py>
        <Class TestCacheService>
          <Function test_basic_set_get>
          <Function test_get_nonexistent_key>
          <Function test_lru_eviction>
          <Coroutine test_ttl_expiration>
          <Function test_statistics>
          <Function test_get_or_set_cache_hit>
          <Function test_get_or_set_cache_miss>
          <Function test_clear_cache>
          <Function test_exists_method>
          <Coroutine test_exists_with_expired_key>
          <Function test_touch_method>
          <Function test_touch_nonexistent_key>
          <Function test_cleanup_expired>
          <Function test_set_max_size>
          <Function test_get_keys>
          <Function test_memory_usage_estimation>
          <Function test_generate_key_method>
          <Function test_lru_logic_with_access>
      <Module test_company_detector.py>
        <UnitTestCase TestCompanyDetector>
          <TestCaseFunction test_create_empty_result>
          <TestCaseFunction test_detect_addresses>
          <TestCaseFunction test_detect_banking_terms>
          <TestCaseFunction test_detect_business_types>
          <TestCaseFunction test_detect_capitalized_names>
          <TestCaseFunction test_detect_company_signals_empty>
          <TestCaseFunction test_detect_company_signals_with_keywords>
          <TestCaseFunction test_detect_financial_services>
          <TestCaseFunction test_detect_keywords>
          <TestCaseFunction test_detect_legal_entities>
          <TestCaseFunction test_detect_registration_numbers>
          <TestCaseFunction test_extract_detected_keywords>
          <TestCaseFunction test_get_enhanced_company_analysis>
          <TestCaseFunction test_initialization>
        <UnitTestCase TestCompanyDetectorIntegration>
          <TestCaseFunction test_financial_institution_detection>
          <TestCaseFunction test_multilingual_support>
          <TestCaseFunction test_requirement_banking_terms>
          <TestCaseFunction test_requirement_legal_forms>
          <TestCaseFunction test_requirement_organization_patterns>
      <Module test_decision_canary.py>
        <Class TestDecisionCanary>
          <Function test_low_risk_canary_scenarios>
          <Function test_medium_risk_canary_scenarios>
          <Function test_high_risk_canary_scenarios>
          <Function test_skip_risk_canary_scenarios>
          <Function test_edge_case_canary_scenarios>
          <Function test_score_calculation_stability>
          <Function test_reasons_stability>
          <Function test_metrics_recording_stability>
          <Function test_configuration_stability>
          <Function test_batch_consistency>
          <Function test_canary_regression_detection>
      <Module test_decision_config_overrides.py>
        <Class TestDecisionConfigOverrides>
          <Function test_default_config_values>
          <Function test_env_override_thr_high>
          <Function test_env_override_thr_medium>
          <Function test_env_override_weights>
          <Function test_env_override_all_values>
          <Function test_env_override_invalid_values>
          <Function test_env_override_partial_values>
          <Function test_unified_config_uses_env_overrides>
          <Function test_decision_engine_uses_unified_config>
          <Function test_decision_engine_custom_config_overrides_env>
          <Function test_decision_engine_functionality_with_env_overrides>
          <Function test_env_override_edge_cases>
          <Function test_config_model_dump_with_env_overrides>
          <Function test_env_override_case_sensitivity>
          <Function test_env_override_priority>
          <Function test_multiple_instances_consistency>
      <Module test_decision_contracts.py>
        <Class TestRiskLevel>
          <Function test_risk_level_values>
          <Function test_risk_level_enumeration>
        <Class TestSmartFilterInfo>
          <Function test_smart_filter_info_creation>
          <Function test_smart_filter_info_with_optional>
          <Function test_smart_filter_info_serialization>
        <Class TestSignalsInfo>
          <Function test_signals_info_creation>
          <Function test_signals_info_with_optional>
          <Function test_signals_info_serialization>
        <Class TestSimilarityInfo>
          <Function test_similarity_info_creation>
          <Function test_similarity_info_with_values>
          <Function test_similarity_info_serialization>
        <Class TestDecisionInput>
          <Function test_decision_input_creation>
          <Function test_decision_input_with_all_fields>
          <Function test_decision_input_serialization>
        <Class TestDecisionOutput>
          <Function test_decision_output_creation>
          <Function test_decision_output_with_all_fields>
          <Function test_decision_output_to_dict>
        <Class TestDecisionConfig>
          <Function test_decision_config_defaults>
          <Function test_decision_config_custom_values>
        <Class TestDecisionEngine>
          <Function test_decision_engine_initialization>
          <Function test_decision_engine_with_custom_config>
          <Function test_decision_engine_decide_stub>
          <Function test_decision_engine_high_risk_scenario>
          <Function test_decision_engine_low_risk_scenario>
      <Module test_decision_edges.py>
        <Class TestDecisionEngineEdgeCases>
          <Function test_none_smartfilter_defaults_to_process_true>
          <Function test_none_signals_defaults_to_zero_confidence>
          <Function test_none_similarity_defaults_to_zero_contribution>
          <Function test_all_none_evidence_results_in_low_risk>
          <Function test_none_confidence_values_default_to_zero>
          <Function test_none_boolean_flags_default_to_false>
          <Function test_none_evidence_dict_defaults_to_empty>
          <Function test_smartfilter_should_process_none_defaults_to_true>
          <Function test_mixed_none_values_handled_gracefully>
          <Function test_empty_text_handled_gracefully>
          <Function test_very_high_confidence_with_none_other_values>
          <Function test_skip_decision_with_none_values>
          <Function test_details_contain_safe_values>
          <Function test_evidence_strength_indicators_with_none_values>
          <Function test_score_breakdown_with_none_values>
          <Function test_reasons_generation_with_none_values>
          <Function test_decision_engine_never_raises_exceptions>
      <Module test_decision_engine_core.py>
        <Class TestDecisionEngineCore>
          <Function test_skip_scenario_smartfilter_false>
          <Function test_high_risk_scenario>
          <Function test_medium_risk_scenario>
          <Function test_low_risk_scenario>
          <Function test_score_calculation_deterministic>
          <Function test_custom_config_weights>
          <Function test_similarity_none_handling>
      <Module test_decision_explain.py>
        <Class TestDecisionExplanation>
          <Function test_strong_smartfilter_signal_reason>
          <Function test_person_evidence_strong_reason>
          <Function test_org_evidence_strong_reason>
          <Function test_high_vector_similarity_reason>
          <Function test_id_exact_match_reason>
          <Function test_dob_match_reason>
          <Function test_multiple_strong_evidence_reasons>
          <Function test_moderate_evidence_fallback_reasons>
          <Function test_low_evidence_no_strong_reasons>
          <Function test_score_breakdown_in_details>
          <Function test_normalized_features_in_details>
          <Function test_evidence_strength_indicators>
          <Function test_weights_and_thresholds_in_details>
          <Function test_skip_scenario_reasons>
          <Function test_reasons_consistency_with_evidence_strength>
          <Function test_contribution_calculation_accuracy>
      <Module test_decision_logic.py>
        <UnitTestCase TestDecisionLogic>
          <TestCaseFunction test_analyze_regular_signals_high_confidence>
          <TestCaseFunction test_analyze_regular_signals_low_confidence>
          <TestCaseFunction test_collect_all_signals>
          <TestCaseFunction test_determine_risk_level>
          <TestCaseFunction test_get_decision_statistics>
          <TestCaseFunction test_get_decision_statistics_empty>
          <TestCaseFunction test_get_detailed_analysis>
          <TestCaseFunction test_initialization>
          <TestCaseFunction test_initialization_with_terrorism_detection>
          <TestCaseFunction test_is_excluded_text>
          <TestCaseFunction test_make_decision_empty_text>
          <TestCaseFunction test_make_decision_excluded_text>
          <TestCaseFunction test_make_regular_decision_thresholds>
          <TestCaseFunction test_update_thresholds>
          <TestCaseFunction test_update_thresholds_invalid_key>
        <UnitTestCase TestDecisionResult>
          <TestCaseFunction test_decision_result_creation>
        <UnitTestCase TestDecisionTypes>
          <TestCaseFunction test_decision_type_values>
          <TestCaseFunction test_risk_level_values>
      <Module test_document_detector.py>
        <UnitTestCase TestDocumentDetector>
          <TestCaseFunction test_create_empty_result>
          <TestCaseFunction test_detect_addresses>
          <TestCaseFunction test_detect_bank_details>
          <TestCaseFunction test_detect_contact_info>
          <TestCaseFunction test_detect_dates>
          <TestCaseFunction test_detect_document_numbers>
          <TestCaseFunction test_detect_document_signals_empty>
          <TestCaseFunction test_detect_document_signals_with_inn>
          <TestCaseFunction test_detect_inn>
          <TestCaseFunction test_extract_detected_documents>
          <TestCaseFunction test_initialization>
          <TestCaseFunction test_is_valid_date>
        <UnitTestCase TestDocumentDetectorIntegration>
          <TestCaseFunction test_comprehensive_document_analysis>
          <TestCaseFunction test_multilingual_document_support>
          <TestCaseFunction test_requirement_address_detection>
          <TestCaseFunction test_requirement_date_detection>
          <TestCaseFunction test_requirement_inn_detection>
      <Module test_embedding_config.py>
        <Class TestEmbeddingConfig>
          <Function test_default_model_name>
          <Function test_default_device>
          <Function test_default_batch_size>
          <Function test_default_enable_index>
          <Function test_custom_config>
        <Class TestEmbeddingService>
          <Function test_single_text_encoding>
          <Function test_multiple_texts_encoding>
          <Function test_empty_input>
          <Function test_device_from_config>
          <Function test_embedding_dimension>
          <Function test_model_info>
          <Function test_lazy_initialization>
      <Module test_embedding_contract.py>
        <Class TestEmbeddingContract>
          <Function test_encode_one_returns_384_floats>
          <Function test_encode_batch_returns_2x384>
          <Function test_encode_one_empty_text>
          <Function test_encode_batch_empty_list>
          <Function test_encode_batch_mixed_valid_empty>
          <Function test_legacy_encode_method_still_works>
          <Function test_no_similarity_methods_exist>
          <Function test_no_indexing_imports>
          <Function test_enable_index_ignored>
          <Function test_pure_vector_generation_contract>
          <Function test_batch_size_from_config>
          <Function test_device_from_config>
      <Module test_embedding_model_switch.py>
        <Class TestEmbeddingModelSwitch>
          <Function test_default_model_works>
          <Function test_model_switch_to_all_minilm_l6_v2>
          <Function test_invalid_model_raises_error>
          <Function test_extra_models_allowlist>
          <Function test_config_validation_error_messages>
          <Function test_model_switch_preserves_functionality>
          <Function test_model_switch_with_batch_processing>
          <Function test_model_switch_with_preprocessing>
          <Function test_embedding_dimensions_consistency>
      <Module test_embedding_preprocessor.py>
        <Class TestEmbeddingPreprocessor>
          <Function test_remove_dates_and_ids_by_default>
          <Function test_remove_various_date_formats>
          <Function test_remove_various_id_formats>
          <Function test_fold_spaces>
          <Function test_preserve_spaces_when_fold_spaces_false>
          <Function test_empty_text_handling>
          <Function test_only_dates_and_ids>
          <Function test_extract_name_only_method>
          <Function test_include_attrs_future_flag>
          <Function test_complex_text_processing>
          <Function test_organization_names>
          <Function test_mixed_language_text>
          <Function test_whitespace_normalization>
          <Function test_case_insensitive_removal>
      <Module test_embeddings_canary_names.py>
        <Class TestEmbeddingsCanaryNames>
          <Function test_multilingual_name_triangle_similarity>
          <Function test_name_vs_noise_low_similarity>
          <Function test_organization_vs_personal_names_distinction>
          <Function test_empty_and_whitespace_handling>
          <Function test_consistency_across_calls>
          <Function test_embedding_dimensions_consistency>
          <Function test_preprocessing_removes_dates_ids>
      <Module test_integration_morphology.py>
        <Class TestMorphologyIntegration>
          <Function test_service_initialization>
          <Function test_ukrainian_name_analysis>
          <Function test_russian_name_analysis>
          <Function test_language_detection_priority>
          <Function test_mixed_language_handling>
          <Function test_fallback_behavior>
          <Function test_advanced_normalization_pipeline>
          <Function test_language_auto_detection>
          <Function test_morphology_consistency>
          <Function test_error_recovery>
      <Module test_lang_canary_random_noise.py>
        <Class TestLanguageDetectionCanaryRandomNoise>
          <Function test_random_noise_low_confidence>
          <Function test_noise_patterns_detection>
          <Function test_edge_case_noise_robustness>
          <Function test_reproducible_randomness>
      <Module test_lang_config_contract.py>
        <Class TestLanguageConfigContract>
          <Function test_russian_text_detection>
          <Function test_ukrainian_text_detection>
          <Function test_english_text_detection>
          <Function test_mixed_language_detection>
          <Function test_unknown_text_detection>
          <Function test_empty_text_detection>
          <Function test_whitespace_text_detection>
          <Function test_ukrainian_specific_characters>
          <Function test_russian_specific_characters>
          <Function test_mixed_language_close_ratios>
          <Function test_config_thresholds_behavior>
          <Function test_confidence_calculation>
          <Function test_result_methods>
          <Function test_detailed_analysis_structure>
      <Module test_lang_edge_cases.py>
        <Class TestLanguageDetectionEdgeCases>
          <Function test_short_text_edge_cases>
          <Function test_acronym_detection_with_confidence_penalty>
          <Function test_uppercase_text_confidence_penalty>
          <Function test_numeric_punctuation_dominance>
          <Function test_normal_text_not_affected>
          <Function test_mixed_case_acronyms>
          <Function test_long_words_not_affected>
          <Function test_edge_case_confidence_ranges>
          <Function test_empty_and_whitespace_text>
          <Function test_special_characters_and_unicode>
          <Function test_threshold_boundary_cases>
      <Module test_language_detection_service.py>
        <Class TestLanguageDetectionService>
          <Function test_ukrainian_priority_detection>
          <Function test_fallback_logic_ambiguous_text>
          <Function test_empty_text_handling>
          <Function test_whitespace_only_text>
          <Function test_quick_patterns_english>
          <Function test_quick_patterns_russian>
          <Function test_quick_patterns_ukrainian>
          <Function test_langdetect_fallback>
          <Function test_langdetect_exception_handling>
          <Function test_fallback_cyrillic_ukrainian_specific>
          <Function test_fallback_cyrillic_russian_specific>
          <Function test_fallback_cyrillic_patterns>
          <Function test_fallback_latin_only>
          <Function test_batch_detection>
          <Function test_detection_statistics>
          <Function test_reset_statistics>
          <Function test_supported_languages>
          <Function test_is_language_supported>
          <Function test_add_language_mapping>
          <Function test_add_invalid_language_mapping>
          <Function test_confidence_scores_limit>
          <Function test_language_mapping_coverage>
          <Function test_no_fallback_option>
          <Function test_original_detected_language_preservation>
      <Module test_name_detector.py>
        <UnitTestCase TestNameDetector>
          <TestCaseFunction test_create_empty_result>
          <TestCaseFunction test_detect_name_signals_empty>
          <TestCaseFunction test_detect_name_signals_full_name>
          <TestCaseFunction test_detect_name_signals_structure>
          <TestCaseFunction test_detect_names_basic>
          <TestCaseFunction test_detect_names_empty>
          <TestCaseFunction test_detect_names_none>
          <TestCaseFunction test_initialization>
        <UnitTestCase TestNameDetectorIntegration>
          <TestCaseFunction test_requirement_full_names>
          <TestCaseFunction test_requirement_names_and_surnames>
          <TestCaseFunction test_requirement_patronymic_patterns>
          <TestCaseFunction test_requirement_surname_patterns>
      <Module test_name_dictionaries_validation.py>
        <Class TestNameDictionariesValidation>
          <Function test_russian_names_no_internal_duplicates>
          <Function test_ukrainian_names_no_internal_duplicates>
          <Function test_english_names_no_internal_duplicates>
          <Function test_no_cross_dictionary_duplicates>
          <Function test_additional_english_names_consistency>
          <Function test_dictionaries_statistics>
          <Function test_name_data_structure>
      <Module test_orchestrator_service.py>
        <Class TestUnifiedOrchestrator>
          <Coroutine test_process_basic_functionality>
          <Coroutine test_process_with_smart_filter_skip>
          <Coroutine test_process_with_validation_error>
          <Coroutine test_process_with_language_detection_failure>
          <Coroutine test_process_with_normalization_failure>
          <Function test_orchestrator_initialization>
          <Function test_orchestrator_without_optional_services>
      <Module test_orchestrator_service_fixed.py>
        <Class TestUnifiedOrchestrator>
          <Coroutine test_process_basic_functionality>
          <Coroutine test_process_with_smart_filter_skip>
          <Coroutine test_process_with_validation_error>
          <Coroutine test_process_with_language_detection_failure>
          <Coroutine test_process_with_normalization_failure>
          <Function test_orchestrator_initialization>
          <Function test_orchestrator_without_optional_services>
      <Module test_orchestrator_service_old.py>
        <Class TestOrchestratorService>
          <Coroutine test_process_basic_functionality>
          <Coroutine test_process_with_cache_hit>
          <Coroutine test_process_with_cache_miss>
          <Coroutine test_process_with_embeddings>
          <Coroutine test_process_error_handling>
          <Coroutine test_process_batch>
          <Coroutine test_process_batch_with_exceptions>
          <Coroutine test_search_similar_names_with_embeddings>
          <Coroutine test_search_similar_names_fallback>
          <Coroutine test_analyze_text_complexity>
          <Function test_get_processing_stats>
          <Function test_clear_cache>
          <Function test_reset_stats>
          <Function test_generate_cache_key>
          <Function test_update_stats>
          <Function test_calculate_complexity_score>
          <Function test_generate_complexity_recommendations>
          <Coroutine test_force_reprocess_ignores_cache>
          <Function test_orchestrator_initialization>
          <Coroutine test_process_language_service_failure>
          <Coroutine test_process_normalization_service_exception>
      <Module test_pattern_service.py>
        <Class TestPatternService>
          <Function test_name_pattern_creation>
          <Function test_generate_patterns_basic>
          <Function test_generate_patterns_empty_text>
          <Function test_generate_patterns_ukrainian>
          <Function test_generate_patterns_compound_name>
          <Function test_pattern_confidence_scoring>
          <Function test_pattern_types_variety>
          <Function test_pattern_metadata_inclusion>
          <Function test_special_characters_handling>
          <Function test_case_sensitivity_handling>
          <Function test_multilingual_pattern_generation>
          <Function test_performance_with_long_names>
          <Function test_error_handling_invalid_language>
          <Function test_pattern_uniqueness>
          <Function test_confidence_ordering>
          <Function test_empty_and_whitespace_handling>
          <Function test_numeric_and_special_content>
      <Module test_response_formatter.py>
        <Class TestResponseFormatter>
          <Function test_format_processing_result_with_decision>
          <Function test_format_processing_result_without_decision>
          <Function test_format_error_response>
          <Function test_extract_token_variants>
          <Function test_extract_token_variants_empty_trace>
          <Function test_get_risk_level_with_decision>
          <Function test_get_risk_level_without_decision>
          <Function test_get_risk_score_with_decision>
          <Function test_get_risk_score_without_decision>
          <Function test_get_decision_reasons_with_decision>
          <Function test_get_decision_reasons_without_decision>
          <Function test_get_decision_details_with_decision>
          <Function test_get_decision_details_without_decision>
          <Function test_extract_smart_filter_info_with_decision>
          <Function test_extract_smart_filter_info_without_decision>
          <Function test_extract_signals_summary_with_data>
          <Function test_extract_signals_summary_without_data>
          <Function test_response_structure_completeness>
      <Module test_run_service_script.py>
        <Class TestRunServiceScript>
          <Function test_check_python_version_valid>
          <Function test_check_python_version_invalid>
          <Function test_check_poetry_available>
          <Function test_check_poetry_not_available>
          <Function test_check_dependencies_success>
          <Function test_check_dependencies_failure>
          <Function test_check_dependencies_exception>
          <Function test_check_spacy_models_all_available>
          <Function test_check_spacy_models_some_missing_auto_install_success>
          <Function test_check_spacy_models_all_missing_no_auto_install>
          <Function test_run_service_success>
          <Function test_run_service_no_service_file>
          <Function test_run_service_exception>
          <Function test_main_all_checks_pass>
          <Function test_main_python_check_fails>
          <Function test_main_poetry_check_fails>
          <Function test_main_dependencies_check_fails>
          <Function test_main_models_check_fails>
        <Class TestRunServiceScriptIntegration>
          <Function test_script_imports_successfully>
          <Function test_script_has_main_guard>
          <Function test_checks_list_structure>
      <Module test_russian_morphology_unit.py>
        <Class TestRussianMorphologyAnalyzer>
          <Function test_analyze_word_basic>
          <Function test_gender_detection_male>
          <Function test_gender_detection_female>
          <Function test_declensions_generation>
          <Function test_diminutives_generation>
          <Function test_variants_generation>
          <Function test_transliterations_generation>
          <Function test_language_detection>
          <Function test_is_russian_name>
          <Function test_name_complexity>
          <Function test_phonetic_variants>
          <Function test_regional_transliterations>
          <Function test_analyze_name_basic>
          <Function test_analyze_name_with_language>
          <Function test_analyze_name_empty_input>
          <Function test_analyze_name_none_input>
          <Function test_analyze_name_whitespace_input>
          <Function test_analyze_name_special_characters>
          <Function test_analyze_name_numbers>
          <Function test_analyze_name_mixed_case>
          <Function test_analyze_name_very_long>
          <Function test_analyze_name_unicode_characters>
      <Module test_smart_filter_service.py>
        <UnitTestCase TestSmartFilterService>
          <TestCaseFunction test_analyze_payment_description>
          <TestCaseFunction test_date_only_text>
          <TestCaseFunction test_exclusion_patterns>
          <TestCaseFunction test_initialization>
          <TestCaseFunction test_initialization_with_terrorism_detection>
          <TestCaseFunction test_language_composition_analysis>
          <TestCaseFunction test_language_detection>
          <TestCaseFunction test_make_smart_decision>
          <TestCaseFunction test_service_words_cleaning>
          <TestCaseFunction test_should_process_text_empty>
          <TestCaseFunction test_should_process_text_excluded>
          <TestCaseFunction test_should_process_text_with_signals>
          <TestCaseFunction test_text_normalization>
        <UnitTestCase TestSmartFilterIntegration>
          <TestCaseFunction test_company_detection>
          <TestCaseFunction test_person_name_detection>
          <TestCaseFunction test_safe_content_handling>
      <Module test_smartfilter_aho.py>
        <Class TestSmartFilterAhoCorasickIntegration>
          <Function test_scenario_1_ac_disabled_petrov_no_context>
          <Function test_scenario_2_ac_enabled_with_document_pattern>
          <Function test_scenario_3_ac_enabled_nasa_no_trigger>
          <Function test_scenario_4_ac_enabled_petrov_with_context>
          <Function test_scenario_5_ac_verification_in_name_detector>
          <Function test_scenario_6_confidence_comparison_with_without_ac>
          <Function test_scenario_7_adapter_integration_ac_disabled>
          <Function test_scenario_8_adapter_integration_ac_enabled>
          <Function test_scenario_9_config_flag_behavior>
          <Function test_scenario_10_edge_cases>
      <Module test_template_builder.py>
        <Class TestTemplateBuilder>
          <Function test_template_creation>
          <Function test_entity_template_initialization>
          <Function test_entity_template_to_dict>
          <Function test_entity_template_to_dict_with_numpy_embeddings>
          <Function test_get_search_keywords>
          <Function test_get_high_confidence_patterns>
          <Function test_build_templates_batch>
          <Function test_build_templates_batch_with_embeddings>
          <Function test_build_templates_batch_error_handling>
          <Function test_calculate_complexity_score>
          <Function test_get_templates_statistics>
          <Function test_get_templates_statistics_empty>
          <Function test_export_templates_for_aho_corasick>
          <Function test_template_builder_error_handling>
          <Function test_complexity_score_edge_cases>
          <Function test_template_post_init>
      <Module test_terrorism_detector.py>
        <UnitTestCase TestTerrorismDetector>
          <TestCaseFunction test_create_empty_result>
          <TestCaseFunction test_detect_activity_patterns>
          <TestCaseFunction test_detect_financing_patterns>
          <TestCaseFunction test_detect_organization_patterns>
          <TestCaseFunction test_detect_terrorism_signals_empty>
          <TestCaseFunction test_detect_terrorism_signals_excluded_content>
          <TestCaseFunction test_detect_weapons_patterns>
          <TestCaseFunction test_determine_risk_level>
          <TestCaseFunction test_extract_detected_indicators>
          <TestCaseFunction test_get_risk_assessment>
          <TestCaseFunction test_initialization>
          <TestCaseFunction test_is_excluded_content>
        <UnitTestCase TestTerrorismDetectorSafety>
          <TestCaseFunction test_defensive_purpose_only>
          <TestCaseFunction test_false_positive_prevention>
          <TestCaseFunction test_pattern_weights_balance>
          <TestCaseFunction test_risk_escalation_thresholds>
        <UnitTestCase TestTerrorismDetectorIntegration>
          <TestCaseFunction test_comprehensive_threat_assessment>
          <TestCaseFunction test_defensive_system_requirements>
          <TestCaseFunction test_risk_assessment_workflow>
      <Module test_ukrainian_morphology.py>
        <Class TestUkrainianMorphologyAnalyzer>
          <Function test_gender_detection_for_ukrainian_names[\u0421\u0435\u0440\u0433\u0456\u0439-masc-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u041e\u043b\u0435\u043d\u0430-femn-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-masc-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u0414\u0430\u0440\u0456\u044f-femn-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u041f\u0435\u0442\u0440\u043e-masc-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u0410\u043d\u043d\u0430-femn-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u041c\u0438\u0445\u0430\u0439\u043b\u043e-masc-uk]>
          <Function test_gender_detection_for_ukrainian_names[\u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430-femn-uk]>
          <Function test_diminutives_generation>
          <Function test_transliteration_generation>
          <Function test_ukrainian_surname_endings[\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e-expected_endings0]>
          <Function test_ukrainian_surname_endings[\u0406\u0432\u0430\u043d\u0435\u043d\u043a\u043e-expected_endings1]>
          <Function test_ukrainian_surname_endings[\u041c\u0435\u043b\u044c\u043d\u0438\u043a-expected_endings2]>
          <Function test_ukrainian_surname_endings[\u0428\u0435\u0432\u0447\u0435\u043d\u043a\u043e-expected_endings3]>
          <Function test_edge_cases_handling[-expected_result0]>
          <Function test_edge_cases_handling[\u0410-expected_result1]>
          <Function test_edge_cases_handling[\u0421\u0435\u0440\u0433\u0456\u0439-expected_result2]>
          <Function test_ukrainian_character_detection[\u0421\u0435\u0440\u0433\u0456\u0439-expected_ukrainian_chars0]>
          <Function test_ukrainian_character_detection[\u041e\u043b\u0435\u043a\u0441\u0456\u0439-expected_ukrainian_chars1]>
          <Function test_ukrainian_character_detection[\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440-expected_ukrainian_chars2]>
          <Function test_ukrainian_character_detection[\u0414\u0430\u0440\u0456\u044f-expected_ukrainian_chars3]>
          <Function test_ukrainian_character_detection[\u041f\u0435\u0442\u0440\u043e-expected_ukrainian_chars4]>
          <Function test_name_complexity_analysis>
          <Function test_gender_correction_logic>
          <Function test_analyze_name_basic_functionality>
          <Function test_empty_name_handling>
          <Function test_short_name_handling>
          <Function test_auto_language_detection>
          <Function test_pymorphy3_initialization_success>
          <Function test_gender_exceptions_dictionary>
          <Function test_phonetic_variants_generation>
          <Function test_regional_transliterations>
          <Function test_get_all_forms_method>
          <Function test_is_ukrainian_name_detection>
          <Function test_complexity_level_calculation>
          <Function test_basic_transliteration>
          <Function test_language_detection_internal>
          <Function test_pymorphy_analysis_failure_handling>
          <Function test_generate_pymorphy_declensions>
          <Function test_extract_gender_with_name_tags>
          <Function test_extract_gender_by_endings>
          <Function test_apply_regional_transliteration>
          <Function test_whitespace_name_handling>
          <Function test_none_name_handling>
      <Module test_ukrainian_morphology_unit.py>
        <Class TestUkrainianMorphologyAnalyzer>
          <Function test_analyze_word_gender_detection_petro>
          <Function test_analyze_word_gender_detection_daria>
          <Function test_analyze_word_unknown_name>
          <Function test_analyze_word_short_name>
          <Function test_get_lemma_special_name>
          <Function test_get_lemma_unknown_name>
          <Function test_is_known_word_special_name>
          <Function test_is_known_word_unknown_name>
          <Function test_get_gender_special_name>
          <Function test_get_gender_unknown_name>
          <Function test_get_variants_special_name>
          <Function test_get_variants_unknown_name>
          <Function test_get_diminutives_special_name>
          <Function test_get_diminutives_unknown_name>
          <Function test_analyze_name_basic_functionality>
          <Function test_analyze_name_with_language_detection>
          <Function test_analyze_name_empty_string>
          <Function test_analyze_name_whitespace_only>
          <Function test_analyze_name_none_input>
          <Function test_analyze_name_special_characters>
          <Function test_analyze_name_numbers>
          <Function test_analyze_name_mixed_case>
          <Function test_analyze_name_very_long>
          <Function test_analyze_name_unicode_characters>
      <Module test_unicode_service.py>
        <Class TestUnicodeService>
          <Function test_aggressive_normalization_sao_paulo>
          <Function test_cyrillic_processing>
          <Function test_empty_text_handling>
          <Function test_none_text_handling>
          <Function test_complex_mappings_applied>
          <Function test_confidence_calculation>
          <Function test_batch_normalization>
          <Function test_similarity_score>
          <Function test_encoding_issues_detection>
          <Function test_final_cleanup>
          <Function test_preserve_chars_functionality>
          <Function test_unicode_normalization_nfd_nfkc>
          <Function test_ascii_folding_failure_handling>
          <Function test_unicode_normalization_failure_handling>
          <Function test_length_metadata>
          <Function test_case_normalization>
          <Function test_german_umlauts_handling>
      <Module test_unified_contracts.py>
        <Class TestTokenTrace>
          <Function test_token_trace_creation>
          <Function test_token_trace_with_morphology>
          <Function test_token_trace_serialization>
        <Class TestNormalizationResult>
          <Function test_normalization_result_basic>
          <Function test_normalization_result_with_metadata>
          <Function test_normalization_result_serialization>
        <Class TestSignalsContracts>
          <Function test_signals_person>
          <Function test_signals_organization>
          <Function test_signals_result>
        <Class TestSmartFilterResult>
          <Function test_smart_filter_result_basic>
          <Function test_smart_filter_classifications>
        <Class TestUnifiedProcessingResult>
          <Function test_unified_result_complete>
          <Function test_unified_result_serialization>
          <Function test_unified_result_backward_compatibility>
        <Class TestProcessingContext>
          <Function test_processing_context_basic>
        <Class TestContractCompatibility>
          <Function test_contract_chain_compatibility>
      <Module test_unified_orchestrator.py>
        <Class TestUnifiedOrchestrator>
          <Coroutine test_complete_pipeline>
          <Coroutine test_normalization_flags_passed_correctly>
          <Coroutine test_smart_filter_skip_behavior>
          <Coroutine test_optional_services_disabled>
          <Coroutine test_error_handling>
          <Coroutine test_performance_warning>
          <Coroutine test_backward_compatibility_methods>
          <Coroutine test_signals_integration>
          <Coroutine test_trace_preservation>
          <Coroutine test_language_hint>
          <Coroutine test_result_serialization>
        <Class TestUnifiedOrchestratorConstructor>
          <Function test_constructor_with_valid_services>
          <Function test_constructor_with_none_validation_service>
          <Function test_constructor_with_none_language_service>
          <Function test_constructor_with_none_unicode_service>
          <Function test_constructor_with_none_normalization_service>
          <Function test_constructor_with_none_signals_service>
          <Function test_constructor_with_optional_services_none>
        <Class TestUnifiedOrchestratorEdgeCases>
          <Coroutine test_empty_input>
          <Coroutine test_service_initialization_failure>
      <Module test_variant_generation_service.py>
        <Class TestVariantGenerationService>
          <Function test_transliteration_variants_grigoriy>
          <Function test_compound_surname_processing>
          <Function test_basic_transliteration_functionality>
          <Function test_multiple_transliteration_standards>
          <Function test_phonetic_variants_generation>
          <Function test_visual_similarities_generation>
          <Function test_typo_variants_generation>
          <Function test_comprehensive_variants_generation>
          <Function test_empty_text_handling>
          <Function test_none_text_handling>
          <Function test_max_variants_limit>
          <Function test_language_specific_processing>
          <Function test_find_best_matches_functionality>
          <Function test_similarity_calculation>
          <Function test_keyboard_layout_variants>
          <Function test_morphological_variants_integration>
          <Function test_morphological_variants_mocked>
          <Function test_processing_statistics>
          <Function test_duplicate_removal>
          <Function test_case_preservation_and_normalization>
          <Function test_special_characters_handling>
          <Function test_performance_with_long_names>
          <Function test_error_handling_in_transliteration>
          <Function test_variant_scores_match_config>
      <Package text_processing>
        <Module test_flags_behavior.py>
          <Class TestFlagsBehavior>
            <Function test_remove_stop_words_false>
            <Function test_remove_stop_words_true>
            <Function test_preserve_names_false>
            <Function test_preserve_names_true>
            <Function test_enable_advanced_features_false_slavic>
            <Function test_enable_advanced_features_true_slavic>
            <Function test_enable_advanced_features_false_english>
            <Function test_enable_advanced_features_true_english>
            <Function test_initial_cleanup_still_works_with_flags>
            <Function test_all_flags_false>
            <Function test_all_flags_true>
        <Module test_language_detection_service.py>
          <Class TestLanguageDetectionService>
            <Function test_ukrainian_priority_detection>
            <Function test_fallback_logic_ambiguous_text>
            <Function test_empty_text_handling>
            <Function test_whitespace_only_text>
            <Function test_quick_patterns_english>
            <Function test_quick_patterns_russian>
            <Function test_quick_patterns_ukrainian>
            <Function test_langdetect_fallback>
            <Function test_langdetect_exception_handling>
            <Function test_fallback_cyrillic_ukrainian_specific>
            <Function test_fallback_cyrillic_russian_specific>
            <Function test_fallback_cyrillic_patterns>
            <Function test_fallback_latin_only>
            <Function test_batch_detection>
            <Function test_detection_statistics>
            <Function test_reset_statistics>
            <Function test_supported_languages>
            <Function test_is_language_supported>
            <Function test_add_language_mapping>
            <Function test_add_invalid_language_mapping>
            <Function test_confidence_scores_limit>
            <Function test_language_mapping_coverage>
            <Function test_no_fallback_option>
            <Function test_original_detected_language_preservation>
        <Module test_normalization_logic.py>
          <Function test_ukrainian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u043f\u043e\u0441\u043b\u0443\u0433\u0438, \u043f\u043b\u0430\u0442\u043d\u0438\u043a \u041f\u0435\u0442\u0440\u0438\u043a \u041f.-\u041f\u0435\u0442\u0440\u043e \u041f.]>
          <Function test_ukrainian_full_normalization[\u0414\u043b\u044f \u041f\u0435\u0442\u0440\u0443\u0441\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430, \u0437\u0430 \u0440\u0435\u043c\u043e\u043d\u0442-\u041f\u0435\u0442\u0440\u043e \u0406\u0432\u0430\u043d\u043e\u0432]>
          <Function test_ukrainian_full_normalization[\u041f\u0435\u0440\u0435\u043a\u0430\u0437 \u0432\u0456\u0434 \u0412\u043e\u0432\u0447\u0438\u043a\u0430 \u0417\u0435\u043b\u0435\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0412. \u041e.-\u0412\u043e\u043b\u043e\u0434\u0438\u043c\u0438\u0440 \u0417\u0435\u043b\u0435\u043d\u0441\u044c\u043a\u0438\u0439 \u0412. \u041e.]>
          <Function test_ukrainian_full_normalization[\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u0414\u0430\u0448\u0435\u043d\u044c\u043a\u0438 \u041a\u0432\u0456\u0442\u043a\u043e\u0432\u043e\u0457-\u0414\u0430\u0440\u0456\u044f \u041a\u0432\u0456\u0442\u043a\u043e\u0432\u0430]>
          <Function test_ukrainian_full_normalization[\u0412\u0456\u0434 \u0421\u0430\u0448\u043a\u0430 \u041f\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u044c\u043a\u043e\u0433\u043e \u0437\u0430 \u043a\u0432\u0438\u0442\u043a\u0438-\u041e\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u043e\u043b\u043e\u0436\u0438\u043d\u0441\u044c\u043a\u0438\u0439]>
          <Function test_ukrainian_full_normalization[\u0414\u043b\u044f \u0416\u0435\u043d\u0456 \u0413\u0430\u043b\u0438\u0447\u0430 \u0437 \u0433\u0440\u0443\u043f\u0438 O.Torvald-\u0404\u0432\u0433\u0435\u043d \u0413\u0430\u043b\u0438\u0447]>
          <Function test_ukrainian_full_normalization[\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0421\u0435\u0440\u0433\u0456\u0454\u0432\u0456 \u0416\u0430\u0434\u0430\u043d\u0443 \u0437\u0430 \u0442\u0432\u043e\u0440\u0447\u0456\u0441\u0442\u044c-\u0421\u0435\u0440\u0433\u0456\u0439 \u0416\u0430\u0434\u0430\u043d]>
          <Function test_ukrainian_full_normalization[\u0417\u0443\u0441\u0442\u0440\u0456\u0447 \u0437 \u041b\u0456\u043d\u043e\u044e \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e-\u041b\u0456\u043d\u0430 \u041a\u043e\u0441\u0442\u0435\u043d\u043a\u043e]>
          <Function test_ukrainian_full_normalization[\u041f\u043e\u0434\u0430\u0440\u0443\u043d\u043e\u043a \u0434\u043b\u044f \u041e\u043a\u0441\u0430\u043d\u0438 \u0417\u0430\u0431\u0443\u0436\u043a\u043e-\u041e\u043a\u0441\u0430\u043d\u0430 \u0417\u0430\u0431\u0443\u0436\u043a\u043e]>
          <Function test_ukrainian_full_normalization[\u0420\u043e\u0437\u043c\u043e\u0432\u043b\u044f\u0432 \u0437 \u0412\u0430\u043b\u0435\u0440\u0456\u0454\u043c \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u043c-\u0412\u0430\u043b\u0435\u0440\u0456\u0439 \u0417\u0430\u043b\u0443\u0436\u043d\u0438\u0439]>
          <Function test_ukrainian_full_normalization[\u041f\u043b\u0442\u0456\u0436 \u0432\u0456\u0434 \u0412'\u044f\u0447\u0435\u0441\u043b\u0430\u0432\u0430 \u0432\u0430\u043a\u0430\u0440\u0447\u0443\u043a\u0430 (\u043e\u043a\u0435\u0430\u043d \u0435\u043b\u044c\u0437\u0438)-\u0412'\u044f\u0447\u0435\u0441\u043b\u0430\u0432 \u0412\u0430\u043a\u0430\u0440\u0447\u0443\u043a]>
          <Function test_ukrainian_full_normalization[\u041f\u0435\u0440\u0435\u043a\u0430\u0437 \u041e\u041b\u0415\u0413\u0423 \u0421\u041a\u0420\u0418\u041f\u0426\u0406-\u041e\u043b\u0435\u0433 \u0421\u043a\u0440\u0438\u043f\u043a\u0430]>
          <Function test_ukrainian_full_normalization[\u0414\u043b\u044f \u0406\u0432\u0430\u043d\u043e\u0432\u0430-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u0430 \u0421.\u0412.-\u0406\u0432\u0430\u043d\u043e\u0432-\u041f\u0435\u0442\u0440\u0435\u043d\u043a\u043e \u0421.\u0412.]>
          <Function test_russian_full_normalization[\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u043e\u0442 \u0421\u0430\u0448\u0438 \u041f\u0443\u0448\u043a\u0438\u043d\u0430 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447\u0430-\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041f\u0443\u0448\u043a\u0438\u043d \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440\u043e\u0432\u0438\u0447]>
          <Function test_russian_full_normalization[\u041e\u043f\u043b\u0430\u0442\u0430 \u0434\u043b\u044f \u0412\u043e\u043b\u043e\u0434\u0438 \u0412\u044b\u0441\u043e\u0446\u043a\u043e\u0433\u043e-\u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440 \u0412\u044b\u0441\u043e\u0446\u043a\u0438\u0439]>
          <Function test_russian_full_normalization[\u041f\u043b\u0430\u0442\u0451\u0436 \u043e\u0442 \u0414\u0438\u043c\u044b \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432\u0430-\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041c\u0435\u0434\u0432\u0435\u0434\u0435\u0432]>
          <Function test_russian_full_normalization[\u0414\u043b\u044f \u0410\u043b\u043b\u044b \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u044b \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u043e\u0439-\u0410\u043b\u043b\u0430 \u0411\u043e\u0440\u0438\u0441\u043e\u0432\u043d\u0430 \u041f\u0443\u0433\u0430\u0447\u0435\u0432\u0430]>
          <Function test_russian_full_normalization[\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u041f\u0435\u0442\u0440\u0443 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443-\u041f\u0435\u0442\u0440 \u0427\u0430\u0439\u043a\u043e\u0432\u0441\u043a\u0438\u0439]>
          <Function test_russian_full_normalization[\u0412\u0441\u0442\u0440\u0435\u0447\u0430 \u0441 \u0410\u043d\u043d\u043e\u0439 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u043e\u0439-\u0410\u043d\u043d\u0430 \u0410\u0445\u043c\u0430\u0442\u043e\u0432\u0430]>
          <Function test_russian_full_normalization[\u041f\u0435\u0440\u0435\u0432\u043e\u0434 \u0441\u0440\u0435\u0434\u0441\u0442\u0432 \u0418\u0432\u0430\u043d\u0443 \u0411\u0443\u043d\u0438\u043d\u0443-\u0418\u0432\u0430\u043d \u0411\u0443\u043d\u0438\u043d]>
          <Function test_russian_full_normalization[\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043b\u044f \u0415\u0441\u0435\u043d\u0438\u043d\u0430 \u0421. \u0410.-\u0415\u0441\u0435\u043d\u0438\u043d \u0421. \u0410.]>
          <Function test_russian_full_normalization[\u0417\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043e\u0442 \u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432\u0430 \u041c.\u042e.-\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432 \u041c.\u042e.]>
          <Function test_english_full_normalization[Payment from John Fitzgerald Kennedy-John Fitzgerald Kennedy]>
          <Function test_english_full_normalization[Transfer to Stephen E. King for services-Stephen E. King]>
          <Function test_english_full_normalization[For Mr. Sherlock Holmes, Baker st. 221b-Sherlock Holmes]>
          <Function test_english_full_normalization[Refund to Ms. Joanna Rowling-Joanna Rowling]>
          <Function test_english_full_normalization[From Bill Gates for charity-William Gates]>
          <Function test_english_full_normalization[For Liz Truss, former PM-Elizabeth Truss]>
          <Function test_english_full_normalization[Payment from Mike Johnson-Michael Johnson]>
          <Function test_english_full_normalization[Sent to ELON MUSK for X corp-Elon Musk]>
          <Function test_english_full_normalization[For BARACK H. OBAMA, invoice 123-Barack H. Obama]>
        <Module test_normalization_result_fields.py>
          <Class TestNormalizationResultFields>
            <Function test_normalization_result_metadata_fields>
            <Function test_normalization_result_tokens>
            <Function test_normalization_result_extra_fields_allowed>
            <Function test_normalization_result_basic_serialization>
        <Module test_normalization_service.py>
          <Class TestNormalizationService>
            <Function test_initialization>
            <Function test_normalize_english_text>
            <Function test_normalize_russian_text>
            <Function test_normalize_ukrainian_text>
            <Function test_normalize_with_fallback>
            <Function test_normalize_with_auto_language_detection>
            <Function test_normalize_person_names>
            <Function test_normalize_russian_names>
            <Function test_normalize_ukrainian_names>
            <Function test_normalize_with_initials>
            <Function test_normalize_empty_text>
            <Function test_normalize_whitespace_only>
            <Function test_normalize_with_special_characters>
            <Function test_normalize_with_numbers>
            <Function test_normalize_sync_method>
            <Function test_normalize_async_method>
            <Function test_normalize_with_flags>
            <Function test_normalize_error_handling>
            <Function test_normalize_result_structure>
            <Function test_normalize_with_complex_text>
            <Function test_normalize_russian_complex_text>
            <Function test_normalize_ukrainian_complex_text>
          <Class TestNormalizationServiceConfiguration>
            <Function test_service_has_required_attributes>
            <Function test_service_has_required_methods>
            <Function test_morph_analyzers_initialization>
            <Function test_name_dictionaries_initialization>
            <Function test_diminutive_maps_initialization>
          <Class TestNormalizationResult>
            <Function test_normalization_result_creation>
            <Function test_normalization_result_error_case>
        <Module test_normalization_service_fixed.py>
          <Class TestNormalizationService>
            <Function test_initialization>
            <Function test_normalize_english_text>
            <Function test_normalize_russian_text>
            <Function test_normalize_ukrainian_text>
            <Function test_normalize_with_fallback>
            <Function test_normalize_with_auto_language_detection>
            <Function test_normalize_person_names>
            <Function test_normalize_russian_names>
            <Function test_normalize_ukrainian_names>
            <Function test_normalize_with_initials>
            <Function test_normalize_empty_text>
            <Function test_normalize_whitespace_only>
            <Function test_normalize_with_special_characters>
            <Function test_normalize_with_numbers>
            <Function test_normalize_sync_method>
            <Function test_normalize_async_method>
            <Function test_normalize_with_flags>
            <Function test_normalize_error_handling>
            <Function test_normalize_result_structure>
            <Function test_normalize_with_complex_text>
            <Function test_normalize_russian_complex_text>
            <Function test_normalize_ukrainian_complex_text>
          <Class TestNormalizationServiceConfiguration>
            <Function test_service_has_required_attributes>
            <Function test_service_has_required_methods>
            <Function test_morph_analyzers_initialization>
            <Function test_name_dictionaries_initialization>
            <Function test_diminutive_maps_initialization>
          <Class TestNormalizationResult>
            <Function test_normalization_result_creation>
            <Function test_normalization_result_error_case>
        <Module test_normalization_service_old.py>
          <Class TestNormalizationService>
            <Function test_initialization>
            <Function test_normalize_english_text>
            <Function test_normalize_russian_text>
            <Function test_normalize_ukrainian_text>
            <Function test_tokenize_text_fallback_to_nltk>
            <Function test_tokenize_text_basic_fallback>
            <Function test_remove_stop_words_english>
            <Function test_remove_stop_words_russian>
            <Function test_remove_stop_words_fallback>
            <Function test_apply_stemming_english>
            <Function test_apply_stemming_russian>
            <Function test_apply_stemming_ukrainian>
            <Function test_apply_stemming_fallback>
            <Function test_apply_lemmatization_english>
            <Function test_apply_lemmatization_russian>
            <Function test_apply_lemmatization_fallback>
            <Coroutine test_normalize_success>
            <Coroutine test_normalize_without_optional_processing>
            <Coroutine test_normalize_ukrainian_with_forms>
            <Coroutine test_normalize_empty_text>
            <Coroutine test_normalize_whitespace_only>
            <Coroutine test_normalize_unicode_error>
            <Coroutine test_normalize_language_detection_error>
            <Coroutine test_normalize_processing_error>
          <Class TestNormalizationServiceEdgeCases>
            <Coroutine test_normalize_very_long_text>
            <Coroutine test_normalize_special_characters>
            <Coroutine test_normalize_mixed_languages>
            <Coroutine test_normalize_unsupported_language>
            <Coroutine test_ukrainian_normalization_basic>
          <Class TestNormalizationServiceConfiguration>
            <Function test_initialization_without_spacy>
            <Function test_initialization_without_nltk>
            <Coroutine test_initialization_minimal_dependencies>
            <Coroutine test_cache_functionality>
          <Class TestNormalizationResult>
            <Function test_normalization_result_creation>
            <Function test_normalization_result_error_case>
        <Module test_org_acronyms_filter.py>
          <Class TestOrgAcronymsFilter>
            <Function test_org_acronyms_are_tagged_as_unknown>
            <Function test_org_acronyms_not_in_normalized_output>
            <Function test_person_tokens_survive>
            <Function test_various_org_acronyms_are_filtered>
            <Function test_org_acronyms_case_insensitive>
            <Function test_org_acronyms_excluded_from_positional_fallbacks>
            <Function test_mixed_content_with_org_acronyms>
            <Function test_org_acronyms_constant_contains_expected_values>
        <Module test_role_tagging_extended.py>
          <Class TestExtendedRoleTagging>
            <Function test_multi_initial_splitting>
            <Function test_triple_initial_splitting>
            <Function test_enhanced_patronymic_patterns_male>
            <Function test_enhanced_patronymic_patterns_female>
            <Function test_enhanced_surname_patterns_enko>
            <Function test_enhanced_surname_patterns_ov_ova>
            <Function test_enhanced_surname_patterns_sky_ska>
            <Function test_new_surname_patterns_yan>
            <Function test_new_surname_patterns_dze>
            <Function test_conservative_unknown_tagging>
            <Function test_positional_heuristics_still_work>
            <Function test_integration_with_organization_roles>
            <Function test_sentence_with_org_and_people>
        <Module test_unicode_service.py>
          <Class TestUnicodeService>
            <Function test_aggressive_normalization_sao_paulo>
            <Function test_cyrillic_processing>
            <Function test_empty_text_handling>
            <Function test_none_text_handling>
            <Function test_complex_mappings_applied>
            <Function test_confidence_calculation>
            <Function test_batch_normalization>
            <Function test_similarity_score>
            <Function test_encoding_issues_detection>
            <Function test_final_cleanup>
            <Function test_preserve_chars_functionality>
            <Function test_unicode_normalization_nfd_nfkc>
            <Function test_ascii_folding_failure_handling>
            <Function test_unicode_normalization_failure_handling>
            <Function test_length_metadata>
            <Function test_case_normalization>
            <Function test_german_umlauts_handling>
        <Module test_variant_generation_service.py>
          <Class TestVariantGenerationService>
            <Function test_transliteration_variants_grigoriy>
            <Function test_compound_surname_processing>
            <Function test_basic_transliteration_functionality>
            <Function test_multiple_transliteration_standards>
            <Function test_phonetic_variants_generation>
            <Function test_visual_similarities_generation>
            <Function test_typo_variants_generation>
            <Function test_comprehensive_variants_generation>
            <Function test_empty_text_handling>
            <Function test_none_text_handling>
            <Function test_max_variants_limit>
            <Function test_language_specific_processing>
            <Function test_find_best_matches_functionality>
            <Function test_similarity_calculation>
            <Function test_keyboard_layout_variants>
            <Function test_morphological_variants_integration>
            <Function test_morphological_variants_mocked>
            <Function test_processing_statistics>
            <Function test_duplicate_removal>
            <Function test_case_preservation_and_normalization>
            <Function test_special_characters_handling>
            <Function test_performance_with_long_names>
            <Function test_error_handling_in_transliteration>
            <Function test_variant_scores_match_config>
      <Dir unicode>
        <Module test_apostrophe_normalization.py>
          <Class TestApostropheNormalization>
            <Function test_ukrainian_apostrophes_unification>
            <Function test_compound_names_normalization>
            <Function test_irish_names_apostrophes>
            <Function test_company_quotes_unification>
            <Function test_mixed_apostrophes_in_text>
            <Function test_preserve_meaningful_punctuation>
            <Function test_confidence_calculation_with_replacements>
            <Function test_batch_normalization_consistency>
            <Function test_similarity_after_normalization>
            <Function test_encoding_recovery_with_apostrophes>
            <Function test_performance_with_many_replacements>
            <Function test_edge_cases_empty_and_none>
        <Module test_unicode_service_comprehensive.py>
          <Class TestUnicodeService>
            <Function test_initialization>
            <Function test_normalize_text_basic>
            <Function test_normalize_text_cyrillic_mapping>
            <Function test_normalize_text_latin_diacritics>
            <Function test_normalize_text_aggressive_mode>
            <Function test_normalize_text_mixed_scripts>
            <Function test_unicode_nfc_normalization>
            <Function test_encoding_recovery>
            <Function test_whitespace_normalization>
            <Function test_invisible_characters_removal>
            <Function test_homoglyph_handling>
            <Function test_preserve_cyrillic_characters>
            <Function test_edge_cases>
            <Function test_long_text_handling>
            <Function test_character_mapping_completeness>
            <Function test_normalization_consistency>
            <Function test_normalization_with_numbers_and_punctuation>
            <Function test_different_normalization_forms>
            <Function test_rtl_and_bidi_text>
          <Class TestUnicodeServiceIntegration>
            <Function test_real_world_name_normalization>
            <Function test_payment_text_normalization>
            <Function test_normalization_preserves_structure>
            <Function test_aggressive_vs_conservative_mode[True]>
            <Function test_aggressive_vs_conservative_mode[False]>
      <Package utilities>
        <Module test_cache_service.py>
          <Class TestCacheService>
            <Function test_basic_set_get>
            <Function test_get_nonexistent_key>
            <Function test_lru_eviction>
            <Coroutine test_ttl_expiration>
            <Function test_statistics>
            <Function test_get_or_set_cache_hit>
            <Function test_get_or_set_cache_miss>
            <Function test_clear_cache>
            <Function test_exists_method>
            <Coroutine test_exists_with_expired_key>
            <Function test_touch_method>
            <Function test_touch_nonexistent_key>
            <Function test_cleanup_expired>
            <Function test_set_max_size>
            <Function test_get_keys>
            <Function test_memory_usage_estimation>
            <Function test_generate_key_method>
            <Function test_lru_logic_with_access>
        <Module test_canary_overfit.py>
          <Class TestCanaryOverfit>
            <Function test_context_words_never_become_names>
            <Function test_ukrainian_context_words>
            <Function test_russian_context_words>
            <Function test_english_context_words>
            <Function test_mixed_language_context_words>
            <Function test_positional_heuristics_blocked_for_context_words>
        <Module test_edge_cases_comprehensive.py>
          <Class TestUnicodeServiceEdgeCases>
            <Function test_normalize_text_with_homoglyphs>
            <Function test_normalize_text_with_zero_width_characters>
            <Function test_normalize_text_with_surrogate_pairs>
            <Function test_normalize_text_with_combining_characters>
            <Function test_normalize_text_with_malformed_utf8>
            <Function test_normalize_text_with_rtl_text>
          <Class TestLanguageDetectionEdgeCases>
            <Function test_detect_language_very_short_text>
            <Function test_detect_language_numbers_only>
            <Function test_detect_language_symbols_only>
            <Function test_detect_language_mixed_scripts>
            <Function test_detect_language_code_snippets>
            <Function test_detect_language_with_html_tags>
          <Class TestCacheServiceEdgeCases>
            <Function test_cache_with_complex_objects>
            <Function test_cache_key_collision_with_similar_keys>
            <Function test_cache_overflow_handling>
            <Function test_cache_with_zero_ttl>
            <Function test_cache_with_negative_ttl>
          <Class TestCustomExceptionHandling>
            <Function test_validation_api_error_creation>
            <Function test_validation_api_error_with_details>
            <Function test_internal_server_error_creation>
            <Function test_service_unavailable_error_creation>
            <Function test_exception_chaining>
          <Class TestResourceCleanupAndMemoryManagement>
            <Function test_service_cleanup_on_deletion>
            <Function test_large_object_caching_memory_usage>
            <Function test_concurrent_access_resource_safety>
        <Module test_flags_ab_strict.py>
          <Function test_enable_advanced_features_false_no_morph>
          <Function test_preserve_names_false_splits_apostrophe>
          <Function test_remove_stop_words_false_keeps_stopwords>
        <Module test_input_validation.py>
          <Class TestInputValidator>
            <Function test_valid_text_processing>
            <Function test_homoglyph_replacement>
            <Function test_zero_width_character_removal>
            <Function test_control_character_removal>
            <Function test_suspicious_pattern_detection>
            <Function test_strict_mode_blocking>
            <Function test_text_length_limiting>
            <Function test_empty_text_handling>
            <Function test_unicode_normalization>
            <Function test_sanctions_input_validation>
            <Function test_sanctions_input_missing_required_field>
            <Function test_sanctions_input_with_malicious_content>
            <Function test_suspicion_analysis_high_zero_width>
            <Function test_suspicion_analysis_high_homoglyph_ratio>
            <Function test_non_string_input_raises_error>
            <Function test_whitespace_normalization>
            <Function test_url_encoding_detection>
            <Function test_html_entity_detection>
            <Function test_unicode_normalization_failure>
            <Function test_input_validator_global_instance>
          <Class TestValidationResult>
            <Function test_validation_result_creation>
        <Module test_name_dictionaries_validation.py>
          <Class TestNameDictionariesValidation>
            <Function test_russian_names_no_internal_duplicates>
            <Function test_ukrainian_names_no_internal_duplicates>
            <Function test_english_names_no_internal_duplicates>
            <Function test_no_cross_dictionary_duplicates>
            <Function test_additional_english_names_consistency>
            <Function test_dictionaries_statistics>
            <Function test_name_data_structure>
        <Module test_pattern_service.py>
          <Class TestUnifiedPatternService>
            <Function test_unified_pattern_creation>
            <Function test_generate_patterns_basic>
            <Function test_generate_patterns_empty_text>
            <Function test_generate_patterns_ukrainian>
            <Function test_generate_patterns_compound_name>
            <Function test_pattern_confidence_scoring>
            <Function test_pattern_types_variety>
            <Function test_pattern_metadata_inclusion>
            <Function test_special_characters_handling>
            <Function test_case_sensitivity_handling>
            <Function test_multilingual_pattern_generation>
            <Function test_performance_with_long_names>
            <Function test_error_handling_invalid_language>
            <Function test_pattern_uniqueness>
            <Function test_confidence_ordering>
            <Function test_empty_and_whitespace_handling>
            <Function test_numeric_and_special_content>
      <Dir validation>
        <Module test_validation_service.py>
          <Class TestValidationService>
            <Function test_initialization>
            <Coroutine test_initialize_success>
            <Coroutine test_initialize_failure>
            <Coroutine test_validate_and_sanitize_not_initialized>
            <Coroutine test_validate_and_sanitize_success>
            <Coroutine test_validate_and_sanitize_invalid_input>
            <Coroutine test_validate_and_sanitize_exception_handling>
            <Coroutine test_validate_and_sanitize_empty_text>
            <Coroutine test_validate_and_sanitize_long_text>
            <Coroutine test_validate_and_sanitize_none_input>
            <Coroutine test_validate_with_risk_levels>
            <Coroutine test_validate_with_blocked_patterns>
            <Coroutine test_validate_with_warnings>
            <Coroutine test_interface_compliance>

[32m======================== [32m1833 tests collected[0m[32m in 10.54s[0m[32m ========================[0m
